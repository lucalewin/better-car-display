
<!-- saved from url=(0050)https://milek7.pl/.stuff/galdocs/huig13_cache.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>body{margin-left:0;margin-right:0;margin-top:0}#bN015htcoyT__google-cache-hdr{background:#f8f9fa;font:13px arial,sans-serif;text-align:left;color:#202124;border:0;margin:0;border-bottom:1px solid #dadce0;line-height:16px;padding:16px 28px 24px 28px}#bN015htcoyT__google-cache-hdr *{display:inline;font:inherit;text-align:inherit;color:inherit;line-height:inherit;background:none;border:0;margin:0;padding:0;letter-spacing:0}#bN015htcoyT__google-cache-hdr a{text-decoration:none;color:#1a0dab}#bN015htcoyT__google-cache-hdr a:hover{text-decoration:underline}#bN015htcoyT__google-cache-hdr a:visited{color:#4b11a8}#bN015htcoyT__google-cache-hdr div{display:block;margin-top:4px}#bN015htcoyT__google-cache-hdr b{font-weight:bold;display:inline-block;direction:ltr}</style></head><body vlink="blue" link="blue" bgcolor="#ffffff"><div id="bN015htcoyT__google-cache-hdr"><div><span>To jest wersja html pliku <a href="http://docs.ulmt.com/Android/Android%20Auto%20Protocol%201.3.pdf">http://docs.ulmt.com/Android/Android%20Auto%20Protocol%201.3.pdf</a>. Google automatycznie generuje wersję html dokumentu podczas indeksowania internetu.</span></div><span style="display:inline-block;margin-top:8px;color:#70757a"><span>Wskazówka: aby szybko znaleźć wyszukiwane hasło na stronie, naciśnij <b>Ctrl+F</b> lub <b>⌘-F</b> (Mac) i użyj paska wyszukiwania.</span></span></div><div style="position:relative;">


<meta name="Creator" content="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.82 Safari/537.36">
<meta name="Producer" content="Skia/PDF m52">
<meta name="CreationDate" content="D:20160810212431+00&#39;00&#39;">
<meta name="ModDate" content="D:20160810212431+00&#39;00&#39;">
<title>Head  Unit  Integration  Guide&nbsp;</title>

<table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="1"><b>Page 1</b></a></font></td></tr></tbody></table><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:266;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:292;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:330;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:368;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:406;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:444;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:483;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="5" face="Times" color="#666666"><span style="font-size:34px;font-family:Times;color:#666666">
<div style="position:absolute;top:576;left:774"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="6" face="Times" color="#666666"><span style="font-size:43px;font-family:Times;color:#666666">
<div style="position:absolute;top:647;left:168"><nobr>Head  Unit  Integration  Guide&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:708;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:745;left:405"><nobr>Version  1.3.0&nbsp;</nobr></div>
<div style="position:absolute;top:783;left:358"><nobr>Last  Updated:  2016-08-10&nbsp;</nobr></div>
<div style="position:absolute;top:821;left:318"><nobr><b>Google  Confidential  &amp;  Proprietary</b>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#ff0000"><span style="font-size:12px;font-family:Times;color:#ff0000">
<div style="position:absolute;top:860;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#666666"><span style="font-size:12px;font-family:Times;color:#666666">
<div style="position:absolute;top:896;left:453"><nobr><b>&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:932;left:453"><nobr><b>&nbsp;</b></nobr></div>
<div style="position:absolute;top:968;left:453"><nobr><b>&nbsp;</b></nobr></div>
</span></font>
<font size="2" face="Times"><span style="font-size:8px;font-family:Times">
<div style="position:absolute;top:1003;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:1033;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:1061;left:108"><nobr><b>&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:1100;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:1138;left:108"><nobr><b>&nbsp;</b></nobr></div>
<div style="position:absolute;top:1138;left:221"><nobr><b>&nbsp;</b></nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:8px;font-family:Times;color:#434343">
<div style="position:absolute;top:1286;left:176"><nobr>©  2015  Google, 
 Inc.  All  Rights  Reserved.  No  express  or  implied  warranties  are
  provided  for  herein.  All  specifications  are  subject  to&nbsp;</nobr></div>
<div style="position:absolute;top:1300;left:176"><nobr>change  and  any 
 expected  future  products,  features  or  functionality  will  be  
provided  on  an  if  and  when  available  basis.<font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>

<div style="position:absolute;top:1363;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="2"><b>Page 2</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:1454;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:1475;left:108"><nobr>Table  of  Contents&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:1527;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#5">Introduction</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:1576;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#5">About  Android  Auto  Projection  (AAP)&nbsp;</a></nobr></div>
<div style="position:absolute;top:1606;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#6">Channels&nbsp;</a></nobr></div>
<div style="position:absolute;top:1637;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#7">Mobile  Device</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1667;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#7">Head  Unit</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1698;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#7">Conventions</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1728;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#8">Head  Unit  Requirements</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1758;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#9">Screen  Support&nbsp;</a></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:1796;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#11">AAP  Integration</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:1844;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#11">Receiver  Library  and  Protocol  Versions</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1874;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#11">AAP  Receiver  Library</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1905;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#11">OS  Adaptation  Layer</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1935;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#12">Software  Requirements</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1965;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#12">AAP  Receiver  Interfaces&nbsp;</a></nobr></div>
<div style="position:absolute;top:1996;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#12">Version  Compatibility&nbsp;</a></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:2034;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#13">Establishing  AAP  Connections</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:2081;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#13">Overview&nbsp;</a></nobr></div>
<div style="position:absolute;top:2112;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#15">Connect  AAP&nbsp;</a></nobr></div>
<div style="position:absolute;top:2142;left:168"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#15">Service  Discovery</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2172;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#17">Manage  Applications&nbsp;</a></nobr></div>
<div style="position:absolute;top:2203;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#17">Connect  Bluetooth</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2233;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#18">Grant  Video  Focus  to  MD  on  request</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2263;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#18">Run  Tutorial</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2294;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#18">Run  Disclaimers</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2324;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#18">Start  Android  Auto  UI</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2355;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#19">Setting  Up  Transport</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2385;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#19">Universal  Serial  Bus  (USB)</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2405;left:114"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:1528;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#19">Configuring  AOAP</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1558;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#20">USB  Mode  Selection&nbsp;</a></nobr></div>
<div style="position:absolute;top:1588;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#20">Head  Unit  Responsibilities</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1619;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#21">Mobile  Device  Responsibilities&nbsp;</a></nobr></div>
<div style="position:absolute;top:1649;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#21">USB  Charging&nbsp;</a></nobr></div>
<div style="position:absolute;top:1680;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#21">Authenticating</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1710;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#21">Authentication  Certificates&nbsp;</a></nobr></div>
<div style="position:absolute;top:1740;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#22">Authentication  Sequence</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1771;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#23">Setting  Up  Bluetooth&nbsp;</a></nobr></div>
<div style="position:absolute;top:1801;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#23">Bluetooth  Pairing  &amp;  Connection&nbsp;</a></nobr></div>
<div style="position:absolute;top:1831;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#24">BluetoothService  Announcement&nbsp;</a></nobr></div>
<div style="position:absolute;top:1862;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#24">Protocol  Messages  for  Bluetooth&nbsp;</a></nobr></div>
<div style="position:absolute;top:1884;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#24">Pairing</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1915;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#27">HFP  Connection&nbsp;</a></nobr></div>
<div style="position:absolute;top:1945;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#27">Additional  Bluetooth  Profiles</a>&nbsp;</nobr></div>
<div style="position:absolute;top:1975;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#28">Bluetooth  Reconnection</a>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:2013;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#29">Integrating  Video</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:2061;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#30">Selecting  Video  Resolution</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2091;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#30">Request  the  Highest  Resolution  Possible&nbsp;</a></nobr></div>
<div style="position:absolute;top:2122;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#31">Selecting  a  Density  to  Report</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2152;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#31">Matching  Physical  Display  Size</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2182;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#32">Required  Video  Stream  Support</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2213;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#32">Video  Focus&nbsp;</a></nobr></div>
<div style="position:absolute;top:2243;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#33">Projection  Mode</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2274;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#33">Native  Mode&nbsp;</a></nobr></div>
<div style="position:absolute;top:2304;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#33">Overlay</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2334;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#33">Mode  Examples</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2365;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#34">Video  Focus  Requests</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2395;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#36">Latency,  Flow  Control  &amp;  Clock  Skew</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2466;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:2486;left:739"><nobr>2  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:2551;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="3"><b>Page 3</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:2642;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:2667;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#37">Integrating  Audio</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:2711;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#37">Audio  Streams</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2742;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#38">UI  (device-to-vehicle)</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2772;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#39">Guidance  (device-to-vehicle)&nbsp;</a></nobr></div>
<div style="position:absolute;top:2802;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#39">Voice  (device-to-vehicle)</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2833;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#39">Media  (device-to-vehicle)&nbsp;</a></nobr></div>
<div style="position:absolute;top:2863;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#39">Microphone  (vehicle-to-device)</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2893;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#39">Legacy  In-Call  (bi-directional)</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2924;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#40">Audio  Focus</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2954;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#40">Audio  Focus  Requests</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2985;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#41">Audio  Focus  Notifications</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3015;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#42">Audio  Focus  Initialization</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3045;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#43">Audio  Focus  Policy</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3076;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#43">Audio  Focus  Priorities</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3106;left:168"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#44">Contention  &amp;  Media  Mixing&nbsp;</a></nobr></div>
<div style="position:absolute;top:3136;left:168"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#44">ASR  Focus</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3167;left:168"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#45">Navigation  Focus</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3197;left:168"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#45">Media  (Music)  Focus</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3228;left:168"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#45">System  Stream  Support</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3258;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#45">Audio  Mixing  Guidelines&nbsp;</a></nobr></div>
<div style="position:absolute;top:3288;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#46">General  Audio  Notification  Guidelines</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3319;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#46">For  Mixing  Streams</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3349;left:141"><nobr>F<a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#47"> or  Non-Mixed  Streams&nbsp;</a></nobr></div>
<div style="position:absolute;top:3379;left:141"><nobr>F<a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#48"> or  Audio  Focus  &amp;  Phone  Calls</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3410;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#49">Audio  Focus  Examples</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3440;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#52">Audio  Focus  Mixing  vs.  Non-Mixing</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3471;left:168"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#53">Native  Nav  +  MD  Music</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3501;left:168"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#53">MD  Nav  &amp;  Music  +  Native  FM  Radio</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3531;left:168"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#56">MD  Music  +  MD  Phone  Call</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3562;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#58">Latency,  Flow  Control  &amp;  Clock  Skew</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3592;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#58">Volume&nbsp;</a></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:2667;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#59">Integrating  Input  Devices</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:2716;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#60">Touchscreen</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2746;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#60">Buttons&nbsp;</a></nobr></div>
<div style="position:absolute;top:2776;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#60">Button  Key  Events</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2807;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#63">Implementing  Button  Interface&nbsp;</a></nobr></div>
<div style="position:absolute;top:2837;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#63">Rotational  Controller  Devices</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2868;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#63">Dial  Key  Codes&nbsp;</a></nobr></div>
<div style="position:absolute;top:2898;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#63">Implementing  Device  Interface</a>&nbsp;</nobr></div>
<div style="position:absolute;top:2928;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#63">Touchpad&nbsp;</a></nobr></div>
<div style="position:absolute;top:2959;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#64">Implementing  Device  Interface</a>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:2997;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#65">Integrating  ASR&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:3044;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#65">Initiating  Automatic  Speech  Recognition&nbsp;</a></nobr></div>
<div style="position:absolute;top:3075;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#65">Short-Press&nbsp;</a></nobr></div>
<div style="position:absolute;top:3105;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#66">Long-Press&nbsp;</a></nobr></div>
<div style="position:absolute;top:3135;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#66">Voice  Recognition  Session</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3166;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#66">Cancelling  or  Restarting  a  VR  Session</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3196;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#67">Implementing  Voice  Recognition  (VR)  Actions&nbsp;</a></nobr></div>
<div style="position:absolute;top:3226;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#67">Short-Press  Standard  Session&nbsp;</a></nobr></div>
<div style="position:absolute;top:3257;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#68">Short-Press  Restart</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3287;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#69">Short-Press  Cancel</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3318;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#70">Long-Press  Standard  Session&nbsp;</a></nobr></div>
<div style="position:absolute;top:3348;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#71">Long-Press  Restart</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3378;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#72">Long-Press  Cancel</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3409;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#73">Speech  Audio  Format&nbsp;</a></nobr></div>
<div style="position:absolute;top:3439;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#73">Processing  Requirements&nbsp;</a></nobr></div>
<div style="position:absolute;top:3469;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#73">Processing  Recommendations</a>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:3507;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#74">Integrating  Vehicle  Data</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:3555;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#74">Driving  Status</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3585;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#75">Fuel</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3654;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:3674;left:739"><nobr>3  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:3739;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="4"><b>Page 4</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:3830;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:3855;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#75">Navigation&nbsp;</a></nobr></div>
<div style="position:absolute;top:3886;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#77">Privacy</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3916;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#78">Safety</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3946;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#79">Other</a><font color="#1155cc">&nbsp;</font></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:3984;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#80">Integrating  Navigation</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:4032;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#80">Navigation  Focus  Request&nbsp;</a></nobr></div>
<div style="position:absolute;top:4062;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#80">Navigation  Focus  Notification&nbsp;</a></nobr></div>
<div style="position:absolute;top:4093;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#81">Policy</a>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:4131;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#82">Integrating  Application  Status&nbsp;</a></nobr></div>
<div style="position:absolute;top:4163;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#82">&amp;  Data&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:4212;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#82">Navigation  Data&nbsp;</a></nobr></div>
<div style="position:absolute;top:4242;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#82">Navigation  Subscription&nbsp;</a></nobr></div>
<div style="position:absolute;top:4273;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#82">Navigation  Status  Event</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4303;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#82">Next  Turn  Event&nbsp;</a></nobr></div>
<div style="position:absolute;top:4333;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#83">Next  Turn  Distance  Event</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4364;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#83">Next  Turn  Enum</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4394;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#85">Navigation  Data  Example&nbsp;</a></nobr></div>
<div style="position:absolute;top:4425;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#85">Accessing  Media  Data&nbsp;</a></nobr></div>
<div style="position:absolute;top:4455;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#85">Media  Playback  Status</a>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:4493;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#87">Integrating  Vendor  Extension&nbsp;</a></nobr></div>
<div style="position:absolute;top:4526;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#87">Channels</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:4574;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#87">When  to  Use  VEC&nbsp;</a></nobr></div>
<div style="position:absolute;top:4605;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#87">Architecture&nbsp;</a></nobr></div>
<div style="position:absolute;top:4635;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#88">Android  Mobile  Device&nbsp;</a></nobr></div>
<div style="position:absolute;top:4665;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#89">Using  Verification  Certificates&nbsp;</a></nobr></div>
<div style="position:absolute;top:4696;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#89">Sample  Applications</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4726;left:114"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#89">Head  Unit</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4756;left:141"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#89">Sample  Implementation&nbsp;</a></nobr></div>
<div style="position:absolute;top:3855;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#91">Use  Cases</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3894;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#91">Autostart  Application</a>&nbsp;</nobr></div>
<div style="position:absolute;top:3932;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#91">Determine  Android  Auto&nbsp;</a></nobr></div>
<div style="position:absolute;top:3954;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#91">Compatibility&nbsp;</a></nobr></div>
<div style="position:absolute;top:3993;left:510"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#91">Initialize  Vendor  Extension  Channel&nbsp;</a></nobr></div>
<div style="position:absolute;top:4031;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#92">Frequently  Asked  Questions</a>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:4069;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#94">Integrating  Radio</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:4117;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#94">Radio  Service  Discovery</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4156;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#94">Radio  Properties</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4194;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#95">Messaging  Between  HU  and  MD</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4232;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#97">Example  Radio  Sequences&nbsp;</a></nobr></div>
<div style="position:absolute;top:4270;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#97">Radio  Playing  During  MD  Connection</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4309;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#97">Tuning  to  Station  in  Projection  Mode</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4347;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#98">Tuning  to  Station  in  Native  Mode</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4385;left:483"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#98">Scanning  Stations  in  Projection  Mode&nbsp;</a></nobr></div>
<div style="position:absolute;top:4423;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#99">Audio  Focus  When  Integrating  Radio</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4462;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#100">Radio  Hard  Buttons&nbsp;</a></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:4500;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#101">Appendix  A:  Vehicle  ID</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:4548;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#101">Unique  ID  per  HU</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4587;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#101">Minimum  64  Bits</a>&nbsp;</nobr></div>
<div style="position:absolute;top:4625;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#101">Example:  Generate  Vehicle  ID</a>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:4663;left:456"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#102">Appendix  B:  Document  History</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:4842;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:4862;left:739"><nobr>4  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:4927;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="5"><b>Page 5</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:5018;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:5045;left:108"><nobr>Introduction&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:5102;left:108"><nobr>Today’s  mobile  devices  are  packed  with  technology—the  latest  hardware  and  software,&nbsp;</nobr></div>
<div style="position:absolute;top:5124;left:108"><nobr>high-speed  mobile  networks,  and  an  ever-expanding  universe  of  connected  services  and&nbsp;</nobr></div>
<div style="position:absolute;top:5147;left:108"><nobr>applications.  Their  convergence  empowers  users  with  new  ways  to  communicate,  enjoy&nbsp;</nobr></div>
<div style="position:absolute;top:5169;left:108"><nobr>digital  content,  access  information,  learn,  and  navigate  the  world  around  them.&nbsp;</nobr></div>
<div style="position:absolute;top:5192;left:108"><nobr>Unfortunately  these  devices  were  not  designed  to  be  used  while  driving.&nbsp;</nobr></div>
<div style="position:absolute;top:5230;left:108"><nobr>Android  Auto  (<a href="http://www.android.com/auto"> </a><font color="#3d85c6"><a href="http://www.android.com/auto">www.android.com/auto </a></font><a href="http://www.android.com/auto"></a>)  enables  seamless  integration  between  mobile  devices&nbsp;</nobr></div>
<div style="position:absolute;top:5253;left:108"><nobr>and  vehicles,  allowing  drivers  to  access  and  control  technology  on  mobile  devices  using  an&nbsp;</nobr></div>
<div style="position:absolute;top:5275;left:108"><nobr>interface  that’s  easier  and  safer  to  use  while  driving.  This  document  describes  the  integration&nbsp;</nobr></div>
<div style="position:absolute;top:5298;left:108"><nobr>that  enables  automotive  in-vehicle  infotainment  (IVI)  systems  to  leverage  the  compute&nbsp;</nobr></div>
<div style="position:absolute;top:5320;left:108"><nobr>power,  connectivity,  and  applications  of  modern  mobile  devices  through  Android  Auto&nbsp;</nobr></div>
<div style="position:absolute;top:5343;left:108"><nobr>Projection  (AAP)  technology.  It  is  intended  for  automotive  infotainment  engineering&nbsp;</nobr></div>
<div style="position:absolute;top:5365;left:108"><nobr>development  teams  who  want  to  integrate  AAP  on  a  head  unit.  It  does  not  describe  the&nbsp;</nobr></div>
<div style="position:absolute;top:5388;left:108"><nobr>low-level  AAP  protocol  implementation  abstracted  by  a  sender  and  receiver  library  on  both&nbsp;</nobr></div>
<div style="position:absolute;top:5410;left:108"><nobr>the  head  unit  (HU)  and  the  mobile  device  (MD).  For  details,  refer  to  the <a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"> </a><font color="#3d85c6"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">AAP  receiver  library&nbsp;</a></font></nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:5433;left:108"><nobr><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">documentation </a><font color="#434343"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"></a>.&nbsp;</font></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:5471;left:108"><nobr>About  Android  Auto  Projection  (AAP)<font style="font-size:12px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:5519;left:108"><nobr>AAP  bridges  mobile  devices  and  vehicles  to  enable  drivers  to  access  the  capabilities  of  the&nbsp;</nobr></div>
<div style="position:absolute;top:5542;left:108"><nobr>device  through  the  physical  human  machine  interface  (HMI)  controls  provided  by  the  vehicle.&nbsp;</nobr></div>
<div style="position:absolute;top:5564;left:108"><nobr>The  mobile  device  manages  all  user  interface  (UI),  software  logic,  connectivity,  and  compute&nbsp;</nobr></div>
<div style="position:absolute;top:5587;left:108"><nobr>power  for  applications,  and  projects  these  applications  into  the  vehicle  through  AAP.&nbsp;</nobr></div>
<div style="position:absolute;top:5969;left:797"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:5992;left:108"><nobr><b>Figure  1.  </b><font color="#666666">Android  Auto  Projection  (AAP)  architecture </font>.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:6030;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:6050;left:739"><nobr>5  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:6115;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="6"><b>Page 6</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:6206;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:6234;left:108"><nobr>AAP  architecture  leverages  the  strongest  attributes  of  both  vehicle  and  mobile  device  to&nbsp;</nobr></div>
<div style="position:absolute;top:6256;left:108"><nobr>create  an  optimal  driving  experience.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:6294;left:108"><nobr>From  the  <b>vehicle </b>,  the  Android  Auto  integration  leverages:&nbsp;</nobr></div>
<div style="position:absolute;top:6333;left:115"><nobr>● Human  machine  interface  (HMI)  better  suited  for  use  while  driving&nbsp;</nobr></div>
<div style="position:absolute;top:6363;left:115"><nobr>● Highly  accurate  vehicle  data  with  better  information  about  the  driving  environment&nbsp;</nobr></div>
<div style="position:absolute;top:6401;left:108"><nobr>From  the  <b>mobile  device </b>,  the  Android  Auto  integration  leverages:&nbsp;</nobr></div>
<div style="position:absolute;top:6432;left:115"><nobr>● Latest  computing  hardware  platform&nbsp;</nobr></div>
<div style="position:absolute;top:6462;left:115"><nobr>● Latest  software  platform&nbsp;</nobr></div>
<div style="position:absolute;top:6493;left:115"><nobr>● Latest  high  speed  data  connectivity  to  the  cloud  via  latest  mobile  data  networks&nbsp;</nobr></div>
<div style="position:absolute;top:6523;left:115"><nobr>● Evolution  of  hardware,  software,  and  connectivity  at  consumer  electronics  pace<b>&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:6561;left:108"><nobr>Channels<font style="font-size:18px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:6600;left:108"><nobr>The  platform  implementation  supports  USB  2.0,  but  the  protocol  itself  is  transport-agnostic&nbsp;</nobr></div>
<div style="position:absolute;top:6623;left:108"><nobr>and  runs  over  any  transport  with  sufficient  bandwidth  (future  implementations  may  utilize&nbsp;</nobr></div>
<div style="position:absolute;top:6645;left:108"><nobr>Wi-Fi  Direct).  The  AAP  protocol  includes  separate  channels  to  manage  data  streams  between&nbsp;</nobr></div>
<div style="position:absolute;top:6668;left:108"><nobr>mobile  device  and  vehicle:&nbsp;</nobr></div>
<div style="position:absolute;top:6706;left:115"><nobr>● <b>Control  </b><font style="font-size:15px">(bi-directional) </font>.  Manages  link  initialization  and  setup  of  channels  for  media,&nbsp;</nobr></div>
<div style="position:absolute;top:6729;left:142"><nobr>input,  etc.&nbsp;</nobr></div>
<div style="position:absolute;top:6763;left:115"><nobr>● <b>Video  Output </b><font style="font-size:15px">(device-to-vehicle) </font>.  Sends  H.264  video  from  the  mobile  device  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:6785;left:142"><nobr>vehicle  for  display  on  the  main  console  display.&nbsp;</nobr></div>
<div style="position:absolute;top:6819;left:115"><nobr>● <b>Audio  Output </b><font style="font-size:15px">(device-to-vehicle) </font>.  Carries  audio  from  the  mobile  device  to  the  vehicle&nbsp;</nobr></div>
<div style="position:absolute;top:6841;left:142"><nobr>for  output  through  the  vehicle  speakers  (AAC  with  48k,  AAC  or  PCM  for  16k).&nbsp;</nobr></div>
<div style="position:absolute;top:6875;left:115"><nobr>● <b>Vehicle  Data </b><font style="font-size:15px">(vehicle-to-device) </font>.  Carries  vehicle-associated  (GPS,  wheel  speed,  etc.)  data&nbsp;</nobr></div>
<div style="position:absolute;top:6897;left:142"><nobr>from  the  vehicle  to  the  mobile  device.&nbsp;</nobr></div>
<div style="position:absolute;top:6931;left:115"><nobr>● <b>Input </b><font style="font-size:15px">(vehicle-to-device). </font>Sends  input  events  to  the  mobile  device  from  input  devices  on&nbsp;</nobr></div>
<div style="position:absolute;top:6954;left:142"><nobr>the  vehicle,  such  as  touchscreens,  buttons,  controllers,  etc.&nbsp;</nobr></div>
<div style="position:absolute;top:6988;left:115"><nobr>● <b>Microphone  Audio </b><font style="font-size:15px">(vehicle-to-device) </font>.  Used  by  the  mobile  device  to  receive  audio&nbsp;</nobr></div>
<div style="position:absolute;top:7010;left:142"><nobr>captured  by  the  vehicle  microphone.&nbsp;</nobr></div>
<div style="position:absolute;top:7044;left:115"><nobr>● <b>Bluetooth </b><font style="font-size:15px">(bi-directional) </font>,  <b>Navigation  Status </b><font style="font-size:15px">(device-to-vehicle) </font>,  <b>Media  Browse</b>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:7066;left:142"><nobr>(device-to-vehicle) <font style="font-size:14px">.  Used  for  communication  of  Bluetooth  data,  Navigation  status  and&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:7089;left:142"><nobr>information,  and  Media  browsing  information,  respectively.&nbsp;</nobr></div>
<div style="position:absolute;top:7122;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:7156;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:7218;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:7238;left:739"><nobr>6  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:7303;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="7"><b>Page 7</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:7394;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:7418;left:108"><nobr>Mobile  Device&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:7458;left:108"><nobr>The  architecture  on  the  mobile  device  consists  of  the  following  components:&nbsp;</nobr></div>
<div style="position:absolute;top:7496;left:115"><nobr>● <b>Mobile  Platform </b>.  Provides  the  operating  system  and  application  framework  that&nbsp;</nobr></div>
<div style="position:absolute;top:7518;left:142"><nobr>powers  the  mobile  device.&nbsp;</nobr></div>
<div style="position:absolute;top:7549;left:115"><nobr>● <b>Protocol  Sender </b>.  Provides  the  mobile  device  AAP  implementation  of  and  plugs  into&nbsp;</nobr></div>
<div style="position:absolute;top:7571;left:142"><nobr>mobile  platform  interfaces  (video,  audio,  input,  etc.)  for  a  seamless  user  experience.&nbsp;</nobr></div>
<div style="position:absolute;top:7602;left:115"><nobr>● <b>Automotive  APIs </b>.  Operates  on  top  of  the  protocol  sender  and  defines  a  standardized&nbsp;</nobr></div>
<div style="position:absolute;top:7624;left:142"><nobr>API  for  developers  to  create  applications  using  the  head  unit  to  interact  with  a  driver.&nbsp;</nobr></div>
<div style="position:absolute;top:7654;left:108"><nobr>Throughout  this  document  and  its  diagrams,  the  mobile  device  is  referred  to  as  the  <font style="font-size:15px">MD </font>.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:7692;left:108"><nobr>Head  Unit&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:7732;left:108"><nobr>The  architecture  on  the  head  unit  consists  of  the  following  high-level  components.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:11px;font-family:Times;color:#000000">
<div style="position:absolute;top:7797;left:131"><nobr><b>NOTE<font color="#434343">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:7782;left:200"><nobr>This  document  describes  high-level  components  unique  to  AAP  and  does  not&nbsp;</nobr></div>
<div style="position:absolute;top:7804;left:200"><nobr>provide  a  detailed  overview  of  the  entire  head  unit  software  stack.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:7845;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:7858;left:115"><nobr>● <b>Head  Unit  OS </b>.  The  operating  system  (Android,  Linux,  QNX,  Windows,  etc.)  environment&nbsp;</nobr></div>
<div style="position:absolute;top:7881;left:142"><nobr>software  stack  that  powers  the  on-board  infotainment  experience.&nbsp;</nobr></div>
<div style="position:absolute;top:7911;left:115"><nobr>● <b>OS  Adaptation  Layer </b>.  The  OS-specific  abstraction  layer  between  the  head  unit  OS  and&nbsp;</nobr></div>
<div style="position:absolute;top:7933;left:142"><nobr>the  AAP  receiver.  The  layer  implements  AAP  receiver  bindings  and  translates  the&nbsp;</nobr></div>
<div style="position:absolute;top:7956;left:142"><nobr>message  call  and  data  to  native  head  unit  OS  subsystems.  Google  provides  reference&nbsp;</nobr></div>
<div style="position:absolute;top:7978;left:142"><nobr>implementations  for  Android  and  QNX  in  source  form,  but  does  not  provide  a&nbsp;</nobr></div>
<div style="position:absolute;top:8001;left:142"><nobr>commercial  implementation.&nbsp;</nobr></div>
<div style="position:absolute;top:8032;left:115"><nobr>● <b>Android  Auto  Projection  Receiver </b>.  The  head  unit  implementation  of  AAP  that  connects&nbsp;</nobr></div>
<div style="position:absolute;top:8054;left:142"><nobr>with  unit  OS  interfaces  (video,  audio,  connectivity,  input,  etc.)  through  the  OS  Adaptation&nbsp;</nobr></div>
<div style="position:absolute;top:8076;left:142"><nobr>Layer  to  enable  an  integrated  user  experience.  Google  provides  the  receiver  library  as&nbsp;</nobr></div>
<div style="position:absolute;top:8099;left:142"><nobr>portable  C++  source  code.&nbsp;</nobr></div>
<div style="position:absolute;top:8129;left:108"><nobr>Throughout  this  document  and  its  diagrams,  the  head  unit  is  referred  to  as  the  <font style="font-size:15px">HU </font>.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:8167;left:108"><nobr>Conventions&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:8216;left:108"><nobr>The  use  of  “MUST”,  “MUST  NOT”,  “REQUIRED”,  “SHALL”,  “SHALL  NOT”,  “SHOULD”,  “SHOULD&nbsp;</nobr></div>
<div style="position:absolute;top:8238;left:108"><nobr>NOT”,  “RECOMMENDED”,  “MAY”,  and  “OPTIONAL”  is  per  the  IETF  standard  defined  in&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:8261;left:108"><nobr><a href="https://www.ietf.org/rfc/rfc2119.txt">RFC2119 </a><font color="#434343"><a href="https://www.ietf.org/rfc/rfc2119.txt"></a>.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:8299;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:8337;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:8406;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:8426;left:739"><nobr>7  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:8491;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="8"><b>Page 8</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:8582;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:8602;left:108"><nobr>&nbsp;<font style="font-size:21px" color="#6ab344">Head  Unit  Requirements&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:8650;left:108"><nobr>To  support  AAP,  automotive  head  units  (HUs)  MUST  include  the  following  minimum&nbsp;</nobr></div>
<div style="position:absolute;top:8673;left:108"><nobr>capabilities  (unless  explicitly  specified  otherwise):&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:8718;left:115"><nobr>Component&nbsp;</nobr></div>
<div style="position:absolute;top:8718;left:231"><nobr>Requirement&nbsp;</nobr></div>
<div style="position:absolute;top:8718;left:590"><nobr>Comments&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:8752;left:117"><nobr>Connectivity&nbsp; <b><font style="font-size:14px">USB  2.0  Hi-Speed  Host&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:8783;left:237"><nobr>● Standard  USB-A  port&nbsp;</nobr></div>
<div style="position:absolute;top:8814;left:237"><nobr>● &gt;50  Mbits/s  throughput&nbsp;</nobr></div>
<div style="position:absolute;top:8844;left:237"><nobr>● Support  <a href="http://www.usb.org/developers/docs/devclass_docs/BCv1.2_070312.zip"></a><font color="#3d85c6"><a href="http://www.usb.org/developers/docs/devclass_docs/BCv1.2_070312.zip">USB  2.0  CDP  specification</a></font><a href="http://www.usb.org/developers/docs/devclass_docs/BCv1.2_070312.zip"></a>&nbsp;</nobr></div>
<div style="position:absolute;top:8874;left:237"><nobr>● Host  support  for  <a href="http://source.android.com/accessories/protocol.html"></a><font color="#3d85c6"><a href="http://source.android.com/accessories/protocol.html">Android  Open  Accessory&nbsp;</a></font></nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:8896;left:264"><nobr><a href="http://source.android.com/accessories/protocol.html">(AOA)  protocol</a><font color="#434343">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:8927;left:237"><nobr>● Support  USB  Hub  (may  be  exposed  in  HU&nbsp;</nobr></div>
<div style="position:absolute;top:8949;left:264"><nobr>debug  mode  only)&nbsp;</nobr></div>
<div style="position:absolute;top:8980;left:233"><nobr><b>Bluetooth&nbsp;</b></nobr></div>
<div style="position:absolute;top:9010;left:237"><nobr>● Hands-Free  Profile  (HFP)  1.5&nbsp;</nobr></div>
<div style="position:absolute;top:9041;left:237"><nobr>● PIN  or  numeric  comparison  pairing&nbsp;</nobr></div>
<div style="position:absolute;top:9063;left:264"><nobr>methods&nbsp;</nobr></div>
<div style="position:absolute;top:8752;left:592"><nobr>The  HU  SHOULD  equip  USB&nbsp;</nobr></div>
<div style="position:absolute;top:8775;left:592"><nobr>current-limiting  and&nbsp;</nobr></div>
<div style="position:absolute;top:8797;left:592"><nobr>adequate  power  supply  to&nbsp;</nobr></div>
<div style="position:absolute;top:8820;left:592"><nobr>avoid  VBUS  shutdown .&nbsp;<font style="font-size:7px">1</font></nobr></div>
<div style="position:absolute;top:8850;left:592"><nobr>Cellular  data  is  OPTIONAL.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:9110;left:117"><nobr>Video&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:9110;left:233"><nobr>H.264/AVC  Baseline  Profile  hardware&nbsp;</nobr></div>
<div style="position:absolute;top:9133;left:233"><nobr>decoder:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:9163;left:237"><nobr>● H.264  BP  level  3.1  REQUIRED  for  both&nbsp;</nobr></div>
<div style="position:absolute;top:9186;left:264"><nobr>sides  to  guarantee  800x480&nbsp;</nobr></div>
<div style="position:absolute;top:9216;left:237"><nobr>● H.264  BP  level  3.2  REQUIRED  for  720p  (if&nbsp;</nobr></div>
<div style="position:absolute;top:9238;left:264"><nobr>HU  supports  this  resolution)&nbsp;</nobr></div>
<div style="position:absolute;top:9269;left:237"><nobr>● H.264  BP  level  4.2  REQUIRED  for  1080p  (if&nbsp;</nobr></div>
<div style="position:absolute;top:9291;left:264"><nobr>HU  supports  this  resolution)&nbsp;</nobr></div>
<div style="position:absolute;top:9322;left:237"><nobr>● Max  frame  rate  of  30  FPS  or  60  FPS&nbsp;</nobr></div>
<div style="position:absolute;top:9352;left:237"><nobr>● Frame  rate  (continuous  or&nbsp;</nobr></div>
<div style="position:absolute;top:9375;left:264"><nobr>noncontinuous)  between  the  max  frame&nbsp;</nobr></div>
<div style="position:absolute;top:9397;left:264"><nobr>rate  and  5  FPS&nbsp;</nobr></div>
<div style="position:absolute;top:9428;left:237"><nobr>● Any  AAP  HU  integration  MUST  support&nbsp;</nobr></div>
<div style="position:absolute;top:9450;left:264"><nobr>480p  at  30  FPS  as  the  minimum  default&nbsp;</nobr></div>
<div style="position:absolute;top:9110;left:592"><nobr>For  details,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#29"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#29">Integrating&nbsp;</a></font></nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:9133;left:592"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#29">Video</a> <font color="#434343">.&nbsp;</font></nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:9536;left:108"><nobr>1 <font style="font-size:12px">The  USB-IF  Battery  Charging  Specification  v1.2  section  4.1.4  Shutdown  Operation  lists  three  methods&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:9554;left:108"><nobr>of  shut  down.  HU  SHOULD  avoid  VBUS  shut  down  as  this  also  terminates  the  Android  Auto  connection.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:9594;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:9614;left:739"><nobr>8  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:9679;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="9"><b>Page 9</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:9770;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:9899;left:117"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:9798;left:117"><nobr>Audio&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:9799;left:237"><nobr>● PCM  (raw)  audio  RECOMMENDED;  AAC-LC&nbsp;</nobr></div>
<div style="position:absolute;top:9821;left:264"><nobr>if  necessary&nbsp;</nobr></div>
<div style="position:absolute;top:9852;left:237"><nobr>● Mixer  to  combine  &amp;  route  audio  streams&nbsp;</nobr></div>
<div style="position:absolute;top:9799;left:592"><nobr>PCM  raw  audio&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:9898;left:117"><nobr>Human&nbsp;</nobr></div>
<div style="position:absolute;top:9919;left:117"><nobr>Machine&nbsp;</nobr></div>
<div style="position:absolute;top:9939;left:117"><nobr>Interface&nbsp;</nobr></div>
<div style="position:absolute;top:9959;left:117"><nobr>(HMI)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:9899;left:233"><nobr><b>Screen</b>&nbsp;</nobr></div>
<div style="position:absolute;top:9930;left:237"><nobr>● 3.13”  min  height&nbsp;</nobr></div>
<div style="position:absolute;top:9960;left:237"><nobr>● 5.20”  min  width,  assuming  min  height&nbsp;</nobr></div>
<div style="position:absolute;top:9990;left:237"><nobr>● 16-bit  color  (24-bit  color  RECOMMENDED)&nbsp;</nobr></div>
<div style="position:absolute;top:10021;left:237"><nobr>● Pixel  Aspect  Ratio  between  0.9  -  1.1&nbsp;</nobr></div>
<div style="position:absolute;top:10051;left:233"><nobr><b>Audio&nbsp;</b></nobr></div>
<div style="position:absolute;top:10081;left:237"><nobr>● Speakers  (any)&nbsp;</nobr></div>
<div style="position:absolute;top:10112;left:237"><nobr>● Microphone&nbsp;</nobr></div>
<div style="position:absolute;top:10142;left:233"><nobr><b>Input</b>&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:10173;left:237"><nobr>● Dedicated  “Voice”  button  (preferred  on&nbsp;</nobr></div>
<div style="position:absolute;top:10195;left:264"><nobr>steering  wheel)&nbsp;</nobr></div>
<div style="position:absolute;top:10225;left:237"><nobr>● "Answer  Call"  and  "End  Call"  button&nbsp;</nobr></div>
<div style="position:absolute;top:10248;left:264"><nobr>(RECOMMENDED)&nbsp;</nobr></div>
<div style="position:absolute;top:10278;left:237"><nobr>● Master  volume  (physical)  control&nbsp;</nobr></div>
<div style="position:absolute;top:10309;left:237"><nobr>● One  (1)  of  the  following  input  devices:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:10339;left:264"><nobr>○ Touchscreen&nbsp;</nobr></div>
<div style="position:absolute;top:10369;left:264"><nobr>○ 5-way  (Dpad)&nbsp;</nobr></div>
<div style="position:absolute;top:10400;left:264"><nobr>○ Rotary  controller&nbsp;</nobr></div>
<div style="position:absolute;top:10430;left:264"><nobr>○ Touchpad&nbsp;</nobr></div>
<div style="position:absolute;top:9899;left:592"><nobr>Larger  displays  might&nbsp;</nobr></div>
<div style="position:absolute;top:9921;left:592"><nobr>require  up-scaling  of  source&nbsp;</nobr></div>
<div style="position:absolute;top:9944;left:592"><nobr>video;  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#31"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#31">Matching  Physical&nbsp;</a></font></nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:9966;left:592"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#31">Display  Size</a> <font color="#434343">.  Consult  your&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:9989;left:592"><nobr>Google  technical  contact&nbsp;</nobr></div>
<div style="position:absolute;top:10011;left:592"><nobr>early  to  confirm  support  for&nbsp;</nobr></div>
<div style="position:absolute;top:10034;left:592"><nobr>your  display  size.&nbsp;</nobr></div>
<div style="position:absolute;top:10064;left:592"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:10091;left:592"><nobr>Support  for  controller-based&nbsp;</nobr></div>
<div style="position:absolute;top:10111;left:592"><nobr>inputs  (such  as  rotary  dials).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:10139;left:592"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:10167;left:592"><nobr>Input  hard-buttons  map  to&nbsp;</nobr></div>
<div style="position:absolute;top:10187;left:592"><nobr>corresponding  Android&nbsp;</nobr></div>
<div style="position:absolute;top:10207;left:592"><nobr>Keycodes  for  media  control&nbsp;</nobr></div>
<div style="position:absolute;top:10227;left:592"><nobr>or  DPad.  Additional&nbsp;</nobr></div>
<div style="position:absolute;top:10248;left:592"><nobr>(OPTIONAL)  physical&nbsp;</nobr></div>
<div style="position:absolute;top:10268;left:592"><nobr>controls  supported.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:10469;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:10496;left:108"><nobr>Screen  Support&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:10536;left:108"><nobr>The  screen  height  and  width  requirements  in  inches  are  valid  based  on  current  Android  Auto&nbsp;</nobr></div>
<div style="position:absolute;top:10558;left:108"><nobr>projected  UI  constraints.  While  these  are  easy  values  to  understand  and  measure  and  are&nbsp;</nobr></div>
<div style="position:absolute;top:10581;left:108"><nobr>useful  for  making  quick  decisions  about  compatible  hardware,  they  are  not  definitive.&nbsp;</nobr></div>
<div style="position:absolute;top:10619;left:108"><nobr>The  definitive  set  of  four  criteria  for  screens  that  satisfy  system  requirements  are  as  follows:&nbsp;</nobr></div>
<div style="position:absolute;top:10657;left:115"><nobr>● Minimum  horizontal  width  MUST  be  748dp .&nbsp;<font style="font-size:7px">2</font></nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:10742;left:108"><nobr>2 <font style="font-size:12px">Density-independent  pixels  (dp)  defined  at  <a href="http://developer.android.com/guide/practices/screens_support.html"></a></font><font style="font-size:12px" color="#1155cc"><a href="http://developer.android.com/guide/practices/screens_support.html">developer.android.com </a></font><font style="font-size:12px"><a href="http://developer.android.com/guide/practices/screens_support.html"></a>.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:10782;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:10802;left:739"><nobr>9  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:10867;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="10"><b>Page 10</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:10958;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:10978;left:115"><nobr>● Minimum  vertical  height  MUST  be  450dp.&nbsp;</nobr></div>
<div style="position:absolute;top:11016;left:115"><nobr>● Minimum  text  size  for  secondary  text  on  the  Android  Auto  UI  MUST  be  12  arcmin.  Ex:  a&nbsp;</nobr></div>
<div style="position:absolute;top:11038;left:142"><nobr>capital  H  in  the  second  line  of  text  in  a  list  is  rendered  at  the  secondary  text  size.&nbsp;</nobr></div>
<div style="position:absolute;top:11077;left:115"><nobr>● 64dp  tap  target  size  MUST  be  &gt;=  11.3  mm  square.  Applies  to  touchscreens  only.&nbsp;</nobr></div>
<div style="position:absolute;top:11115;left:108"><nobr>Partners  MUST  use  the <a href="https://drive.google.com/open?id=0B6Clc9b6F-OBS01RbHR6OFlqSUU"> </a><font color="#3d85c6"><a href="https://drive.google.com/open?id=0B6Clc9b6F-OBS01RbHR6OFlqSUU">Screen  Size  Calculator</a> </font>in  the  Partner  Toolkit  to  definitively  determine&nbsp;</nobr></div>
<div style="position:absolute;top:11137;left:108"><nobr>compatibility.  Input  parameters  are  (a)  diagonal  screen  size,  (b)  resolution,  (c)  pixel  aspect&nbsp;</nobr></div>
<div style="position:absolute;top:11160;left:108"><nobr>ratio,  and  (d)  viewing  distance;  output  is  the  advertised  dpi.  For  details  on  the  importance  of&nbsp;</nobr></div>
<div style="position:absolute;top:11182;left:108"><nobr>advertised  dpi,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#30"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#30">Selecting  Video  Resolution</a> </font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#30"></a>.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:11221;left:108"><nobr>The  calculator  contains  JavaScript  for  demonstrating  the  calculations  and  algorithm  used  to&nbsp;</nobr></div>
<div style="position:absolute;top:11243;left:108"><nobr>determine  Android  Auto  screen  size  compatibility.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:11289;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:11289;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:11970;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:11990;left:730"><nobr>10  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:12055;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="11"><b>Page 11</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:12146;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:12173;left:108"><nobr>Android  Auto  Projection  Integration&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:12230;left:108"><nobr>To  act  as  an  endpoint,  a  head  unit  (HU)  MUST  include  the  AAP  Receiver  Library  and&nbsp;</nobr></div>
<div style="position:absolute;top:12252;left:108"><nobr>implement  the  operating  system  (OS)  Adaptation  Layer  that  associates  Receiver  Library  APIs&nbsp;</nobr></div>
<div style="position:absolute;top:12275;left:108"><nobr>to  the  native  HU  OS.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:12313;left:108"><nobr>Receiver  Library  and  Protocol  Versions&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:12361;left:108"><nobr>This  document  covers  version  1.2  of  the  AAP  Receiver  Library  and  AAP  Protocol.  Google&nbsp;</nobr></div>
<div style="position:absolute;top:12384;left:108"><nobr>recommends  that  partners  integrate  the  most  recent  version  of  the  Receiver  Library&nbsp;</nobr></div>
<div style="position:absolute;top:12406;left:108"><nobr>available.  Version  1.2  includes  the  following  new  features:&nbsp;</nobr></div>
<div style="position:absolute;top:12445;left:115"><nobr>● Suppress  status  icons&nbsp;</nobr></div>
<div style="position:absolute;top:12475;left:115"><nobr>● Report  pixel  aspect  ratio  and  viewing  distance&nbsp;</nobr></div>
<div style="position:absolute;top:12506;left:115"><nobr>● Report  any  dead  reckoning  performed  on  GPS  data&nbsp;</nobr></div>
<div style="position:absolute;top:12536;left:115"><nobr>● Radio  interface  added&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:12574;left:108"><nobr>AAP  Receiver  Library&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:12621;left:108"><nobr>The  AAP  Receiver  Library  provides  a  full  protocol  endpoint  solution  in  the  form  of  a  portable&nbsp;</nobr></div>
<div style="position:absolute;top:12644;left:108"><nobr>C++  library  for  the  HU.  The  library  handles  the  low-level  protocol  packet-framing,  channel&nbsp;</nobr></div>
<div style="position:absolute;top:12666;left:108"><nobr>management,  authentication,  etc.  However,  it  does  not  include  OS-specific  bindings  required&nbsp;</nobr></div>
<div style="position:absolute;top:12689;left:108"><nobr>to  complete  the  integration  with  relevant  (video,  audio,  input,  etc.)  HU  subsystems.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:11px;font-family:Times;color:#000000">
<div style="position:absolute;top:12762;left:131"><nobr><b>NOTE<font color="#434343">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:12738;left:200"><nobr>The  Receiver  Library  implements  and  encapsulates  AAP  interactions&nbsp;</nobr></div>
<div style="position:absolute;top:12761;left:200"><nobr>between  the  HU  and  mobile  device  (MD).  To  ensure  compatibility  with  MD&nbsp;</nobr></div>
<div style="position:absolute;top:12783;left:200"><nobr>implementations,  do  not  modify  or  re-implement  this  protocol.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:12817;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:12829;left:108"><nobr>In  the  source  code  distribution,  the  library  is  compiled  as  part  of  the  Android  build.  Google&nbsp;</nobr></div>
<div style="position:absolute;top:12852;left:108"><nobr>also  includes  a  standalone  build  file  to  compile  the  Receiver  Library  independently  from  the&nbsp;</nobr></div>
<div style="position:absolute;top:12874;left:108"><nobr>Android  build  system.  Integrators  MUST  update  the  makefile  to  compile  the  Receiver  Library&nbsp;</nobr></div>
<div style="position:absolute;top:12897;left:108"><nobr>with  the  same  build  tools  and  system  libraries  as  required  for  the  HU  software  build.&nbsp;</nobr></div>
<div style="position:absolute;top:12927;left:108"><nobr>Open  Source  code  is  used  by  the  AAP  receiver  in  the  following  components:&nbsp;</nobr></div>
<div style="position:absolute;top:12958;left:115"><nobr>● Protocol  Buffers: <a href="https://code.google.com/p/protobuf/"> </a><font color="#3d85c6"><a href="https://code.google.com/p/protobuf/">code.google.com/p/protobuf/</a> </font>(New  BSD  license)&nbsp;</nobr></div>
<div style="position:absolute;top:12988;left:115"><nobr>● OpenSSL  (not  included  in  repo,  but  linked): <a href="http://www.openssl.org/"> </a><font color="#3d85c6"><a href="http://www.openssl.org/">www.openssl.org</a> </font>(BSD-like  license)&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:13038;left:108"><nobr>OS  Adaptation  Layer&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:13078;left:108"><nobr>The  OS  Adaptation  Layer  connects  the  AAP  receiver  and  the  host  OS  for  end-to-end&nbsp;</nobr></div>
<div style="position:absolute;top:13102;left:108"><nobr>integration.  Integrators  MUST  implement  the  AAP  receiver  interface  bindings  and  connect&nbsp;</nobr></div>
<div style="position:absolute;top:13158;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:13178;left:730"><nobr>11  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:13243;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="12"><b>Page 12</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:13334;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:13354;left:108"><nobr>each  interface  to  the  relevant  HU  subsystem;  integrators  might  also  need  to  recompile  the&nbsp;</nobr></div>
<div style="position:absolute;top:13376;left:108"><nobr>Receiver  Library  with  their  build  toolchain  for  compatibility  with  the  HU  OS  environment.&nbsp;</nobr></div>
<div style="position:absolute;top:13414;left:108"><nobr>Google  provides  reference  implementations  of  the  OS  Adaptation  Layer  for  Android,  Linux,&nbsp;</nobr></div>
<div style="position:absolute;top:13437;left:108"><nobr>and  QNX-based  systems.  Integrators  are  responsible  for  the  commercial  implementation  of&nbsp;</nobr></div>
<div style="position:absolute;top:13459;left:108"><nobr>the  OS  adaptation  layer,  but  may  use  these  reference  implementations  as  a  starting  point.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:13497;left:108"><nobr>Software  Requirements&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:13537;left:108"><nobr>The  OS  Adaptation  Layer  requires  the  following  platform  support.&nbsp;</nobr></div>
<div style="position:absolute;top:13576;left:115"><nobr>● <b>C++  STL  Support </b>.  The  base  receiver  library  uses  the  following  STL  classes:&nbsp;</nobr></div>
<div style="position:absolute;top:13606;left:142"><nobr>○ Std::deque&nbsp;</nobr></div>
<div style="position:absolute;top:13636;left:142"><nobr>○ Std::set&nbsp;</nobr></div>
<div style="position:absolute;top:13667;left:142"><nobr>○ Std::string&nbsp;</nobr></div>
<div style="position:absolute;top:13697;left:142"><nobr>○ std::vector&nbsp;</nobr></div>
<div style="position:absolute;top:13728;left:115"><nobr>● <b>Atomic  Refcounting </b>.  The  receiver  library  uses  atomic  reference  counting  for  memory&nbsp;</nobr></div>
<div style="position:absolute;top:13750;left:142"><nobr>management  and  requires  access  to  an  ‘atomic  increment  and  return’  and  ‘atomic&nbsp;</nobr></div>
<div style="position:absolute;top:13772;left:142"><nobr>decrement  and  return’.  The  supplied  implementation  utilizes  the  gcc  builtin&nbsp;</nobr></div>
<div style="position:absolute;top:13798;left:142"><nobr>__sync_add_and_fetch()&nbsp;.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:13833;left:108"><nobr>AAP  Receiver  Interfaces&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:13880;left:108"><nobr>The  majority  of  AAP  integration  work  involves  implementing  receiver  interfaces.  The&nbsp;</nobr></div>
<div style="position:absolute;top:13903;left:108"><nobr>Integration  Details  section  of  this  document  provides  an  overview  of  the  integration&nbsp;</nobr></div>
<div style="position:absolute;top:13925;left:108"><nobr>architecture,  message  flows,  and  interface  definitions  for  the  following  receiver  interfaces:&nbsp;</nobr></div>
<div style="position:absolute;top:13948;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:13973;left:111"><nobr>Audio&nbsp;</nobr></div>
<div style="position:absolute;top:13973;left:253"><nobr>Bluetooth&nbsp;</nobr></div>
<div style="position:absolute;top:13973;left:387"><nobr>Input&nbsp;</nobr></div>
<div style="position:absolute;top:13973;left:505"><nobr>Radio&nbsp;</nobr></div>
<div style="position:absolute;top:13973;left:632"><nobr>VendorExtension&nbsp;</nobr></div>
<div style="position:absolute;top:14002;left:111"><nobr>Authentication&nbsp;</nobr></div>
<div style="position:absolute;top:14002;left:253"><nobr>HVAC  (future)&nbsp;</nobr></div>
<div style="position:absolute;top:14002;left:387"><nobr>Microphone&nbsp;</nobr></div>
<div style="position:absolute;top:14002;left:505"><nobr>Vehicle  Data&nbsp;</nobr></div>
<div style="position:absolute;top:14002;left:632"><nobr>Video&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:14036;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:14057;left:108"><nobr>This  document  does  not  provide  details  for  interface  API  definitions,  method  signatures  and&nbsp;</nobr></div>
<div style="position:absolute;top:14079;left:108"><nobr>parameters.  For  these  details,  refer  to  the <a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"> </a><font color="#3d85c6"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">AAP  receiver  library  documentation</a> </font>.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:14117;left:108"><nobr>Version  Compatibility&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:14166;left:108"><nobr>Future  versions  of  the  AAP  protocol  may  introduce  new  features  supported  only  on  MDs  and&nbsp;</nobr></div>
<div style="position:absolute;top:14188;left:108"><nobr>HUs  that  implement  the  new  AAP  version.  However,  future  AAP  versions  will  maintain&nbsp;</nobr></div>
<div style="position:absolute;top:14211;left:108"><nobr>backwards  compatibility  with  older  versions  wherever  possible.  If  maintaining  protocol&nbsp;</nobr></div>
<div style="position:absolute;top:14233;left:108"><nobr>backwards  compatibility  is  not  possible  and  an  MD  is  incapable  of  running  an  earlier  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:14256;left:108"><nobr>version,  the  device  will  notify  the  user  of  the  compatibility  issue  upon  initial  connection  to&nbsp;</nobr></div>
<div style="position:absolute;top:14278;left:108"><nobr>the  HU  and  immediately  terminate  the  AAP  connection.&nbsp;</nobr></div>
<div style="position:absolute;top:14278;left:631"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:14346;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:14366;left:730"><nobr>12  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:14431;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="13"><b>Page 13</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:14522;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:14549;left:108"><nobr>Establishing  AAP  Connections&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:14606;left:108"><nobr>AAP  connection  establishment  is  the  sequence  of  operations  executed  on  the  head  unit  (HU)&nbsp;</nobr></div>
<div style="position:absolute;top:14628;left:108"><nobr>and  mobile  device  (MD)  after  the  connection  is  initiated,  typically  when  the  user  plugs  the&nbsp;</nobr></div>
<div style="position:absolute;top:14651;left:108"><nobr>device  into  the  HU.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:14689;left:108"><nobr>Overview&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:14737;left:108"><nobr>When  the  user  initiates  connection,  the  MD  executes  a  series  of  steps  to  prepare  the&nbsp;</nobr></div>
<div style="position:absolute;top:14760;left:108"><nobr>connection  with  the  vehicle  HU.  If  a  step  is  not  necessary,  the  device  skips  that  step  (e.g.  if&nbsp;</nobr></div>
<div style="position:absolute;top:14782;left:108"><nobr>the  required  applications  are  already  installed  and  set  up,  the  Manage  Applications  screen&nbsp;</nobr></div>
<div style="position:absolute;top:14805;left:108"><nobr>does  not  appear).  Similarly,  if  a  user  has  previously  authorized  a  step,  the  device  executes&nbsp;</nobr></div>
<div style="position:absolute;top:14827;left:108"><nobr>that  step  silently  without  user  interaction.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:15205;left:815"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:15243;left:108"><nobr><b>Figure  2 </b>.  <font color="#666666">Overview  of  initial  AAP  connection  establishment  (known  as  First  Run ) </font>.<font style="font-size:7px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:15276;left:108"><nobr>The  initial  AAP  connection  between  a  MD  and  HU  is  known  as  the  <font style="font-size:15px">First  Run </font>or  <font style="font-size:15px">First  Run&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:15298;left:108"><nobr>Experience <font style="font-size:14px">(FRX).  An  AAP  connection  begins  immediately  when  a  user  performs  one  of  the&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:15321;left:108"><nobr>following  actions:&nbsp;</nobr></div>
<div style="position:absolute;top:15359;left:115"><nobr>● Plugs  the  MD  into  the  vehicle  USB  connection  using  a  standard  USB  connector.&nbsp;</nobr></div>
<div style="position:absolute;top:15397;left:115"><nobr>● Powers  on  the  HU  with  the  MD  already  plugged  in.  To  avoid  confusion,  if  the  HU  has  a&nbsp;</nobr></div>
<div style="position:absolute;top:15420;left:142"><nobr>native  setting  option  that  allows  users  to  enable/disable  Android  Auto  connections,  this&nbsp;</nobr></div>
<div style="position:absolute;top:15443;left:142"><nobr>setting  MUST  be  enabled  by  default.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:15465;left:142"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:15534;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:15554;left:730"><nobr>13  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:15619;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="14"><b>Page 14</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:15710;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:15730;left:108"><nobr>The  HU  initializes  the  USB  host  as  an  Android  Open  Accessory  (AOA)  device.  For  details  on&nbsp;</nobr></div>
<div style="position:absolute;top:15752;left:108"><nobr>USB/AOA  setup,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#19"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#19">Setting  Up  Transport</a> </font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#19"></a>.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:15790;left:108"><nobr>The  HU  MUST  be  able  to  determine  if  the  MD  is  compatible  with  AAP.  This  is  done  by&nbsp;</nobr></div>
<div style="position:absolute;top:15813;left:108"><nobr>initiating  a  AOAP  connection  and  then  listening  for  the  correct  signals:&nbsp;</nobr></div>
<div style="position:absolute;top:16388;left:803"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:16425;left:108"><nobr><b>Figure  3 </b>.  <font color="#666666">Overview  of  AAP  connection  flow.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:16459;left:108"><nobr>AAP  connections  SHOULD  persist  as  long  as  the  MD  is  connected  to  the  HU,  or  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:16481;left:108"><nobr>terminates  the  connection.  When  the  HU  switches  between  native  and  projection  mode,  the&nbsp;</nobr></div>
<div style="position:absolute;top:16504;left:108"><nobr>AAP  connection  is  kept  active  even  if  the  AAP  video  or  audio  may  not  be  rendered  by  the  HU.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#212121"><span style="font-size:14px;font-family:Times;color:#212121">
<div style="position:absolute;top:16542;left:108"><nobr>As  the  MD  cannot  know  the  state  of  other  devices  in  the  system,  the  HU  MUST  determine&nbsp;</nobr></div>
<div style="position:absolute;top:16564;left:108"><nobr>how  to  handle  connections  from  multiple  AAP  compatible  devices.  For  example,  if  there  is  a&nbsp;</nobr></div>
<div style="position:absolute;top:16587;left:108"><nobr>current  active  AAP  connection  between  a  MD  and  the  HU,  the  HU  implementation  MUST&nbsp;</nobr></div>
<div style="position:absolute;top:16609;left:108"><nobr>account  for  a  second  AAP  compatible  device  being  connected.  The  first  MD  SHOULD  continue&nbsp;</nobr></div>
<div style="position:absolute;top:16632;left:108"><nobr>to  have  control  and  additional  devices  SHOULD  simply  charge.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:16722;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:16742;left:730"><nobr>14  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:16807;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="15"><b>Page 15</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:16898;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#434343"><span style="font-size:27px;font-family:Times;color:#434343">
<div style="position:absolute;top:16922;left:111"><nobr>➊&nbsp;<font style="font-size:16px" color="#03a9f4">Connect  AAP&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:16959;left:108"><nobr>The  MD  and  HU  authenticate  using  an <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security"> </a><font color="#3d85c6"><a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">SSL  certificate</a> </font>and  exchange  AAP  service  discovery&nbsp;</nobr></div>
<div style="position:absolute;top:16982;left:108"><nobr>information.&nbsp;</nobr></div>
<div style="position:absolute;top:17020;left:108"><nobr>After  establishing  an  AOAP  connection  with  the  MD,  the  HU  initiates  negotiation  of  the  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:17043;left:108"><nobr>connection  by  sending  a  Version  Request  to  the  MD  with  ReceiverLib  function&nbsp;</nobr></div>
<div style="position:absolute;top:17068;left:108"><nobr>GalReceiver::start()&nbsp;.  The  HU  MUST  NOT  send  additional  Version  Requests  or  ping&nbsp;</nobr></div>
<div style="position:absolute;top:17088;left:108"><nobr>requests  ( GalReceiver::sendPingRequest()&nbsp;)  while  awaiting  a  response  from  the  MD.&nbsp;</nobr></div>
<div style="position:absolute;top:17110;left:108"><nobr>Encrypted  packets  MUST  NOT  be  sent  from  HU  to  MD  until  authentication  is  complete.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:17148;left:108"><nobr>If  the  MD  supports  AAP  and  authentication  succeeds,  the  HU  receives  a  Service  Discovery&nbsp;</nobr></div>
<div style="position:absolute;top:17171;left:108"><nobr>Request,  ie.  ReceiverLib  IControllerCallbacks::serviceDiscoveryRequestCallback&nbsp;is&nbsp;</nobr></div>
<div style="position:absolute;top:17193;left:108"><nobr>called.  If  the  MD  does  not  support  AAP,  then  a  ByeBye  message  MAY  be  received  by  the  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:17216;left:108"><nobr>Some  MDs  that  do  not  support  AAP  will  not  send  a  Service  Discovery  Request  <font style="font-size:15px">or </font>a  ByeBye&nbsp;</nobr></div>
<div style="position:absolute;top:17238;left:108"><nobr>message;  in  this  case  the  HU  SHOULD  reset  the  USB  connection  no  less  than  15  seconds  after&nbsp;</nobr></div>
<div style="position:absolute;top:17261;left:108"><nobr>calling  GalReceiver::start()&nbsp;.&nbsp;</nobr></div>
<div style="position:absolute;top:17299;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:17646;left:730"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:17669;left:108"><nobr><b>Figure  4 </b>.  <font color="#666666">Authorizing  AAP  connection.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:17716;left:108"><nobr>The  Allow  AAP  Connection  dialog  prompts  users  to  set  preferences  (OK,  CANCEL)  for  the&nbsp;</nobr></div>
<div style="position:absolute;top:17739;left:108"><nobr>current  connection  and  future  connections  (see  Service  Discovery  for  details  on  the  Vehicle&nbsp;</nobr></div>
<div style="position:absolute;top:17761;left:108"><nobr>ID  that  triggers  First  Run  Experience).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:17799;left:108"><nobr><b>Service  Discovery&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:17837;left:108"><nobr>During  the  authorization  process,  the  HU  sends  metadata  (relevant  properties  below)  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:17859;left:108"><nobr>MD  during  service  discovery.  If  properties  are  not  basic  strings  (e.g.  “2016”  or  “Galaxie&nbsp;</nobr></div>
<div style="position:absolute;top:17910;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:17930;left:730"><nobr>15  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:17995;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="16"><b>Page 16</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:18086;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18106;left:108"><nobr>Sport”)  and  require  decoding,  the  OEM  MUST  provide  decoding  information  to  Google.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:18151;left:115"><nobr>Property&nbsp;</nobr></div>
<div style="position:absolute;top:18151;left:343"><nobr>Required?&nbsp; Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:18187;left:117"><nobr>Make&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18188;left:345"><nobr><b>Required&nbsp; </b>Vehicle  manufacturer  brand.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:18249;left:117"><nobr>Model&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18250;left:345"><nobr><b>Required</b>&nbsp;</nobr></div>
<div style="position:absolute;top:18227;left:439"><nobr>Vehicle  model  (technical  name  suffices,  but&nbsp;</nobr></div>
<div style="position:absolute;top:18250;left:439"><nobr>partner  MUST  provide  Google  with  logic  to  parse&nbsp;</nobr></div>
<div style="position:absolute;top:18272;left:439"><nobr>name  provided).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:18322;left:117"><nobr>Year&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18323;left:345"><nobr><b>Required</b>&nbsp;</nobr></div>
<div style="position:absolute;top:18312;left:439"><nobr>Model  year,  as  distinct  from  year  of  manufacture&nbsp;</nobr></div>
<div style="position:absolute;top:18334;left:439"><nobr>(typically  launch  year).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:18463;left:117"><nobr>Vehicle_ID&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18463;left:345"><nobr><b>Required&nbsp;</b></nobr></div>
<div style="position:absolute;top:18373;left:439"><nobr>Identifier  for  the  vehicle,  ideally  regenerated  for&nbsp;</nobr></div>
<div style="position:absolute;top:18396;left:439"><nobr>every  factory  reset  performed  on  the  HU.  An  MD&nbsp;</nobr></div>
<div style="position:absolute;top:18418;left:439"><nobr>connecting  to  a  HU  can  determine  whether  this&nbsp;</nobr></div>
<div style="position:absolute;top:18441;left:439"><nobr>is  the  first  time  the  MD  has  been  connected  to&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:18463;left:439"><nobr>this <font style="font-size:14px">HU  by  comparing  vehicle_id.  Do  not  use  a&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18486;left:439"><nobr>traceable  ID  with  real-world  significance  (such  as&nbsp;</nobr></div>
<div style="position:absolute;top:18508;left:439"><nobr>the  VIN).  A  valid  <font style="font-size:15px">Vehicle_ID </font>SHOULD  be  unique&nbsp;</nobr></div>
<div style="position:absolute;top:18531;left:439"><nobr>string  per  HU,  representing  longer  than  64  bits.&nbsp;</nobr></div>
<div style="position:absolute;top:18553;left:439"><nobr>For  details,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#101"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#101">Appendix  A:  Vehicle  ID</a> </font>.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:18615;left:117"><nobr>Driver_Position&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18615;left:345"><nobr>Optional&nbsp;</nobr></div>
<div style="position:absolute;top:18593;left:439"><nobr>Indicates  the  position  (left,  right,  center)  of  the&nbsp;</nobr></div>
<div style="position:absolute;top:18615;left:439"><nobr>steering  wheel,  which  may  influence  the  position&nbsp;</nobr></div>
<div style="position:absolute;top:18638;left:439"><nobr>of  UI  elements.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:18677;left:117"><nobr>Head_Unit_Make&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18677;left:345"><nobr>Optional&nbsp;</nobr></div>
<div style="position:absolute;top:18677;left:439"><nobr>HU  manufacturer  (supplier)  name  or  brand.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:18716;left:117"><nobr>Head_Unit_Model&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18717;left:345"><nobr>Optional&nbsp;</nobr></div>
<div style="position:absolute;top:18717;left:439"><nobr>HU  model,  identifier,  or  platform  code.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:18834;left:117"><nobr>Head_Unit_Software_Build&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18835;left:345"><nobr>Optional&nbsp;</nobr></div>
<div style="position:absolute;top:18756;left:439"><nobr>HU  software  build,  typically  an  internal  build&nbsp;</nobr></div>
<div style="position:absolute;top:18778;left:439"><nobr>identifier  for  HU  software.  If  provided,  it  may  be&nbsp;</nobr></div>
<div style="position:absolute;top:18801;left:439"><nobr>the  same  as  the  Head_Unit_Software_Version&nbsp;</nobr></div>
<div style="position:absolute;top:18823;left:439"><nobr>(below)  or  a  different  value  entirely.  Google&nbsp;</nobr></div>
<div style="position:absolute;top:18846;left:439"><nobr>issues  a  new  SSL  certificate  for  each  compatible&nbsp;</nobr></div>
<div style="position:absolute;top:18868;left:439"><nobr>Android  Auto  implementation,  so  having  this&nbsp;</nobr></div>
<div style="position:absolute;top:18891;left:439"><nobr>available  in  production  is  useful  information  but&nbsp;</nobr></div>
<div style="position:absolute;top:18913;left:439"><nobr>not  required.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:18975;left:117"><nobr>Head_Unit_Software_Version&nbsp; <b><font style="font-size:14px">Required&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:18953;left:439"><nobr>HU  software  version.  Typically  a  version&nbsp;</nobr></div>
<div style="position:absolute;top:18975;left:439"><nobr>identifier  a  vehicle  owner  can  find  in  the  Settings&nbsp;</nobr></div>
<div style="position:absolute;top:18998;left:439"><nobr>menu  of  the  HU.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:19037;left:117"><nobr>Session  Configuration&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:19037;left:345"><nobr>Optional&nbsp;</nobr></div>
<div style="position:absolute;top:19037;left:439"><nobr>Values  set  to  configure  the  MD  behavior  during&nbsp;</nobr></div>
<div style="position:absolute;top:19098;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:19118;left:730"><nobr>16  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:19183;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="17"><b>Page 17</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:19274;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:19303;left:439"><nobr>projection  (hiding  clock,  phone  signal  level  and&nbsp;</nobr></div>
<div style="position:absolute;top:19325;left:439"><nobr>battery  level  indicators).  HU  can  specify  if  the&nbsp;</nobr></div>
<div style="position:absolute;top:19348;left:439"><nobr>vehicle  can  play  native  media  while  running  ASR.&nbsp;</nobr></div>
<div style="position:absolute;top:19370;left:439"><nobr>False  when  unspecified.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:19402;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:19429;left:108"><nobr>Uses  and  requirements  for  HU  service  discovery  metadata:&nbsp;</nobr></div>
<div style="position:absolute;top:19467;left:115"><nobr>● <b>OEM  App  Filtering. </b>These  metadata  are  used  by  the  Play  Store  to  ensure  that  the&nbsp;</nobr></div>
<div style="position:absolute;top:19489;left:142"><nobr>correct  OEM-authored  apps  are  made  available  for  installation.  The  values  provided  by&nbsp;</nobr></div>
<div style="position:absolute;top:19512;left:142"><nobr>the  HU  for  some  or  all  of  these  Service  Discovery  fields  MUST  therefore  be  <font style="font-size:15px">unique&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:19534;left:142"><nobr>enough <font style="font-size:14px">to  ensure  the  correct  apps  can  be  installed  on  the  correct  HU.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:19565;left:115"><nobr>● <b>Targeted  Disablement. </b>In  cases  where  Google  MUST  disable  AAP  on  a  subset  of  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:19587;left:142"><nobr>capable  devices,  the  metadata  fields  are  used  to  determine  targeted  HUs.  The  Make&nbsp;field&nbsp;</nobr></div>
<div style="position:absolute;top:19610;left:142"><nobr>must,  at  a  minimum,  be  a  stable  and  predictable  value.  For  example,  use  a  consistently&nbsp;</nobr></div>
<div style="position:absolute;top:19632;left:142"><nobr>cased  OEM  marque  such  as  ‘Car  Company’  rather  than  ‘car_company’  or  ‘CarCompany’  or&nbsp;</nobr></div>
<div style="position:absolute;top:19655;left:142"><nobr>other  variants.  Additional  fields  may  be  used,  but  Make&nbsp;MUST  be  included  and  SHALL  be&nbsp;</nobr></div>
<div style="position:absolute;top:19677;left:142"><nobr>consistent  across  Android  Auto  compatible  products.&nbsp;</nobr></div>
<div style="position:absolute;top:19708;left:108"><nobr>On  first-run,  the  MD  does  not  send  video  data  until  the  user  grants  permission  via  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:19730;left:108"><nobr>screen.  Integrators  may  choose  to  draw  the  user's  attention  to  MD  screen  with  a  message  on&nbsp;</nobr></div>
<div style="position:absolute;top:19753;left:108"><nobr>the  HU.  A  suggested  implementation  is:&nbsp;</nobr></div>
<div style="position:absolute;top:19783;left:115"><nobr>1. After  establishment  of  an  encrypted  AAP  connection,  start  a  timer  for  3  seconds.&nbsp;</nobr></div>
<div style="position:absolute;top:19813;left:115"><nobr>2. If  the  timer  completes  and  <font style="font-size:12px">VideoSink::setupCallback()&nbsp;</font>has  not  yet  been  called  (i.e.&nbsp;</nobr></div>
<div style="position:absolute;top:19836;left:142"><nobr>video  feed  not  established),  display  a  message  instructing  user  to  check  the  device.&nbsp;</nobr></div>
<div style="position:absolute;top:19866;left:115"><nobr>3. When  the  MD  starts  to  send  video  frames,  the  projected  display  MUST  be  shown  without&nbsp;</nobr></div>
<div style="position:absolute;top:19889;left:142"><nobr>further  user  interaction.&nbsp;</nobr></div>
<div style="position:absolute;top:19919;left:108"><nobr>Suggested  text  for  the  message  is:  "Android  Auto  can't  connect  right  now.  When  it's  safe  to&nbsp;</nobr></div>
<div style="position:absolute;top:19942;left:108"><nobr>do  so,  check  your  Android  phone."<font color="#212121">&nbsp;</font></nobr></div>
</span></font>
<font size="4" face="Times" color="#434343"><span style="font-size:27px;font-family:Times;color:#434343">
<div style="position:absolute;top:19984;left:111"><nobr>➋&nbsp;<font style="font-size:16px" color="#03a9f4">Manage  Applications&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:20022;left:108"><nobr>The  MD  prompts  the  user  to  install,  update,  and  configure  required  applications.  This  step&nbsp;</nobr></div>
<div style="position:absolute;top:20044;left:108"><nobr>occurs  entirely  on  the  MD  and  does  not  involve  the  HU.  If  all  required  applications  meet&nbsp;</nobr></div>
<div style="position:absolute;top:20067;left:108"><nobr>minimum  version  requirements  and  are  properly  configured,  this  step  is  skipped.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#434343"><span style="font-size:27px;font-family:Times;color:#434343">
<div style="position:absolute;top:20109;left:111"><nobr>➌&nbsp;<font style="font-size:16px" color="#03a9f4">Connect  Bluetooth&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:20146;left:108"><nobr>When  an  MD  is  connected  to  a  specific  vehicle  for  the  first  time,  the  MD  prompts  the  user  to&nbsp;</nobr></div>
<div style="position:absolute;top:20169;left:108"><nobr>"always  enable  and  pair  with  this  car".  If  the  user  accepts,  the  MD  silently  connects  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:20191;left:108"><nobr>vehicle  whenever  the  MD  is  connected  to  the  vehicle  through  AAP.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:20230;left:108"><nobr>If  the  user  gives  consent,  projection  is  enabled  and  the  MD  and  HU  establish  a  Bluetooth&nbsp;</nobr></div>
<div style="position:absolute;top:20286;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:20306;left:730"><nobr>17  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:20371;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="18"><b>Page 18</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:20462;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:20482;left:108"><nobr>connection  that  runs  as  a  background  task  (for  details  on  automatic  AAP  Bluetooth&nbsp;</nobr></div>
<div style="position:absolute;top:20504;left:108"><nobr>connections,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#23"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#23">Bluetooth </a></font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#23"></a>).  If  user  cancels  connection,  AAP  shuts  down;  on  subsequent  runs&nbsp;</nobr></div>
<div style="position:absolute;top:20527;left:108"><nobr>the  First  Run  experience  executes  again.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#434343"><span style="font-size:27px;font-family:Times;color:#434343">
<div style="position:absolute;top:20569;left:111"><nobr>➍&nbsp;<font style="font-size:16px" color="#03a9f4">Grant  Video  Focus  to  MD  on  request&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:20614;left:108"><nobr>The  MD  enables  screen  projection  to  the  HU,  enabling  the  HU  screen  to  show  projection&nbsp;</nobr></div>
<div style="position:absolute;top:20637;left:108"><nobr>contents  when  the  MD  requests  video  focus.  Immediately  after  projection  is  enabled:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:20668;left:115"><nobr>● For  <b>First  Run </b>,  the  MD  requests  video  focus  and  the  HU  SHOULD  grant  it  (as  the  end  user&nbsp;</nobr></div>
<div style="position:absolute;top:20690;left:142"><nobr>is  explicitly  setting  up  Android  Auto  at  this  time).&nbsp;</nobr></div>
<div style="position:absolute;top:20721;left:115"><nobr>● For  <b>subsequent  runs </b>,  the  MD  and  HU  negotiate  focus  as  detailed  in <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#40"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#40">Audio  Focus</a> </font>and&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:20743;left:142"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#32">Video  Focus </a><font color="#434343"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#32"></a>.&nbsp;</font></nobr></div>
</span></font>
<font size="4" face="Times" color="#434343"><span style="font-size:27px;font-family:Times;color:#434343">
<div style="position:absolute;top:20777;left:111"><nobr>➎&nbsp;<font style="font-size:16px" color="#03a9f4">Run  Tutorial&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:20815;left:108"><nobr>For  first  run  the  MD  projects  a  tutorial  that  includes  visible  content  and  user  interaction  on&nbsp;</nobr></div>
<div style="position:absolute;top:20837;left:108"><nobr>the  MD  screen  and  on  the  HU  screen.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#434343"><span style="font-size:27px;font-family:Times;color:#434343">
<div style="position:absolute;top:20880;left:111"><nobr>➏&nbsp;<font style="font-size:16px" color="#03a9f4">Run  Disclaimers&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:20917;left:108"><nobr>For  first  run,  the  MD  projects  disclaimers  that  require  user  consent.&nbsp;</nobr></div>
<div style="position:absolute;top:21232;left:524"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:21255;left:108"><nobr><b>Figure  5 </b>.  <font color="#666666">Disclaimers  presented  during  first  run  user  experience.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:21288;left:108"><nobr>Without  user  interaction,  the  disclaimer  MAY  automatically  timeout  after  displaying  for  a&nbsp;</nobr></div>
<div style="position:absolute;top:21311;left:108"><nobr>sufficient  time.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:21349;left:108"><nobr>Start  Android  Auto  UI&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:21381;left:108"><nobr>The  MD  projects  the  Android  Auto  UI  Home  screen  to  the  HU  display.&nbsp;</nobr></div>
<div style="position:absolute;top:21474;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:21494;left:730"><nobr>18  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:21559;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="19"><b>Page 19</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:21650;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:21669;left:108"><nobr>Setting  Up  Transport&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:21718;left:108"><nobr>The  AAP  protocol  requires  a  transport  connecting  the  MD  and  HU.  Current  implementations&nbsp;</nobr></div>
<div style="position:absolute;top:21741;left:108"><nobr>support  USB  (and  future  versions  may  support  Wi-Fi  Direct)  but  the  protocol  is  transport&nbsp;</nobr></div>
<div style="position:absolute;top:21763;left:108"><nobr>agnostic  and  can  support  any  transport  mechanism  that  provides  sufficient  bandwidth.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:21801;left:108"><nobr>Universal  Serial  Bus  (USB)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:21841;left:108"><nobr>HU  receiver  implementations  MUST  support  USB  as  a  transport  for  AAP.  In  this  configuration,&nbsp;</nobr></div>
<div style="position:absolute;top:21863;left:108"><nobr>the  AAP  protocol  runs  on  top  of  the <a href="http://accessories.android.com/"> </a><font color="#3d85c6"><a href="http://accessories.android.com/">Android  Open  Accessory  Protocol </a></font>(AOAP)  to&nbsp;</nobr></div>
<div style="position:absolute;top:21886;left:108"><nobr>communicate  over  USB  bulk  endpoints  established  between  the  MD  and  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:21924;left:108"><nobr>HU  implementations  MUST  support  <b>USB  2.0 </b>and  <b>AOAP  1.0  or  2.0 </b>.  The  HU  operates  as  a  USB&nbsp;</nobr></div>
<div style="position:absolute;top:21946;left:108"><nobr>Host  and  AOA  accessory.  The  HU  powers  the  MD,  which  operates  as  a  USB  accessory.&nbsp;</nobr></div>
<div style="position:absolute;top:22221;left:540"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:22259;left:108"><nobr><b>Figure  6 </b>.  <font color="#666666">USB  roles  for  mobile  device  and  head  unit.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:22292;left:108"><nobr><b>Configuring  AOAP&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:22330;left:108"><nobr>An  Android  MD  identifies  a  vehicle  as  a  AAP  receiver  based  on  accessory  identifiers:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:22375;left:115"><nobr>Manufacturer  Name&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:22377;left:323"><nobr>Android&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:22412;left:115"><nobr>Model  Name&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:22414;left:323"><nobr>Android  Auto&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:22449;left:115"><nobr>Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:22452;left:323"><nobr>Android  Auto&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:22486;left:115"><nobr>AAP  Protocol  Version&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:22489;left:323"><nobr>1.0&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:22524;left:115"><nobr>URI&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:22526;left:323"><nobr>&lt;Empty&gt;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:22561;left:115"><nobr>Serial  Number&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:22563;left:323"><nobr>&lt;Empty&gt;&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:22592;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:22662;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:22682;left:730"><nobr>19  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:22747;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="20"><b>Page 20</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:22838;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:22858;left:108"><nobr>Newer  mobile  devices  might  advertise  as  AOAP  2.0,  which  is  backward-compatible  with  AOAP&nbsp;</nobr></div>
<div style="position:absolute;top:22880;left:108"><nobr>1.0.  For  details  on  configuring  an  AOAP  host  accessory,  refer  to <a href="http://source.android.com/accessories/aoa.html"> </a><font color="#3d85c6"><a href="http://source.android.com/accessories/aoa.html">Android  Open  Accessory</a> </font>.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:22918;left:108"><nobr><b>USB  Mode  Selection&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:22957;left:108"><nobr>MDs  and  HUs  can  support  multiple  USB  modes  including  charge-only,  USB  Mass  Storage,&nbsp;</nobr></div>
<div style="position:absolute;top:22979;left:108"><nobr>MTP,  and  AOAP.  Detecting  AOAP/AAP  based  on  connected  device  type  is  problematic;  to&nbsp;</nobr></div>
<div style="position:absolute;top:23002;left:108"><nobr>prevent  compatibility  issues,  the  HU  MUST  attempt   AOAP  initiation  regardless  of  connected&nbsp;</nobr></div>
<div style="position:absolute;top:23024;left:108"><nobr>MD  USB  Vendor  ID  (VID)  and  Product  ID  (PID).  To  correctly  detect  and  negotiate  USB  mode&nbsp;</nobr></div>
<div style="position:absolute;top:23047;left:108"><nobr>selection,  the  host  (HU)  and  client  (MD)  use  the  following  process:&nbsp;</nobr></div>
<div style="position:absolute;top:23085;left:115"><nobr>1. HU  attempts  to  connect  to  MD  using  AOAP  and  advertise  itself  as  an  AOAP  accessory  .&nbsp;</nobr></div>
<div style="position:absolute;top:23115;left:115"><nobr>2. If  MD:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:23146;left:142"><nobr>○ Supports  AOAP,  it  successfully  re-enumerates  in  AOAP  mode.&nbsp;</nobr></div>
<div style="position:absolute;top:23176;left:142"><nobr>○ Does  not  support  AOAP,  it  ignores  the  AOAP  handshake,  enabling  the  HU  to&nbsp;</nobr></div>
<div style="position:absolute;top:23199;left:169"><nobr>negotiate  other  USB  modes  or  charge-only  mode.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:23237;left:108"><nobr><b>Head  Unit  Responsibilities&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:23274;left:108"><nobr>The  HU  implements  the  standard  AOAP  and  discovery  mechanism.  On  detecting  a  USB&nbsp;</nobr></div>
<div style="position:absolute;top:23296;left:108"><nobr>physical  connection,  the  HU  MUST  switch  the  device  to  AOAP  accessory  mode  (irrespective  of&nbsp;</nobr></div>
<div style="position:absolute;top:23319;left:108"><nobr>initial  VID/PID).&nbsp;</nobr></div>
<div style="position:absolute;top:23357;left:108"><nobr>After  the  device  is  in  accessory  mode,  the  vendor  ID  is  0x18D1  (Google)  and  the  product  ID  is&nbsp;</nobr></div>
<div style="position:absolute;top:23380;left:108"><nobr>0x2D00  or  0x2D01.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:11px;font-family:Times;color:#000000">
<div style="position:absolute;top:23467;left:131"><nobr><b>NOTE<font color="#434343">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:23429;left:200"><nobr>AOAP  2.0  adds  extra  product  IDs  for  an  OPTIONAL  USB  audio&nbsp;</nobr></div>
<div style="position:absolute;top:23452;left:200"><nobr>interface.  If  audio  support  is  also  enabled  by  the  head  unit,  then&nbsp;</nobr></div>
<div style="position:absolute;top:23474;left:200"><nobr>product  IDs  0x2D04  and  0x2D05  should  also  be  supported.&nbsp;</nobr></div>
<div style="position:absolute;top:23497;left:200"><nobr>Android  Auto  requires  only  the  <font style="font-size:15px">accessory </font>functionality.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:23531;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:23557;left:108"><nobr>If  the  MD  supports  AOAP,  the  HU  establishes  communication  with  the  MD  in  USB  accessory&nbsp;</nobr></div>
<div style="position:absolute;top:23580;left:108"><nobr>mode.  For  details  on  implementing  the  protocol  and  discovery  mechanism,  refer  to <a href="http://source.android.com/accessories/aoa.html"> </a><font color="#3d85c6"><a href="http://source.android.com/accessories/aoa.html">AOAP </a></font><a href="http://source.android.com/accessories/aoa.html"></a>.&nbsp;</nobr></div>
<div style="position:absolute;top:23618;left:108"><nobr>On  initiating  an  Android  Auto  session,  the  HU  MUST  listen  for  an  MD  <font style="font-size:15px">disconnect message</font>&nbsp;</nobr></div>
<div style="position:absolute;top:23641;left:108"><nobr>(ByeBye)  that  indicates  the  user  has  exited  or  disabled  AAP.  On  receiving  the  disconnect,  the&nbsp;</nobr></div>
<div style="position:absolute;top:23663;left:108"><nobr>HU  re-enumerates  USB  and  does  not  send  the  request  to  start  Android  accessory  mode.  If&nbsp;</nobr></div>
<div style="position:absolute;top:23686;left:108"><nobr>the  HU  has  not  received  an  explicit  user  disconnect  message  for  the  session,  it  repeats  the&nbsp;</nobr></div>
<div style="position:absolute;top:23708;left:108"><nobr>AOAP  process  for  subsequent  connections.&nbsp;</nobr></div>
<div style="position:absolute;top:23746;left:108"><nobr>The  HU  can  terminate  the  AOAP  session  with  an  MD  by  resetting  the  USB  connection  (and&nbsp;</nobr></div>
<div style="position:absolute;top:23769;left:108"><nobr>e.g.  re-enumerate  using  MTP).  USB  reset  is  not  intended  for  suspending  the  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:23791;left:108"><nobr>communication;  during  normal  operation,  the  USB  AOAP  session  is  maintained  even  if  the&nbsp;</nobr></div>
<div style="position:absolute;top:23850;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:23870;left:730"><nobr>20  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:23935;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="21"><b>Page 21</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:24026;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:24046;left:108"><nobr>HU  is  not  actively  displaying  projection  content.  For  recoverable  USB  errors  that  cause  a&nbsp;</nobr></div>
<div style="position:absolute;top:24068;left:108"><nobr>temporary  interruption  in  projection,  AAP  automatically  takes  video  focus  on  connection&nbsp;</nobr></div>
<div style="position:absolute;top:24091;left:108"><nobr>stabilization.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:24129;left:108"><nobr><b>Mobile  Device  Responsibilities&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:24167;left:108"><nobr>The  mobile  device  is  responsible  for:&nbsp;</nobr></div>
<div style="position:absolute;top:24206;left:115"><nobr>● Switching  to  AOAP  mode  when  requested  by  the  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:24244;left:115"><nobr>● Responding  to  HU  initiation  of  Android  Auto  connection  with  an  appropriate  handshake.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:24282;left:115"><nobr>● Registering  and  responding  to  HU  Service  Discovery  declarations  during  Android  Auto&nbsp;</nobr></div>
<div style="position:absolute;top:24304;left:142"><nobr>connection  setup.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:24343;left:108"><nobr>After  an  AOAP  connection  is  established,  the  HU  uses  the  Android  Auto  Receiver  Library  to&nbsp;</nobr></div>
<div style="position:absolute;top:24365;left:108"><nobr>establish  a  secure,  encrypted  communication  channel  (see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#21"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#21">Authenticating</a> </font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#21"></a>).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:24403;left:108"><nobr><b>USB  Charging&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:24442;left:108"><nobr>HUs  MUST  support  charging-only  mode.  When  an  HU  USB  port  is  operating  as  a  standard&nbsp;</nobr></div>
<div style="position:absolute;top:24464;left:108"><nobr>downstream  port  and  an  MD  selects  charging-only  mode,  the  HU  sends  a  USB&nbsp;</nobr></div>
<div style="position:absolute;top:24487;left:108"><nobr>SET_CONFIGURATION  request  that  allows  the  MD  to  draw  current  up  to  500mA.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:24525;left:108"><nobr>The  HU  MUST  also  support  CDP  as  defined  in  the <a href="http://www.usb.org/developers/docs/devclass_docs/USB_Battery_Charging_1.2.pdf"> </a><font color="#3d85c6"><a href="http://www.usb.org/developers/docs/devclass_docs/USB_Battery_Charging_1.2.pdf">USB-IF  Battery  Charging  Specification  v1.2</a> </font><a href="http://www.usb.org/developers/docs/devclass_docs/USB_Battery_Charging_1.2.pdf"></a>.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:24563;left:108"><nobr>Authenticating&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:24612;left:108"><nobr>The  AAP  protocol  uses  industry  standard <a href="http://en.wikipedia.org/wiki/Transport_Layer_Security"> </a><font color="#3d85c6"><a href="http://en.wikipedia.org/wiki/Transport_Layer_Security">TLS  1.2 </a></font>with  Client  Authentication  to  secure&nbsp;</nobr></div>
<div style="position:absolute;top:24634;left:108"><nobr>communications  between  the  head  unit  (TLS  Client)  and  mobile  device  (TLS  Server).  The  first&nbsp;</nobr></div>
<div style="position:absolute;top:24657;left:108"><nobr>step  in  establishing  a  AAP  connection  is  mutual  authentication  between  the  MD  and  HU&nbsp;</nobr></div>
<div style="position:absolute;top:24679;left:108"><nobr>following  the <a href="http://en.wikipedia.org/wiki/Transport_Layer_Security#Client-authenticated_TLS_handshake"> </a><font color="#3d85c6"><a href="http://en.wikipedia.org/wiki/Transport_Layer_Security#Client-authenticated_TLS_handshake">TLS  Client-authenticated  TLS  handshake</a> </font>protocol.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:24717;left:108"><nobr>Authentication  Certificates&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:24757;left:108"><nobr>The  AAP  sender  (on  the  MD)  and  the  AAP  Receiver  Library  (on  the  HU)  perform  the  core&nbsp;</nobr></div>
<div style="position:absolute;top:24779;left:108"><nobr>mutual  authentication  protocol.  If  authentication  succeeds,  the  sender  and  receiver  library&nbsp;</nobr></div>
<div style="position:absolute;top:24802;left:108"><nobr>initiate  the  AAP  projection  connection.  If  the  receiver  library  cannot  verify  the  sender&nbsp;</nobr></div>
<div style="position:absolute;top:24824;left:108"><nobr>certificate,  the  HU  terminates  the  connection  and  disconnects  AOAP  (the  MD  might  attempt&nbsp;</nobr></div>
<div style="position:absolute;top:24847;left:108"><nobr>to  reconnect  in  another  USB  mode).&nbsp;</nobr></div>
<div style="position:absolute;top:24885;left:108"><nobr>The  receiver  library  on  the  HU  performs  the  entire  certificate  verification.  While  integrators&nbsp;</nobr></div>
<div style="position:absolute;top:24907;left:108"><nobr>do  not  need  to  implement  this  authentication,  they  MUST  ensure  the  HU  securely  stores  keys&nbsp;</nobr></div>
<div style="position:absolute;top:24930;left:108"><nobr>and  passes  those  keys  to  the  receiver  library  on  request.  Software-backed  security  (such  as&nbsp;</nobr></div>
<div style="position:absolute;top:24952;left:108"><nobr>Linux  file  system  permission  control)  is  sufficient,  but  hardware-backed  secure  storage  is&nbsp;</nobr></div>
<div style="position:absolute;top:24975;left:108"><nobr>strongly  RECOMMENDED.&nbsp;</nobr></div>
<div style="position:absolute;top:25038;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:25058;left:730"><nobr>21  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:25123;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="22"><b>Page 22</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:25214;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:25234;left:108"><nobr>The  HU  and  MD  establish  mutual  trust  using  two  (2)  certificates  signed  by  the  Google  CA:&nbsp;</nobr></div>
<div style="position:absolute;top:25264;left:115"><nobr>● HU  certificate  sent  to  MD,  which  verifies  it  to  ensure  the  HU  is  a  valid  AAP  receiver.&nbsp;</nobr></div>
<div style="position:absolute;top:25295;left:115"><nobr>● MD  certificate  sent  to  HU,  which  verifies  it  to  ensure  the  MD  is  a  valid  AAP  device.&nbsp;</nobr></div>
<div style="position:absolute;top:25325;left:108"><nobr>Google  provides  HU  certificates  to  integrators  but  recommends  that  integrators  request  and&nbsp;</nobr></div>
<div style="position:absolute;top:25347;left:108"><nobr>use  a  unique  client  certificate  for  each  make/model/year  (data  not  encoded  in  certificate).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:25395;left:115"><nobr>Public/Private  Key  Format&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:25395;left:360"><nobr>RSA  with  2048  bit  keys&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:25432;left:115"><nobr>Digital  Certificate  Format&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:25432;left:360"><nobr><a href="http://tools.ietf.org/html/rfc5280">X.509</a>&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:25461;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:25480;left:108"><nobr>Authentication  Sequence&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:25512;left:108"><nobr>The  AAP  Receiver  Library  uses  the  OS  Abstraction  layer  API  to  retrieve  the  HU  digital&nbsp;</nobr></div>
<div style="position:absolute;top:25534;left:108"><nobr>certificate  and  private  key.  After  authentication  completes,  the  receiver  library  notifies  the&nbsp;</nobr></div>
<div style="position:absolute;top:25557;left:108"><nobr>HU  of  the  MD  identity  and  initiates  the  AAP  protocol.&nbsp;</nobr></div>
<div style="position:absolute;top:26049;left:599"><nobr>&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:26079;left:108"><nobr><b>Figure  7 </b>.  <font color="#666666">Mobile  device  and  head  unit  establish  trust  using  SSL  certificates.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:26113;left:108"><nobr>SSL  authentication  might  fail  with  error  “Certificate  not  yet  valid”  or  “Certificate  expired”  if&nbsp;</nobr></div>
<div style="position:absolute;top:26136;left:108"><nobr>the  internal  clock  on  the  HU  is  incorrect  and/or  does  not  match  the  approximate  time  on  the&nbsp;</nobr></div>
<div style="position:absolute;top:26158;left:108"><nobr>MD.  To  resolve,  the  HU  MUST  obtain  the  correct  time  (GPS,  Mobile  Network/NITZ,  NTP,  etc.).&nbsp;</nobr></div>
<div style="position:absolute;top:26226;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:26246;left:730"><nobr>22  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:26311;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="23"><b>Page 23</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:26402;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:26421;left:108"><nobr>Setting  Up  Bluetooth&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:26470;left:108"><nobr>To  provide  a  consistent  hands-free  telephony  experience  across  both  the  native  and&nbsp;</nobr></div>
<div style="position:absolute;top:26493;left:108"><nobr>projection  user  interfaces,  AAP  uses  Bluetooth  Hands-Free  Profile  (HFP)  for  voice  telephony&nbsp;</nobr></div>
<div style="position:absolute;top:26515;left:108"><nobr>communication.  However,  AAP  does  not  use  Bluetooth  for  speech  recognition  (BVRA)  or&nbsp;</nobr></div>
<div style="position:absolute;top:26538;left:108"><nobr>media  playback  audio  streaming  (A2DP).&nbsp;</nobr></div>
<div style="position:absolute;top:26576;left:108"><nobr>While  AAP  needs  a  Bluetooth  HFP  for  telephony  to  function  during  an  active  AAP  session,  the&nbsp;</nobr></div>
<div style="position:absolute;top:26598;left:108"><nobr>absence  of  an  active  HFP  connection  will  not  prevent  the  AAP  pairing  process  from&nbsp;</nobr></div>
<div style="position:absolute;top:26621;left:108"><nobr>completing.  The  HU  MUST  support  Bluetooth  HFP,  but  not  every  MD  will  always  have  an&nbsp;</nobr></div>
<div style="position:absolute;top:26643;left:108"><nobr>active  Bluetooth  connection.  For  example,  the  user  may  have  explicitly  turned  off  Bluetooth.&nbsp;</nobr></div>
<div style="position:absolute;top:26666;left:108"><nobr>AAP  does  not  disable  other  protocols  such  RFCOMM.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:26704;left:108"><nobr>Bluetooth  Pairing  &amp;  Connection&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:26743;left:108"><nobr>After  establishing  AAP  connection,  the  MD  can  automatically  pair  with  the  HU  over  Bluetooth.&nbsp;</nobr></div>
<div style="position:absolute;top:26782;left:108"><nobr>If  the  MD  has  <b>never  paired </b>with  the  HU  before,  the  HU  and  MD  use  the  following  Bluetooth&nbsp;</nobr></div>
<div style="position:absolute;top:26804;left:108"><nobr>pairing  and  connection  flow:&nbsp;</nobr></div>
<div style="position:absolute;top:27295;left:702"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:27318;left:108"><nobr><b>Figure  8 </b>.  <font color="#666666">Bluetooth  pairing  authentication  and  connection  flow  when  MD  has  never  paired  with  vehicle.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:27351;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:27414;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:27434;left:730"><nobr>23  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:27499;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="24"><b>Page 24</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:27590;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:27610;left:108"><nobr>If  the  MD  has  <b>previously  paired </b>with  the  HU,  the  HU  and  MD  use  the  following  Bluetooth&nbsp;</nobr></div>
<div style="position:absolute;top:27632;left:108"><nobr>pairing  and  connection  flow:&nbsp;</nobr></div>
<div style="position:absolute;top:27991;left:555"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:28021;left:108"><nobr><b>Figure  9 </b>.  <font color="#666666">Bluetooth  connection  flow  when  MD  has  previously  paired  with  vehicle.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:28055;left:108"><nobr><b>BluetoothService  Announcement&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:28093;left:108"><nobr>During  the  service  discovery  phase,  the  MD  looks  for  a  BluetoothService  announcement  from&nbsp;</nobr></div>
<div style="position:absolute;top:28116;left:108"><nobr>the  HU,  which  SHOULD  include  the:&nbsp;</nobr></div>
<div style="position:absolute;top:28155;left:115"><nobr>● <b>HU  Bluetooth  MAC  address </b>.  If  the  HU  wants  the  MD  to  skip  the  Bluetooth  pairing  and&nbsp;</nobr></div>
<div style="position:absolute;top:28177;left:142"><nobr>connection  process,  the  HU  can  declare  its  Bluetooth  MAC  address  as&nbsp;</nobr></div>
<div style="position:absolute;top:28199;left:142"><nobr>SKIP_THIS_BLUETOOTH  (a  useful  trick  when  development  and  debugging).&nbsp;</nobr></div>
<div style="position:absolute;top:28230;left:115"><nobr>● <b>HU  supported  Bluetooth  pairing  methods </b>.  AAP  supports  both  PIN  and  numeric&nbsp;</nobr></div>
<div style="position:absolute;top:28252;left:142"><nobr>comparison  as  pairing  methods.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:28290;left:108"><nobr><b>Protocol  Messages  for  Bluetooth  Pairing&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:28327;left:108"><nobr>After  the  HU  provides  a  valid  Bluetooth  MAC  address  and  supported  pairing  methods,  the&nbsp;</nobr></div>
<div style="position:absolute;top:28350;left:108"><nobr>MD  and  HU  use  the  following  AAP  messages  to  establish  Bluetooth  pairing  and  connection.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:28395;left:115"><nobr>Message&nbsp;</nobr></div>
<div style="position:absolute;top:28395;left:345"><nobr>Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:28482;left:115"><nobr>BluetoothPairingRequest&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:28430;left:345"><nobr>Sent  by  MD  to  request  exchange  of  Bluetooth  pairing&nbsp;</nobr></div>
<div style="position:absolute;top:28452;left:345"><nobr>information;  can  resend  this  message  anytime  to  fix  a&nbsp;</nobr></div>
<div style="position:absolute;top:28475;left:345"><nobr>corrupted  state.  Receiving  HU  MUST  send&nbsp;</nobr></div>
<div style="position:absolute;top:28497;left:345"><nobr>BluetoothPairingResponse  within  1  second.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:28534;left:345"><nobr>This  message  includes  the  device  Bluetooth  MAC  address  and&nbsp;</nobr></div>
<div style="position:absolute;top:28602;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:28622;left:730"><nobr>24  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:28687;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="25"><b>Page 25</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:28778;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:28804;left:345"><nobr>the  pairing  method  that  will  be  used  by  the  device.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:29279;left:115"><nobr>BluetoothPairingResponse&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:28839;left:345"><nobr>Sent  by  an  HU  in  response  to  BluetoothPairingRequest.&nbsp;</nobr></div>
<div style="position:absolute;top:28862;left:345"><nobr>Because  requests  may  be  re-sent  anytime  by  an  MD  attempting&nbsp;</nobr></div>
<div style="position:absolute;top:28884;left:345"><nobr>to  fix  a  corrupted  state,  a  HU  MUST  be  able  to  handle  multiple&nbsp;</nobr></div>
<div style="position:absolute;top:28907;left:345"><nobr>BluetoothPairingRequest  messages  in  the  same  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:28929;left:345"><nobr>connection.  An  HU  MUST  send  a  response  within  one  (1)&nbsp;</nobr></div>
<div style="position:absolute;top:28952;left:345"><nobr>second  of  receiving  the  BluetoothPairingRequest.&nbsp;</nobr></div>
<div style="position:absolute;top:28982;left:345"><nobr>If  the  HU  can  be  ready  to  pair  (using  the  pairing  method&nbsp;</nobr></div>
<div style="position:absolute;top:29005;left:345"><nobr>specified  in  the  request)  within  one  (1)  second  of  receiving  the&nbsp;</nobr></div>
<div style="position:absolute;top:29027;left:345"><nobr>BluetoothPairingRequest,  it  sends  a  BluetoothPairingResponse&nbsp;</nobr></div>
<div style="position:absolute;top:29050;left:345"><nobr>with  STATUS_SUCCESS  as  the  status.&nbsp;</nobr></div>
<div style="position:absolute;top:29080;left:354"><nobr>● <b>Readiness </b>.  To  be  ready,  the  HU  MUST  set  the  AAP  MD&nbsp;</nobr></div>
<div style="position:absolute;top:29103;left:381"><nobr>priority  as  the  highest  and  make  the  HU  Bluetooth  module&nbsp;</nobr></div>
<div style="position:absolute;top:29125;left:381"><nobr>discoverable  by  the  MD.  The  HU  MUST  NOT  make  any  HFP&nbsp;</nobr></div>
<div style="position:absolute;top:29148;left:381"><nobr>connections  with  other  (non  AAP)  devices  until  the  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:29170;left:381"><nobr>connection  ends.&nbsp;</nobr></div>
<div style="position:absolute;top:29201;left:354"><nobr>● <b>Previously  Paired </b>.  An  HU  MUST  send  a&nbsp;</nobr></div>
<div style="position:absolute;top:29223;left:381"><nobr>BluetoothPairingResponse  even  when  already  paired  with&nbsp;</nobr></div>
<div style="position:absolute;top:29245;left:381"><nobr>the  MD  (necessary  when  the  MD  loses  pairing  information&nbsp;</nobr></div>
<div style="position:absolute;top:29268;left:381"><nobr>and  must  re-initiate  pairing).&nbsp;</nobr></div>
<div style="position:absolute;top:29299;left:354"><nobr>● <b>Success </b>.  When  the  HU  sends  a  BluetoothPairingResponse&nbsp;</nobr></div>
<div style="position:absolute;top:29321;left:381"><nobr>with  STATUS_SUCCESS  as  the  status  code,  the  HU  MUST&nbsp;</nobr></div>
<div style="position:absolute;top:29343;left:381"><nobr>include  <font style="font-size:15px">already_paired </font>field  in  the  message.  This  field&nbsp;</nobr></div>
<div style="position:absolute;top:29366;left:381"><nobr>value  MUST  be  true  when  the  HU  already  has  a  link  key&nbsp;</nobr></div>
<div style="position:absolute;top:29388;left:381"><nobr>(pairing  information)  for  the  Android  Auto  connected&nbsp;</nobr></div>
<div style="position:absolute;top:29411;left:381"><nobr>device  (vehicle  believes  it  is  already  paired  with  the&nbsp;</nobr></div>
<div style="position:absolute;top:29433;left:381"><nobr>device).&nbsp;</nobr></div>
<div style="position:absolute;top:29464;left:354"><nobr>● <b>Pairing </b>.  After  receiving  a  BluetoothPairingResponse  with&nbsp;</nobr></div>
<div style="position:absolute;top:29486;left:381"><nobr>STATUS_SUCCESS  as  the  status  code,  the  MD  initiates  the&nbsp;</nobr></div>
<div style="position:absolute;top:29509;left:381"><nobr>pairing  and  connection  process  with  the  HU.  If  each  side&nbsp;</nobr></div>
<div style="position:absolute;top:29531;left:381"><nobr>has  the  link  key  (pairing  information)  for  the  other  side,&nbsp;</nobr></div>
<div style="position:absolute;top:29554;left:381"><nobr>the  pairing  step  is  skipped  and  the  MD  initiates  the  HFP&nbsp;</nobr></div>
<div style="position:absolute;top:29576;left:381"><nobr>connection  only.&nbsp;</nobr></div>
<div style="position:absolute;top:29607;left:345"><nobr>If  the  HU  cannot  be  ready  to  pair  within  one  (1)  second  of&nbsp;</nobr></div>
<div style="position:absolute;top:29629;left:345"><nobr>receiving  a  BluetoothPairingRequest,  it  SHOULD  send  a&nbsp;</nobr></div>
<div style="position:absolute;top:29652;left:345"><nobr>BluetoothPairingResponse  with&nbsp;</nobr></div>
<div style="position:absolute;top:29674;left:345"><nobr>STATUS_BLUETOOTH_PAIRING_DELAYED  as  the  status.  When  the&nbsp;</nobr></div>
<div style="position:absolute;top:29697;left:345"><nobr>MD  receives  this  message,  it  ignores  the  <font style="font-size:15px">already_paired </font>field&nbsp;</nobr></div>
<div style="position:absolute;top:29719;left:345"><nobr>and  assumes  the  HU  will  send  another&nbsp;</nobr></div>
<div style="position:absolute;top:29790;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:29810;left:730"><nobr>25  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:29875;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="26"><b>Page 26</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:29966;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:29992;left:345"><nobr>BluetoothPairingResponse  with  STATUS_SUCCESS  as  the  status.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:30072;left:115"><nobr>BluetoothAuthenticationData&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:30027;left:345"><nobr>Sent  by  an  HU  to  provide  authentication  data  for  Bluetooth&nbsp;</nobr></div>
<div style="position:absolute;top:30050;left:345"><nobr>pairing  (after  MD  initiates  pairing).  The  MD  uses  the  data  to&nbsp;</nobr></div>
<div style="position:absolute;top:30072;left:345"><nobr>complete  pairing.  If  data  is  valid,  the  MD  and  HU  pair  and&nbsp;</nobr></div>
<div style="position:absolute;top:30095;left:345"><nobr>connect  to  HFP.  Auth  data  is  a  UTF-8  character  encoded  string&nbsp;</nobr></div>
<div style="position:absolute;top:30117;left:345"><nobr>containing  the  passkey  or  numeric  comparison  value.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:30147;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:30167;left:108"><nobr>After  pairing,  the  HU  can  request  the  Bluetooth  Phone  Book  Access  Protocol  (PBAP).  If  the&nbsp;</nobr></div>
<div style="position:absolute;top:30189;left:108"><nobr>user  opts  into  PBAP,  the  HU  Bluetooth  module  MAY  synchronize  the  local  address  book  data&nbsp;</nobr></div>
<div style="position:absolute;top:30212;left:108"><nobr>with  the  MD  contact  database.  However,  the  HU  MUST  coordinate  the  AAP  and  PBAP&nbsp;</nobr></div>
<div style="position:absolute;top:30234;left:108"><nobr>initialization  and  present  a  sensible  UI  (i.e.  no  overlapping  windows  for  pairing  permissions).&nbsp;</nobr></div>
<div style="position:absolute;top:30273;left:108"><nobr>The  HU  MUST  handle  the  following  edge  cases  during  pairing:&nbsp;</nobr></div>
<div style="position:absolute;top:30311;left:115"><nobr>● <b>HU  connected  to  a  separate  MD  engaged  in  a  Bluetooth  call </b>.  HU  MUST  return&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#333333"><span style="font-size:14px;font-family:Times;color:#333333">
<div style="position:absolute;top:30334;left:142"><nobr>STATUS_BLUETOOTH_PAIRING_DELAYED&nbsp;&nbsp;<font color="#434343">in  a  PairingResponseMessage  to  indicate&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:30356;left:142"><nobr>the  requesting  MD  SHOULD  wait  for  a  response.  After  the  call  ends,  the  HU  sends  a&nbsp;</nobr></div>
<div style="position:absolute;top:30378;left:142"><nobr>BluetoothPairingResponse  message  with  STATUS_SUCCESS  to  the  requesting  MD  to&nbsp;</nobr></div>
<div style="position:absolute;top:30401;left:142"><nobr>indicate  the  HU  is  ready  to  accept  a  call  and  in  Bluetooth  discovery  mode.&nbsp;</nobr></div>
<div style="position:absolute;top:30439;left:115"><nobr>● <b>Upper  limit  of  connected  Bluetooth  devices  reached  blocks  AAP  pairing.  </b>Many  HUs&nbsp;</nobr></div>
<div style="position:absolute;top:30462;left:142"><nobr>have  an  upper  limit  to  the  number  of  supported  paired  BT  devices.  The  HU  might  block&nbsp;</nobr></div>
<div style="position:absolute;top:30484;left:142"><nobr>an  otherwise  successful  AAP  connection  because  the  paired  device  limit  has  been&nbsp;</nobr></div>
<div style="position:absolute;top:30507;left:142"><nobr>reached.  To  avoid  blocking  AAP  connections  based  on  device  limit:&nbsp;</nobr></div>
<div style="position:absolute;top:30544;left:142"><nobr>○ We  STRONGLY  RECOMMEND  that  an  HFP  connection  is  established.&nbsp;</nobr></div>
<div style="position:absolute;top:30582;left:142"><nobr>○ We  STRONGLY  RECOMMEND  automatically  dropping  the  least  recently  used  pairing.&nbsp;</nobr></div>
<div style="position:absolute;top:30621;left:142"><nobr>○ The  HU  MAY  display  a  message  to  users  informing  them  a  connection  was  removed&nbsp;</nobr></div>
<div style="position:absolute;top:30644;left:169"><nobr>to  allow  pairing  to  complete.&nbsp;</nobr></div>
<div style="position:absolute;top:30681;left:142"><nobr>○ The  HU  MAY  walk  the  user  through  dropping  at  least  one  already-paired  device  so&nbsp;</nobr></div>
<div style="position:absolute;top:30705;left:169"><nobr>AAP  connection  can  continue.&nbsp;</nobr></div>
<div style="position:absolute;top:30742;left:142"><nobr>○ If  an  AAP  connection  was  prevented  due  to  reaching  the  paired  device  limit,  the  HU&nbsp;</nobr></div>
<div style="position:absolute;top:30765;left:169"><nobr>MUST  notify  the  user  of  the  maximum  number  of  paired  devices  are  already  used  on&nbsp;</nobr></div>
<div style="position:absolute;top:30788;left:169"><nobr>the  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:30826;left:115"><nobr>● <b>Non-AAP  MD  attempts  to  pair </b>.  HU  MUST  allow  pairing  with  the  AAP  connected  MD  but&nbsp;</nobr></div>
<div style="position:absolute;top:30849;left:142"><nobr>MAY  choose  to  allow  or  disallow  pairing  with  other  MDs.&nbsp;</nobr></div>
<div style="position:absolute;top:30887;left:115"><nobr>● <b>Bluetooth  disabled  on  HU </b>.  HU  MUST  enable  Bluetooth  and  pair  requesting  MD.&nbsp;</nobr></div>
<div style="position:absolute;top:30909;left:142"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:30978;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:30998;left:730"><nobr>26  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:31063;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="27"><b>Page 27</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:31154;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:31174;left:108"><nobr><b>HFP  Connection&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:31204;left:108"><nobr>After  pairing,  the  MD  attempts  to  connect  to  Bluetooth  Hands-Free  Profile  (HFP).  If  the  HU&nbsp;</nobr></div>
<div style="position:absolute;top:31227;left:108"><nobr>can  support  only  one  HFP  connection  at  a  time,  the  HU  MUST  allow  connections  to  the  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:31249;left:108"><nobr>connected  MD:&nbsp;</nobr></div>
<div style="position:absolute;top:31283;left:115"><nobr>● If  Bluetooth  connection  process  is  in  progress  before  projection  mode  begins,  the  HU&nbsp;</nobr></div>
<div style="position:absolute;top:31305;left:142"><nobr>MUST  continue  the  connection  process  after  switch  to  projection  mode.&nbsp;</nobr></div>
<div style="position:absolute;top:31339;left:115"><nobr>● Projection  mode  telephony  functions  MUST  be  disabled  on  the  MD  and  HU  until  the  HFP&nbsp;</nobr></div>
<div style="position:absolute;top:31362;left:142"><nobr>connection  is  established.&nbsp;</nobr></div>
<div style="position:absolute;top:31396;left:115"><nobr>● Regardless  of  whether  HU  is  connected  to  another  device,  the  HU  MUST  allow  a&nbsp;</nobr></div>
<div style="position:absolute;top:31418;left:142"><nobr>Bluetooth  connection  with  the  MD  as  soon  as  possible  (see  edge  cases  below).&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:31452;left:115"><nobr>● MD  cannot  connect  to  other  device  for  HFP  while  AAP  is  connected.&nbsp;</nobr></div>
<div style="position:absolute;top:31486;left:115"><nobr>● HU  SHOULD  suppress  UI  elements  exposing  PBAP  or  MAP  when  AAP  is  connected,  and&nbsp;</nobr></div>
<div style="position:absolute;top:31508;left:142"><nobr>cannot  connect  to  other  device  for  HFP  while  AAP  is  connected.&nbsp;</nobr></div>
<div style="position:absolute;top:31542;left:108"><nobr>The  mobile  device  MUST  handle  the  following  use  cases  when  connecting  to  Bluetooth:&nbsp;</nobr></div>
<div style="position:absolute;top:31576;left:115"><nobr>● <b>MD  playing  audio.  </b>If  the  MD  is  connected  to  an  A2DP  device  (including  vehicle),  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:31598;left:142"><nobr>leaves  the  A2DP  connection  intact.  As  with  other  HU  media  streams  such  as  FM  radio,&nbsp;</nobr></div>
<div style="position:absolute;top:31620;left:142"><nobr>AAP  expects  the  HU  to  correctly  manage  audio  focus  with  an  active  A2DP  device.  A2DP&nbsp;</nobr></div>
<div style="position:absolute;top:31643;left:142"><nobr>SHOULD  be  treated  by  the  OEM  as  another  source,  such  as  a  USB  stick  or  radio.  For&nbsp;</nobr></div>
<div style="position:absolute;top:31665;left:142"><nobr>example,  if  the  user  chooses  to  play  music  via  Android  Auto,  and  was  previously&nbsp;</nobr></div>
<div style="position:absolute;top:31688;left:142"><nobr>streaming  from  an  A2DP  source,  the  HU  SHOULD  grant  the  request  from  Android  Auto&nbsp;</nobr></div>
<div style="position:absolute;top:31710;left:142"><nobr>to  change  audio  focus  to  Android  Auto.  For  details,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#40"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#40">Audio  Focus</a> </font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#40"></a>.<b>&nbsp;</b></nobr></div>
<div style="position:absolute;top:31744;left:115"><nobr>● <b>MD  on  a  non-Bluetooth  call </b>.  MD  connects  to  the  HU  and  routes  the  call  over  Bluetooth.&nbsp;</nobr></div>
<div style="position:absolute;top:31778;left:115"><nobr>● <b>MD  on  a  Bluetooth  call </b>.  MD  continues  Bluetooth  call  and  displays  projection  mode.&nbsp;</nobr></div>
<div style="position:absolute;top:31812;left:115"><nobr>● <b>MD  on  a  call  to  HFP  device </b>.  MD  continues  the  call,  disconnects  from  the  other  HFP&nbsp;</nobr></div>
<div style="position:absolute;top:31834;left:142"><nobr>device,  and  connects  to  HFP  on  the  vehicle.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:31872;left:108"><nobr><b>Additional  Bluetooth  Profiles&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:31906;left:108"><nobr>Android  Auto  uses  only  Bluetooth  HFP.  However,  during  an  Android  Auto  session,  the  HU&nbsp;</nobr></div>
<div style="position:absolute;top:31929;left:108"><nobr>MAY  maintain  one  or  more  of  the  following  additional  Bluetooth  profile  connections:&nbsp;</nobr></div>
<div style="position:absolute;top:31963;left:115"><nobr>● Message  Access  Protocol  (MAP)&nbsp;</nobr></div>
<div style="position:absolute;top:31996;left:115"><nobr>● Phonebook  Access  Protocol  (PBAP)&nbsp;</nobr></div>
<div style="position:absolute;top:32030;left:115"><nobr>● Personal  Area  Network  (PAN)&nbsp;</nobr></div>
<div style="position:absolute;top:32064;left:115"><nobr>● Remote  SIM  Access  Protocol  (RSAP)&nbsp;</nobr></div>
<div style="position:absolute;top:32102;left:108"><nobr>Such  connections  MUST  be  managed  so  they  do  not  interrupt  the  Android  Auto  experience.&nbsp;</nobr></div>
<div style="position:absolute;top:32166;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:32186;left:730"><nobr>27  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:32251;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="28"><b>Page 28</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:32342;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:32366;left:108"><nobr>Bluetooth  Reconnection&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:32406;left:108"><nobr>If  Bluetooth  disconnects  or  is  lost  during  an  active  AAP  connection,  the  MD  continuously&nbsp;</nobr></div>
<div style="position:absolute;top:32428;left:108"><nobr>attempts  to  connect  to  HFP.  The  HU  MAY  (but  is  not  required  to)  attempt  to  connect  to  HFP,&nbsp;</nobr></div>
<div style="position:absolute;top:32451;left:108"><nobr>but  MAY  NOT  connect  to  another  Bluetooth  device;  both  MD  and  HU  MUST  disable  all&nbsp;</nobr></div>
<div style="position:absolute;top:32473;left:108"><nobr>projection  mode  telephony  functions  until  HFP  reconnects.  If  Bluetooth  pairing  is  lost  or&nbsp;</nobr></div>
<div style="position:absolute;top:32496;left:108"><nobr>reconnect  attempts  repeatedly  fail,  the  MD  may  re-initiate  Bluetooth  pairing  after  exchanging&nbsp;</nobr></div>
<div style="position:absolute;top:32518;left:108"><nobr>BluetoothPairingRequest/BluetoothPairingResponse  messages.&nbsp;</nobr></div>
<div style="position:absolute;top:32518;left:688"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:33354;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:33374;left:730"><nobr>28  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:33439;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="29"><b>Page 29</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:33530;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:33551;left:108"><nobr>Integrating  Video&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:33606;left:108"><nobr>This  section  provides  a  technical  overview  of  AAP  video  integration  (for  details,  refer  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:33628;left:108"><nobr>VideoSink  in  the  <a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"></a><font color="#3d85c6"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">AAP  receiver  library  documentation</a> </font><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"></a>).  In  projection  mode,  the  mobile  device&nbsp;</nobr></div>
<div style="position:absolute;top:33651;left:108"><nobr>(MD)  controls  video  on  the  head  unit  (HU)  screen  and  displays  a  video  stream  encoded  by  the&nbsp;</nobr></div>
<div style="position:absolute;top:33673;left:108"><nobr>MD.  The  HU  MUST  display  projected  video  full-screen  on  the  primary  center  console  display.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:33721;left:115"><nobr>Video  Format&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:33721;left:244"><nobr>H.264  elementary  byte  stream&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:33758;left:115"><nobr>Profile&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:33758;left:244"><nobr>Baseline  Profile&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:33794;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:33807;left:108"><nobr>During  initial  service  discovery,  the  MD  and  HU  negotiate  the  screen  resolution,  density,  pixel&nbsp;</nobr></div>
<div style="position:absolute;top:33830;left:108"><nobr>aspect  ratio  (PAR),  and  maximum  frame  rate  of  the  primary  display.  The  MD  renders  and&nbsp;</nobr></div>
<div style="position:absolute;top:33852;left:108"><nobr>encodes  content  in  the  negotiated  configuration  (no  upscaling  or  downscaling  required).  We&nbsp;</nobr></div>
<div style="position:absolute;top:33875;left:108"><nobr>strongly  recommend  HUs  use  a  hardware  video  decoder  capable  of  rendering  full-screen&nbsp;</nobr></div>
<div style="position:absolute;top:33897;left:108"><nobr>video  of  at  least  60  frames  per  second  (FPS)  to  match  the  typical  mobile  device  60  FPS  UI&nbsp;</nobr></div>
<div style="position:absolute;top:33920;left:108"><nobr>redraw  rate.  For  lower  end  hardware,  HUs  can  specify  a  30  FPS  video  stream  frame  rate.  The&nbsp;</nobr></div>
<div style="position:absolute;top:33942;left:108"><nobr>higher  the  frame  rate,  the  lower  latency  for  input  events  (especially  for  touch  gestures).&nbsp;</nobr></div>
<div style="position:absolute;top:33981;left:108"><nobr>To  preserve  bandwidth  and  power,  the  AAP  protocol  sends  video  frames  only  for  projection&nbsp;</nobr></div>
<div style="position:absolute;top:34003;left:108"><nobr>UI  updates  (and  does  not  send  frames  when  no  updates  are  available).  However,  HU  video&nbsp;</nobr></div>
<div style="position:absolute;top:34026;left:108"><nobr>decoders  MUST  avoid  adversely  affecting  latency  by  not  entering  power-saving  mode  even&nbsp;</nobr></div>
<div style="position:absolute;top:34048;left:108"><nobr>when  not  receiving  frames.&nbsp;</nobr></div>
<div style="position:absolute;top:34086;left:108"><nobr>At  runtime,  MD  selects  from  supported  resolutions  and  frame  rates  to  determine  actual&nbsp;</nobr></div>
<div style="position:absolute;top:34109;left:108"><nobr>frame  rate.  Selection  depends  on  many  factors  such  as  device  power  state  and  is  the  reason&nbsp;</nobr></div>
<div style="position:absolute;top:34131;left:108"><nobr>for  the  required  resolution  of  800x480  at  30  FPS.  Frame  rate  may  change  either  continuously&nbsp;</nobr></div>
<div style="position:absolute;top:34154;left:108"><nobr>or  in  discrete  jumps  to  optimize  system  performance,  e.g.,  from  30  FPS  to  29  FPS,  or  directly&nbsp;</nobr></div>
<div style="position:absolute;top:34176;left:108"><nobr>from  15  FPS  to  5  FPS.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:34215;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:11px;font-family:Times;color:#000000">
<div style="position:absolute;top:34265;left:131"><nobr><b>NOTE<font color="#434343">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:34238;left:200"><nobr>H.264  video  sent  from  MD  contains  only  I  frames  and  P  frames&nbsp;</nobr></div>
<div style="position:absolute;top:34261;left:200"><nobr>(buffering  set  to  minimum).  HU  SHOULD  decode  each  frame&nbsp;</nobr></div>
<div style="position:absolute;top:34283;left:200"><nobr>without  waiting  for  additional  frames.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:34317;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:34337;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:34374;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:34413;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:34451;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:34542;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:34562;left:730"><nobr>29  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:34627;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="30"><b>Page 30</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:34718;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:34738;left:108"><nobr>&nbsp;<font style="font-size:21px" color="#6ab344">Selecting  Video  Resolution&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:34786;left:108"><nobr>AAP  MDs  support  the  following  codec  resolutions;  HU  video  decoders  MUST support  at  least&nbsp;</nobr></div>
<div style="position:absolute;top:34809;left:108"><nobr>800x480  and  OPTIONALLY  more  of  the  following:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:34854;left:115"><nobr>Codec  Resolution&nbsp;</nobr></div>
<div style="position:absolute;top:34854;left:286"><nobr>Max  Video  Bit  Rate  (kbits/s)&nbsp; Max  Frame  Rate&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:34888;left:117"><nobr>800x480&nbsp;</nobr></div>
<div style="position:absolute;top:34888;left:288"><nobr>4,000&nbsp;</nobr></div>
<div style="position:absolute;top:34888;left:513"><nobr>60  FPS&nbsp;</nobr></div>
<div style="position:absolute;top:34926;left:117"><nobr>1280x720&nbsp;</nobr></div>
<div style="position:absolute;top:34926;left:288"><nobr>6,000&nbsp;</nobr></div>
<div style="position:absolute;top:34926;left:513"><nobr>60  FPS&nbsp;</nobr></div>
<div style="position:absolute;top:34963;left:117"><nobr>1920x1080&nbsp;</nobr></div>
<div style="position:absolute;top:34963;left:288"><nobr>8,000&nbsp;</nobr></div>
<div style="position:absolute;top:34963;left:513"><nobr>60  FPS&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:34992;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:35004;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:35023;left:108"><nobr>Because  hardware  video  encoders/decoders  are  optimized  to  support  a  set  of  fixed  video&nbsp;</nobr></div>
<div style="position:absolute;top:35046;left:108"><nobr>resolutions,  using  non-standard  codec  resolutions  can  result  in  significant  performance  loss.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:35084;left:108"><nobr>The  MD  and  HU  negotiate  video  resolution  during  the  initial  AAP  protocol  handshake:&nbsp;</nobr></div>
<div style="position:absolute;top:35122;left:115"><nobr>1. During  AAP  service  discovery,  the  MD  requests  the  VideoConfigurations  supported  by&nbsp;</nobr></div>
<div style="position:absolute;top:35145;left:142"><nobr>the  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:35183;left:115"><nobr>2. After  establishing  the  video  channel,  the  HU  sends  a  Config  Message  with  a  prioritized&nbsp;</nobr></div>
<div style="position:absolute;top:35206;left:142"><nobr>list  of  indices  (most  preferred  first)  for  the  previously-provided  VideoConfigurations.&nbsp;</nobr></div>
<div style="position:absolute;top:35244;left:115"><nobr>3. MD  selects  a  configuration  based  on  HU  preference  and  device  hardware  encoder&nbsp;</nobr></div>
<div style="position:absolute;top:35266;left:142"><nobr>capabilities.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:35305;left:115"><nobr>4. MD  sends  a  Start  message  (with  the  index  of  the  selected  configuration)  to  HU.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:35343;left:108"><nobr>Request  the  Highest  Resolution  Possible&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:35382;left:108"><nobr>The  HU  SHOULD  request  the  highest  resolution  video  that  the  protocol  supports  and&nbsp;</nobr></div>
<div style="position:absolute;top:35405;left:108"><nobr>gracefully  handle  all  lower  resolutions.  For  example:&nbsp;</nobr></div>
<div style="position:absolute;top:35442;left:108"><nobr>● If  the  native  screen  is  1920x1080,  the  HU  SHOULD  advertize  support  for  1080p,  720p,  and&nbsp;</nobr></div>
<div style="position:absolute;top:35466;left:135"><nobr>the  required  480p.&nbsp;</nobr></div>
<div style="position:absolute;top:35503;left:108"><nobr>● If  the  native  screen  is  1024x720,  the  HU  SHOULD  advertise  support  for  720p  with&nbsp;</nobr></div>
<div style="position:absolute;top:35526;left:135"><nobr>appropriate  pillarbox  margins  and  the  required  480p.&nbsp;</nobr></div>
<div style="position:absolute;top:35565;left:108"><nobr>Not  all  MDs  support  encoding  video  at  1280x720  or  1920x1080  codec  resolution.  However,&nbsp;</nobr></div>
<div style="position:absolute;top:35587;left:108"><nobr>more  MDs  will  support  generating  higher  resolution  video  streams  and  HUs  SHOULD&nbsp;</nobr></div>
<div style="position:absolute;top:35610;left:108"><nobr>anticipate  supporting  high  resolutions.&nbsp;</nobr></div>
<div style="position:absolute;top:35648;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:35730;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:35750;left:730"><nobr>30  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:35815;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="31"><b>Page 31</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:35906;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:35925;left:108"><nobr>Selecting  a  Density  to  Report&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:35974;left:108"><nobr>Each  VideoConfiguration  contains  a  density.  Every  screen  has  a  physical  density  expressed  as&nbsp;</nobr></div>
<div style="position:absolute;top:35997;left:108"><nobr>the  number  of  physical  pixels  in  each  inch,  known  as  dots  per  inch  (DPI).&nbsp;</nobr></div>
<div style="position:absolute;top:36035;left:108"><nobr>In  Android,  displays  are  bucketed  into  one  of  six  generalized  densities ;  previously,  Google&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:36034;left:625"><nobr>3</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:36057;left:108"><nobr>encouraged  Android  Auto  partners  to  report  VideoConfiguration  density  as  one  of  these&nbsp;</nobr></div>
<div style="position:absolute;top:36080;left:108"><nobr>densities,  most  commonly  160  or  240.  It  is  now  REQUIRED  to  report  the  preferred  density&nbsp;</nobr></div>
<div style="position:absolute;top:36102;left:108"><nobr>calculated  by  the  Screen  Size  Calculator  (for  details,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#8"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#8">Head  Unit  Requirements</a> </font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#8"></a>).&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:36141;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:11px;font-family:Times;color:#000000">
<div style="position:absolute;top:36216;left:131"><nobr><b>NOTE<font color="#434343">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:36172;left:200"><nobr>The  reported  density  from  the  Screen  Size  Calculator  optimizes  the&nbsp;</nobr></div>
<div style="position:absolute;top:36195;left:200"><nobr>Android  Auto  UI  (in  density-independent  pixels),  font  size  for&nbsp;</nobr></div>
<div style="position:absolute;top:36217;left:200"><nobr>maximum  legibility  given  a  viewing  distance,  and  tap  target  size.  It&nbsp;</nobr></div>
<div style="position:absolute;top:36240;left:200"><nobr>does  this  while  minimizing  pillarboxing  or  letterboxing  of  the  UI&nbsp;</nobr></div>
<div style="position:absolute;top:36262;left:200"><nobr>inside  the  video  stream.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:36296;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:36324;left:108"><nobr>Matching  Physical  Display  Size&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:36371;left:108"><nobr>HU  displays  rarely  have  standard  physical  sizes  or  match  AAP  supported  resolutions  or&nbsp;</nobr></div>
<div style="position:absolute;top:36394;left:108"><nobr>aspect  ratios,  making  a  1:1  rendering  of  the  projection  UI  to  the  HU  display  impractical.&nbsp;</nobr></div>
<div style="position:absolute;top:36416;left:108"><nobr>Displays  that  use  non-square  pixels  SHOULD  use  AAP  v1.2  (or  higher)  and  report  pixel  ratio&nbsp;</nobr></div>
<div style="position:absolute;top:36439;left:108"><nobr>to  the  MD,  which  can  apply  correction  on  the  picture  sent  to  the  HU  to  account  for&nbsp;</nobr></div>
<div style="position:absolute;top:36461;left:108"><nobr>non-square  pixels.&nbsp; &nbsp;</nobr></div>
<div style="position:absolute;top:36499;left:108"><nobr>To  support  a  wide  range  of  in-vehicle  display  hardware,  AAP  uses  a  <font style="font-size:15px">logical  UI  resolution </font>that&nbsp;</nobr></div>
<div style="position:absolute;top:36522;left:108"><nobr>is  always  less  or  equal  to  the  codec  resolution  of  the  transported  video  stream.  MDs  render&nbsp;</nobr></div>
<div style="position:absolute;top:36544;left:108"><nobr>content  only  in  the  area  specified  by  the  UI  resolution,  with  horizontal  and  vertical  margins&nbsp;</nobr></div>
<div style="position:absolute;top:36567;left:108"><nobr>padded  (using  pre-set  buckets  of  specific  codec  resolutions)  to  match  the  logical  UI&nbsp;</nobr></div>
<div style="position:absolute;top:36589;left:108"><nobr>resolution.&nbsp;</nobr></div>
<div style="position:absolute;top:36628;left:108"><nobr>When  the  MD  encodes  a  video  stream,  it  fills  horizontal  and  vertical  margins  with  an  arbitrary&nbsp;</nobr></div>
<div style="position:absolute;top:36650;left:108"><nobr>color.  The  OS  abstraction  layer  decodes  the  stream,  clips  it  to  the  UI  resolution  size,  and&nbsp;</nobr></div>
<div style="position:absolute;top:36673;left:108"><nobr>discards  the  margins:&nbsp;</nobr></div>
<div style="position:absolute;top:36711;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:36749;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:36787;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:36878;left:108"><nobr>3 <font style="font-size:12px" color="#3d85c6"><a href="http://developer.android.com/guide/practices/screens_support.html">Developer.android.com </a></font><font style="font-size:12px">has  details  on  screen  density  support  in  the  Android  platform.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:36918;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:36938;left:730"><nobr>31  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:37003;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="32"><b>Page 32</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:37094;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:37114;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:37417;left:572"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:37440;left:119"><nobr><b>Figure  10 </b>.  <font color="#666666">Codec-to-UI  resolution.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:37163;left:669"><nobr>NOTE<font color="#434343">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:37207;left:586"><nobr>The  MD  may  not  completely&nbsp;</nobr></div>
<div style="position:absolute;top:37230;left:586"><nobr>fill  the  UI  Resolution  area&nbsp;</nobr></div>
<div style="position:absolute;top:37252;left:586"><nobr>with  visible  UI  and  instead&nbsp;</nobr></div>
<div style="position:absolute;top:37275;left:586"><nobr>place  black  bars  at  the  top&nbsp;</nobr></div>
<div style="position:absolute;top:37297;left:586"><nobr>and  bottom  (letterbox)  or  at&nbsp;</nobr></div>
<div style="position:absolute;top:37320;left:586"><nobr>the  sides  (pillarbox).&nbsp;</nobr></div>
<div style="position:absolute;top:37350;left:586"><nobr>Integrations  SHOULD  NOT&nbsp;</nobr></div>
<div style="position:absolute;top:37372;left:586"><nobr>attempt  to  account  for  such&nbsp;</nobr></div>
<div style="position:absolute;top:37395;left:586"><nobr>bars  as  they  may  change&nbsp;</nobr></div>
<div style="position:absolute;top:37417;left:586"><nobr>over  time.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:37464;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:37491;left:108"><nobr>Required  Video  Stream  Support&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:37531;left:108"><nobr>Many  MDs  are  limited  to  output  800x480  H.264  video  at  30  FPS.  All  HU  integrations  are&nbsp;</nobr></div>
<div style="position:absolute;top:37554;left:108"><nobr>therefore  REQUIRED  to  handle  800x480  video  stream  in  addition  to  higher  resolution&nbsp;</nobr></div>
<div style="position:absolute;top:37576;left:108"><nobr>configurations.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:37614;left:108"><nobr>To  display  800x480  projection  on  a  higher  resolution  HU  screen,  the  integrator  MAY  letterbox&nbsp;</nobr></div>
<div style="position:absolute;top:37637;left:108"><nobr>the  content  (i.e.,  display  at  original  resolution  with  appropriate  margins)  or  up-scale  the&nbsp;</nobr></div>
<div style="position:absolute;top:37659;left:108"><nobr>projected  feed  to  a  higher  display  resolution  while  maintaining  aspect  ratio.  Such&nbsp;</nobr></div>
<div style="position:absolute;top:37682;left:108"><nobr>integrations  MUST be  discussed  with  Google  at  earliest  opportunity  to  confirm  support.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:37720;left:108"><nobr>Video  Focus&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:37768;left:108"><nobr>AAP  enables  users  to  seamlessly  switch  back  and  forth  between  the  native  UI  and  projection&nbsp;</nobr></div>
<div style="position:absolute;top:37791;left:108"><nobr>UI,  requiring  a  robust  video  focus  negotiation  model.  However,  because  the  main  console&nbsp;</nobr></div>
<div style="position:absolute;top:37813;left:108"><nobr>display  is  also  used  for  safety-critical  features  (such  as  a  backup  camera),  the  <b>HU  always&nbsp;</b></nobr></div>
<div style="position:absolute;top:37836;left:108"><nobr><b>controls  video  focus </b>and  determines  when  the  MD  can  project  content  to  the  screen.&nbsp;</nobr></div>
<div style="position:absolute;top:37866;left:108"><nobr>AAP  includes  two  (2)  main  focus  modes,  <font style="font-size:15px">Projection </font>and  <font style="font-size:15px">Native </font>.  For  transient  native  screens&nbsp;</nobr></div>
<div style="position:absolute;top:37889;left:108"><nobr>(such  as  turn-signal  activated  blind  spot  cameras  expected  to  show  for  a  short  time  only)  a&nbsp;</nobr></div>
<div style="position:absolute;top:37911;left:108"><nobr>third  focus  mode  is  available:  <font style="font-size:15px">Native  Transient </font>.  From  the  HU  perspective,  Native  Transient  is&nbsp;</nobr></div>
<div style="position:absolute;top:37934;left:108"><nobr>the  same  as  Native;  the  purpose  is  to  provide  behavioral  hints  to  the  MD.  In  addition,&nbsp;</nobr></div>
<div style="position:absolute;top:37956;left:108"><nobr>transient  Native  content  MAY  overlay  the  Projection  video.&nbsp;</nobr></div>
<div style="position:absolute;top:37995;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:38033;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:38106;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:38126;left:730"><nobr>32  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:38191;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="33"><b>Page 33</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:38282;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:38302;left:108"><nobr>During  connection  setup  video  focus  MUST  NOT  be  granted  to  the  MD  by  the  HU&nbsp;</nobr></div>
<div style="position:absolute;top:38324;left:108"><nobr>(VIDEO_FOCUS_PROJECTED)  until  VideoSink::setupCallback()&nbsp;has  been  called.&nbsp;</nobr></div>
<div style="position:absolute;top:38347;left:108"><nobr>Attempting  to  grant  video  focus  to  the  MD  before  or  during  VideoSink::setupCallback()&nbsp;</nobr></div>
<div style="position:absolute;top:38369;left:108"><nobr>will  cause  a  failure  in  the  VideoSink.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:38414;left:115"><nobr>Mode&nbsp;</nobr></div>
<div style="position:absolute;top:38414;left:261"><nobr>MD  sends  video&nbsp;</nobr></div>
<div style="position:absolute;top:38414;left:414"><nobr>HU  sends  touch/controller  events&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:38447;left:115"><nobr>Projection&nbsp;</nobr></div>
<div style="position:absolute;top:38447;left:261"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:38447;left:414"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:38479;left:115"><nobr>Native&nbsp;</nobr></div>
<div style="position:absolute;top:38479;left:261"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:38479;left:414"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:38512;left:115"><nobr>Native  Transient&nbsp;</nobr></div>
<div style="position:absolute;top:38512;left:261"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:38512;left:414"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:38545;left:115"><nobr>Overlay&nbsp;</nobr></div>
<div style="position:absolute;top:38545;left:261"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:38545;left:414"><nobr>For  details,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#33"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#33">Overlay&nbsp;</a></font></nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:38572;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:38592;left:108"><nobr>Projection  Mode&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:38631;left:108"><nobr>In  projection  mode,  the  HU  renders  a  fullscreen  video  stream  from  the  MD  and  forwards  all&nbsp;</nobr></div>
<div style="position:absolute;top:38654;left:108"><nobr>touch/controller  events  to  the  MD.  This  is  the  preferred  mode  for  active  AAP  connections.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:38692;left:108"><nobr>Native  Mode&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:38731;left:108"><nobr>In  native  mode,  the  HU  renders  the  full-screen  native  UI  (i.e.  backup  camera)  and  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:38754;left:108"><nobr>does  not  stream  video  to  the  HU.  After  native  mode  interactions  complete,  the  HU  SHOULD&nbsp;</nobr></div>
<div style="position:absolute;top:38776;left:108"><nobr>return  video  focus  to  projection.  If  projection  is  active  but  HU  has  video  focus,  the  HU  MUST&nbsp;</nobr></div>
<div style="position:absolute;top:38799;left:108"><nobr>send  the  MD  appropriate  key  events  (launch  Google  Search  from  native,&nbsp;</nobr></div>
<div style="position:absolute;top:38821;left:108"><nobr>KEYCODE_MEDIA/GUIDANCE,  forwarded  from  native).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:38859;left:108"><nobr>Overlay&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:38899;left:108"><nobr>HUs  can  display  short,  transient  overlays  on  top  of  projected  video  content.  If  the  overlay:&nbsp;</nobr></div>
<div style="position:absolute;top:38938;left:115"><nobr>● Has  simple  straight-line  boundaries  and  obscures  less  than  30%  of  the  screen  area,&nbsp;</nobr></div>
<div style="position:absolute;top:38960;left:142"><nobr>input  events  MAY  be  sent  to  Android  Auto  from  the  unobscured  screen  region  only.&nbsp;</nobr></div>
<div style="position:absolute;top:38998;left:115"><nobr>● Obscures  large  portions  of  the  screen  or  has  complex  boundaries,  input  events  MUST&nbsp;</nobr></div>
<div style="position:absolute;top:39021;left:142"><nobr>NOT  be  sent  to  Android  Auto  from  anywhere  on  the  screen.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:39058;left:108"><nobr>Mode  Examples&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:39098;left:108"><nobr>After  establishing  an  AAP  connection,  including  the  MD  announcing  the  video  encoder  is&nbsp;</nobr></div>
<div style="position:absolute;top:39121;left:108"><nobr>ready  (listen  for  <font style="font-size:12px" color="#333333">IVideoSinkCallbacks::setupCallback&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#333333"><span style="font-size:14px;font-family:Times;color:#333333">
<div style="position:absolute;top:39121;left:510"><nobr>)&nbsp;<font color="#434343">,  the  HU  remains  in  native  mode  but&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:39143;left:108"><nobr>the  MD  can  request  video  focus  immediately.  The  HU  MUST  notify  the  MD  immediately  when&nbsp;</nobr></div>
<div style="position:absolute;top:39166;left:108"><nobr>video  focus  changes.&nbsp;</nobr></div>
<div style="position:absolute;top:39294;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:39314;left:730"><nobr>33  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:39379;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="34"><b>Page 34</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:39470;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:39595;left:421"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:39633;left:108"><nobr><b>Figure  11 </b>.  <font color="#666666">Head  unit  notifies  mobile  device  of  video  focus  grant.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:39666;left:108"><nobr>HUs  SHOULD  use  native  mode  only  to  perform  functions  not  available  in  projection  mode;  if&nbsp;</nobr></div>
<div style="position:absolute;top:39689;left:108"><nobr>an  HU  can  provide  native  functions  using  a  video  overlay  then  AAP  maintains  video  focus.  For&nbsp;</nobr></div>
<div style="position:absolute;top:39711;left:108"><nobr>example,  if  a  user  presses  a  climate  control  hard  button  to  display  overlaid  video  (e.g.&nbsp;</nobr></div>
<div style="position:absolute;top:39734;left:108"><nobr>updated  temperature  set  point),  the  HU  SHOULD  NOT  switch  to  native  mode  to  display  the&nbsp;</nobr></div>
<div style="position:absolute;top:39756;left:108"><nobr>climate  control  UI.  If  the  climate  control  UI  is  a  modal  dialog  overlaid  on  top  of  projection&nbsp;</nobr></div>
<div style="position:absolute;top:39779;left:108"><nobr>mode,  the  HU  SHOULD  direct  user  inputs  to  the  native  UI  (and  not  the  projected  UI).&nbsp;</nobr></div>
<div style="position:absolute;top:40003;left:650"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:40026;left:108"><nobr><b>Figure  12 </b>.  <font color="#666666">User  accesses  climate  control.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:40066;left:108"><nobr>Video  Focus  Requests&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:40106;left:108"><nobr>The  MD  can  send  video  focus  requests  to  the  HU  to  request  video  focus  be  granted  to&nbsp;</nobr></div>
<div style="position:absolute;top:40129;left:108"><nobr>projection  mode.  In  general,  the  HU  SHOULD  grant  video  focus  requests  unless  it  is  unsafe  to&nbsp;</nobr></div>
<div style="position:absolute;top:40151;left:108"><nobr>do  so  (i.e.  vehicle  is  in  reverse  and  the  HU  MUST  show  backup  camera).  The  MD  sends  video&nbsp;</nobr></div>
<div style="position:absolute;top:40174;left:108"><nobr>focus  requests  only  in  response  to  a  direct  user  action,  such  as  key  input  or  voice  command.&nbsp;</nobr></div>
<div style="position:absolute;top:40212;left:108"><nobr>In  response  to  a  video  focus  request,  the  HU  sends  a  video  focus  notification  to  the  MD,&nbsp;</nobr></div>
<div style="position:absolute;top:40234;left:108"><nobr>indicating  the  new  video  focus  mode.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:40273;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:40311;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:40349;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:40387;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:40482;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:40502;left:730"><nobr>34  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:40567;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="35"><b>Page 35</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:40658;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:40678;left:108"><nobr>For  example,  the  following  flow  shows  a  user  issuing  a  speech  recognition  request  to  the  MD:&nbsp;</nobr></div>
<div style="position:absolute;top:40987;left:655"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:41025;left:108"><nobr><b>Figure  13 </b>.  <font color="#666666">User  requests  MD  to  “navigate  home”.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:41058;left:108"><nobr>The  HU  might  not  immediately  honor  a  request  for  video  focus,  such  as  when  the  vehicle  is&nbsp;</nobr></div>
<div style="position:absolute;top:41080;left:108"><nobr>in  REVERSE  and  the  HU  is  displaying  the  backup  camera.  In  such  cases,  the  HU  does  not  deny&nbsp;</nobr></div>
<div style="position:absolute;top:41103;left:108"><nobr>the  focus  request  but  delays  granting  video  focus  to  projection  mode  until  after  the  backup&nbsp;</nobr></div>
<div style="position:absolute;top:41125;left:108"><nobr>camera  is  no  longer  required  (i.e.  vehicle  is  in  DRIVE).&nbsp;</nobr></div>
<div style="position:absolute;top:41447;left:689"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:41470;left:108"><nobr><b>Figure  14 </b>.  <font color="#666666">User  requests  MD  to  “navigate  work”  while  native  reversing  camera  in  use.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:41503;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:41552;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:41552;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:41670;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:41690;left:730"><nobr>35  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:41755;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="36"><b>Page 36</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:41846;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:41865;left:108"><nobr>Latency,  Flow  Control  &amp;  Clock  Skew&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:41914;left:108"><nobr>AAP  video  streams  are  real-time,  enabling  the  HU  to  render  streams  immediately.  However,&nbsp;</nobr></div>
<div style="position:absolute;top:41937;left:108"><nobr>streams  use  an  n-ACK  based  flow  control  scheme  to  enable  the  video  source  to  throttle&nbsp;</nobr></div>
<div style="position:absolute;top:41959;left:108"><nobr>throughput  when  under  load.  AAP  considers  two  (2)  latencies:  video  setup  and  video  output:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:42006;left:115"><nobr>Video  setup  latency  (max)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:42006;left:353"><nobr>500ms&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:42043;left:115"><nobr>Video  output  latency  (max)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:42043;left:353"><nobr>50ms&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:42073;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:42093;left:108"><nobr>Video  <font style="font-size:15px">setup  latency </font>is  the  time  required  by  the  vehicle  to  establish  the  video  stream  and&nbsp;</nobr></div>
<div style="position:absolute;top:42115;left:108"><nobr>includes  the  time  necessary  to  perform  any  on-screen  transition  to  projection  mode  and&nbsp;</nobr></div>
<div style="position:absolute;top:42138;left:108"><nobr>power  on  the  primary  display.&nbsp;</nobr></div>
<div style="position:absolute;top:42169;left:108"><nobr>Video  <font style="font-size:15px">output  latency </font>is  the  delay  between  a  video  frame  being  made  available  from  the  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:42192;left:108"><nobr>receiver  and  reproduction  of  the  video  on  the  primary  display.  Output  latency  includes  video&nbsp;</nobr></div>
<div style="position:absolute;top:42214;left:108"><nobr>buffering  performed  by  the  in-vehicle  graphics  pipeline,  video  codec  decoder  latency,  and&nbsp;</nobr></div>
<div style="position:absolute;top:42237;left:108"><nobr>display  latency.&nbsp;</nobr></div>
<div style="position:absolute;top:42268;left:108"><nobr>The  user-visible  video  latency  is  higher  than  the  listed  video  output  latency  because  the  latter&nbsp;</nobr></div>
<div style="position:absolute;top:42291;left:108"><nobr>does  not  include  encoder  and  transport  delays.&nbsp;</nobr></div>
<div style="position:absolute;top:42689;left:700"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:42712;left:108"><nobr><b>Figure  15 </b>.  <font color="#666666">Video  latency  (listed  +  user-visible).</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:42745;left:108"><nobr>Because  the  MD  does  not  render  continuously,  the  HU  MUST  report  the  depth  of  its  decoder&nbsp;</nobr></div>
<div style="position:absolute;top:42768;left:108"><nobr>pipeline  so  the  MD  can  send  enough  idle  frames  to  ensure  the  display  updates  properly.  This&nbsp;</nobr></div>
<div style="position:absolute;top:42790;left:108"><nobr>means  decoder  depth  increases  MD  power  consumption  in  addition  to  increasing  latency.&nbsp;</nobr></div>
<div style="position:absolute;top:42858;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:42878;left:730"><nobr>36  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:42943;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="37"><b>Page 37</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:43034;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:43061;left:108"><nobr>Integrating  Audio&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:43118;left:108"><nobr>This  section  describes  AAP  audio  architecture,  audio  streams,  audio  focus  management,  and&nbsp;</nobr></div>
<div style="position:absolute;top:43140;left:108"><nobr>audio  management  policy.  Modern  vehicles  use  deterministic  audio  policies  to  manage&nbsp;</nobr></div>
<div style="position:absolute;top:43163;left:108"><nobr>multiple  audio  streams.  AAP  introduces  additional  audio  streams  from  mobile  device  (MD)&nbsp;</nobr></div>
<div style="position:absolute;top:43185;left:108"><nobr>applications,  so  integrators  MUST   ensure  their  existing  architecture  and  audio  policy&nbsp;</nobr></div>
<div style="position:absolute;top:43208;left:108"><nobr>successfully  manages  streams  across  the  MD  and  the  vehicle  head  unit  (HU).&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:43246;left:108"><nobr>This  section  uses  the  following  terminology:&nbsp;</nobr></div>
<div style="position:absolute;top:43285;left:115"><nobr>● <b>Audio  Source  </b><font style="font-size:15px">(output) </font>.  Logical  endpoint  that  generates  audio  data  and  sends  to  an&nbsp;</nobr></div>
<div style="position:absolute;top:43307;left:142"><nobr>audio  stream.&nbsp;</nobr></div>
<div style="position:absolute;top:43338;left:115"><nobr>● <b>Audio  Sink  </b><font style="font-size:15px">(input) </font>.  Logical  endpoint  that  receives  audio  content  from  an  audio  stream&nbsp;</nobr></div>
<div style="position:absolute;top:43360;left:142"><nobr>(e.g.  in-vehicle  speakers).&nbsp;</nobr></div>
<div style="position:absolute;top:43390;left:115"><nobr>● <b>Audio  Stream </b>.  Named  combination  of  an  audio  source  and  audio  sink.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:43428;left:108"><nobr>Audio  Streams&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:43475;left:108"><nobr>Output  audio  streams <font style="font-size:14px">are  sent  from  the  MD  to  the  HU;  </font>input  audio  streams <font style="font-size:14px">are  sent  from&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:43498;left:108"><nobr>the  HU  to  the  MD.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:43528;left:108"><nobr>AAP  includes  one  (1)  audio  input  stream  for  <b>Microphone </b>,  one  (1)  bi-directional  audio  stream&nbsp;</nobr></div>
<div style="position:absolute;top:43551;left:108"><nobr>for  <b>Legacy  In-Call </b>Bluetooth  audio,  and  four  (4)  audio  output  streams:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:43588;left:115"><nobr>Channel&nbsp;</nobr></div>
<div style="position:absolute;top:43588;left:215"><nobr>Stream*&nbsp;</nobr></div>
<div style="position:absolute;top:43588;left:470"><nobr>Purpose&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:43623;left:117"><nobr>UI&nbsp;</nobr></div>
<div style="position:absolute;top:43623;left:217"><nobr>AUDIO_STREAM_SYSTEM&nbsp;</nobr></div>
<div style="position:absolute;top:43623;left:473"><nobr>user  interface  feedback&nbsp;</nobr></div>
<div style="position:absolute;top:43660;left:117"><nobr>Guidance&nbsp;</nobr></div>
<div style="position:absolute;top:43660;left:217"><nobr>AUDIO_STREAM_GUIDANCE&nbsp;</nobr></div>
<div style="position:absolute;top:43660;left:473"><nobr>driver  guidance&nbsp;</nobr></div>
<div style="position:absolute;top:43697;left:117"><nobr>Voice&nbsp;</nobr></div>
<div style="position:absolute;top:43697;left:217"><nobr>AUDIO_STREAM_TELEPHONY&nbsp;</nobr></div>
<div style="position:absolute;top:43697;left:473"><nobr>conversational  voice&nbsp;</nobr></div>
<div style="position:absolute;top:43734;left:117"><nobr>Media&nbsp;</nobr></div>
<div style="position:absolute;top:43734;left:217"><nobr>AUDIO_STREAM_MEDIA&nbsp;</nobr></div>
<div style="position:absolute;top:43734;left:473"><nobr>cabin  media&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:43770;left:108"><nobr>*  As  defined  in  the  <font color="#222222">receiver  library  AudioSink.h</font>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:43797;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:43828;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:43858;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:43888;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:43919;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:43949;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:43980;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:44046;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:44066;left:730"><nobr>37  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:44131;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="38"><b>Page 38</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:44222;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:12px;font-family:Times">
<div style="position:absolute;top:45022;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:44250;left:108"><nobr>Streams  transmit  audio  to  and  from  the  vehicle  using  the  following  architecture:&nbsp;</nobr></div>
<div style="position:absolute;top:44611;left:524"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:44634;left:108"><nobr><b>Figure  16 </b>.  <font color="#666666">Audio  stream  architecture.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:44667;left:108"><nobr>Streams  use  the  following  transports  and  codecs:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:44712;left:115"><nobr>Stream&nbsp;</nobr></div>
<div style="position:absolute;top:44712;left:233"><nobr>Direction&nbsp;</nobr></div>
<div style="position:absolute;top:44712;left:377"><nobr>Transport&nbsp;</nobr></div>
<div style="position:absolute;top:44712;left:502"><nobr>Protocol &nbsp;<font style="font-size:7px">4</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:44745;left:115"><nobr>UI&nbsp;</nobr></div>
<div style="position:absolute;top:44745;left:233"><nobr>device-to-vehicle&nbsp; AAP  (future)&nbsp;</nobr></div>
<div style="position:absolute;top:44745;left:502"><nobr>PCM  (REQUIRED)  and  AAC-LC&nbsp;</nobr></div>
<div style="position:absolute;top:44765;left:502"><nobr>(OPTIONAL)  16  bit,  16  kHz,  mono&nbsp;</nobr></div>
<div style="position:absolute;top:44797;left:115"><nobr>Guidance&nbsp;</nobr></div>
<div style="position:absolute;top:44797;left:233"><nobr>device-to-vehicle&nbsp; AAP&nbsp;</nobr></div>
<div style="position:absolute;top:44797;left:502"><nobr>PCM  16  bit,  16  kHz,  mono&nbsp;</nobr></div>
<div style="position:absolute;top:44830;left:115"><nobr>Voice&nbsp;</nobr></div>
<div style="position:absolute;top:44830;left:233"><nobr>device-to-vehicle&nbsp; AAP  (future)&nbsp;</nobr></div>
<div style="position:absolute;top:44830;left:502"><nobr>PCM  (REQUIRED)  and  AAC-LC&nbsp;</nobr></div>
<div style="position:absolute;top:44850;left:502"><nobr>(OPTIONAL)  16  bit,  16  kHz,  mono&nbsp;</nobr></div>
<div style="position:absolute;top:44883;left:115"><nobr>Media&nbsp;</nobr></div>
<div style="position:absolute;top:44883;left:233"><nobr>device-to-vehicle&nbsp; AAP&nbsp;</nobr></div>
<div style="position:absolute;top:44883;left:502"><nobr>PCM  (REQUIRED)  and  AAC-LC&nbsp;</nobr></div>
<div style="position:absolute;top:44903;left:502"><nobr>(OPTIONAL)  16  bit,  48  kHz  stereo&nbsp;</nobr></div>
<div style="position:absolute;top:44936;left:115"><nobr>Microphone&nbsp;</nobr></div>
<div style="position:absolute;top:44936;left:233"><nobr>vehicle-to-device&nbsp; AAP&nbsp;</nobr></div>
<div style="position:absolute;top:44936;left:502"><nobr>PCM  16  bit,  minimum  16  kHz,  mono&nbsp;</nobr></div>
<div style="position:absolute;top:44968;left:115"><nobr>Legacy  In-call&nbsp; bi-directional&nbsp;</nobr></div>
<div style="position:absolute;top:44968;left:377"><nobr>Bluetooth  SCO&nbsp; HFP  1.5  (SCO/CVSD)&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:44996;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:45022;left:108"><nobr>UI  (device-to-vehicle)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:45055;left:108"><nobr>The  UI  feedback  audio  output  stream  is  intended  for  short  audio  feedback  (beeps,  chimes,&nbsp;</nobr></div>
<div style="position:absolute;top:45078;left:108"><nobr>etc.)  in  response  to  UI  input.  This  audio  is  typically  mixed  with  other  audio  playback  at&nbsp;</nobr></div>
<div style="position:absolute;top:45100;left:108"><nobr>constant  volume  without  pause  or  ducking,  and  can  be  mixed  on  top  of  other  streams.&nbsp;</nobr></div>
<div style="position:absolute;top:45123;left:108"><nobr>Additionally,  this  audio  is  often  intended  for  the  driver  and  can  be  routed  to  audio  channels&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:45162;left:108"><nobr>4 <font style="font-size:11px">AAC-lc
  format  is:  RAW  AAC  frame  without  header,  decoded  buffer  size 
 in  one  frame:  1024  samples  for  16  kHz,&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:45180;left:108"><nobr>2048  samples  for  48  kHz.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:45234;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:45254;left:730"><nobr>38  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:45319;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="39"><b>Page 39</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:45410;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:45430;left:108"><nobr>aimed  at  the  driver.  The  HU  decides  which  output  channels  receive  this  audio  stream;  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:45452;left:108"><nobr>does  not  send  focus  requests  for  this  stream.  For  details,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#43"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#43">Audio  Focus  Policy </a></font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#43"></a>.  AAP  does&nbsp;</nobr></div>
<div style="position:absolute;top:45475;left:108"><nobr>not  currently  use  the  UI  stream.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:45513;left:108"><nobr>Guidance  (device-to-vehicle)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:45546;left:108"><nobr>The  guidance  audio  output  stream  plays  high-priority  transient  audio  such  as  traffic  warnings&nbsp;</nobr></div>
<div style="position:absolute;top:45568;left:108"><nobr>and  spoken  turn-by-turn  navigation  instructions.  This  audio  is  often  intended  for  the  driver&nbsp;</nobr></div>
<div style="position:absolute;top:45591;left:108"><nobr>and  can  be  routed  to  audio  channels  aimed  at  the  driver.  The  HU  decides  which  output&nbsp;</nobr></div>
<div style="position:absolute;top:45613;left:108"><nobr>channels  receive  this  audio  stream.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:45651;left:108"><nobr>Voice  (device-to-vehicle)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:45684;left:108"><nobr>(Not  currently  supported)  The  voice  stream  is  designed  to  handle  telephony  and  the  voice&nbsp;</nobr></div>
<div style="position:absolute;top:45706;left:108"><nobr>audio  output  stream  plays  conversational  voice  audio  such  as  voice  call  output.  This  audio  is&nbsp;</nobr></div>
<div style="position:absolute;top:45729;left:108"><nobr>often  intended  for  the  driver  and  can  be  routed  to  specific  audio  output  channels  aimed  at&nbsp;</nobr></div>
<div style="position:absolute;top:45751;left:108"><nobr>the  driver.  The  HU  decides  which  output  channels  receive  this  audio  stream.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:11px;font-family:Times;color:#000000">
<div style="position:absolute;top:45812;left:131"><nobr><b>NOTE<font color="#434343">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:45800;left:200"><nobr>Guidance <font style="font-size:14px">and  </font>Voice <font style="font-size:14px">are  distinct  streams  because  the  vehicle  HU  SHOULD  mix&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:45821;left:200"><nobr>the  Guidance  stream  at  a  higher  priority.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:45853;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:45865;left:108"><nobr>While  future  versions  of  AAP  may  use  the  voice  stream  for  telephony,  current&nbsp;</nobr></div>
<div style="position:absolute;top:45888;left:108"><nobr>implementations  use  Bluetooth  for  telephony  (see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#39"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#39">Legacy  In-Call</a> </font>stream).<b>&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:45925;left:108"><nobr>Media  (device-to-vehicle)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:45958;left:108"><nobr>The  media  audio  output  stream  plays  low-priority,  long-form  media  from  applications  on  the&nbsp;</nobr></div>
<div style="position:absolute;top:45981;left:108"><nobr>MD  such  music,  audiobooks,  podcasts,  Internet  radio,  etc.  This  audio  is  typically  intended  for&nbsp;</nobr></div>
<div style="position:absolute;top:46003;left:108"><nobr>the  entire  cabin,  and  SHOULD  be  routed  to  the  main  cabin  audio  sink.  This  audio  source&nbsp;</nobr></div>
<div style="position:absolute;top:46026;left:108"><nobr>SHOULD  never  play  on  top  of  any  other  source  and  focus  MUST  be  mutually  exclusive  with&nbsp;</nobr></div>
<div style="position:absolute;top:46048;left:108"><nobr>vehicle  media.  For  details,  see  <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#43"></a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#43">Audio  Focus  Policy</a> </font>.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:46086;left:108"><nobr>Microphone  (vehicle-to-device)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:46119;left:108"><nobr>The  microphone  audio  input  stream  captures  microphone  audio  using  the  built-in  vehicle&nbsp;</nobr></div>
<div style="position:absolute;top:46142;left:108"><nobr>microphones  and  transmits  that  audio  to  the  MD,  which  can  use  it  for  voice  calls,  speech&nbsp;</nobr></div>
<div style="position:absolute;top:46164;left:108"><nobr>recognition,  etc.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:46202;left:108"><nobr>Legacy  In-Call  (bi-directional)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:46235;left:108"><nobr>In-call  voice  audio  is  currently  routed  over  a  Bluetooth  HFP/SCO  link  instead  of  the  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:46258;left:108"><nobr>protocol.  In  future  mobile  device  implementations,  the  voice  call  audio  stream  will  route&nbsp;</nobr></div>
<div style="position:absolute;top:46280;left:108"><nobr>over  the  microphone  (input)  and  voice  (output)  streams  over  the  AAP  connection.&nbsp;</nobr></div>
<div style="position:absolute;top:46303;left:108"><nobr>Negotiation  of  the  voice  call  audio  link  is  performed  using  Bluetooth  Hands-Free  Protocol&nbsp;</nobr></div>
<div style="position:absolute;top:46325;left:108"><nobr>(HFP)  and  is  not  detailed  in  this  document.&nbsp;</nobr></div>
<div style="position:absolute;top:46422;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:46442;left:730"><nobr>39  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:46507;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="40"><b>Page 40</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:46598;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:46617;left:108"><nobr>Audio  Focus&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:46666;left:108"><nobr>Audio  focus  determines  which  audio  sources  can  play  through  which  streams  to  the  audio&nbsp;</nobr></div>
<div style="position:absolute;top:46689;left:108"><nobr>sink  at  a  given  point  in  time.  If  a  source  has  focus,  then  its  audio  is  routed  to  the  audio  sink.&nbsp;</nobr></div>
<div style="position:absolute;top:46727;left:115"><nobr>● Audio  focus  <b>requests </b>inform  the  HU  the  MD  wants  audio  focus.  An  MD  sends  a  request&nbsp;</nobr></div>
<div style="position:absolute;top:46749;left:142"><nobr>when  it  wants  to  play  audio.&nbsp;</nobr></div>
<div style="position:absolute;top:46780;left:115"><nobr>● Audio  focus  <b>notifications </b>inform  the  MD  of  the  current  audio  focus  state.  An  HU  sends&nbsp;</nobr></div>
<div style="position:absolute;top:46802;left:142"><nobr>a  notification  in  response  to  audio  focus  requests  or  unsolicited  (prompted  by  external&nbsp;</nobr></div>
<div style="position:absolute;top:46825;left:142"><nobr>events).&nbsp;</nobr></div>
<div style="position:absolute;top:46855;left:108"><nobr>Android  Auto  integrators  MUST  consider  changes  in  audio  focus  state  between  the  MD  and&nbsp;</nobr></div>
<div style="position:absolute;top:46878;left:108"><nobr>the  HU.  Even  simple  user  interactions  (such  as  starting  music)  can  cause  the  audio  focus&nbsp;</nobr></div>
<div style="position:absolute;top:46900;left:108"><nobr>state  to  change  multiple  times.  For  example,  a  user  listening  to  vehicle  FM  radio  can  connect&nbsp;</nobr></div>
<div style="position:absolute;top:46923;left:108"><nobr>an  Android  MD,  launch  projection  mode  navigation  with  guidance,  then  press  the&nbsp;</nobr></div>
<div style="position:absolute;top:46945;left:108"><nobr>push-to-talk  (PTT)  button  on  the  steering  wheel  to  find  a  contact  to  call  over  Bluetooth.&nbsp;</nobr></div>
<div style="position:absolute;top:46983;left:108"><nobr>The  Android  Auto  protocol  provides  the  appropriate  projection  mode  requests  and  Receiver&nbsp;</nobr></div>
<div style="position:absolute;top:47006;left:108"><nobr>responses  to  accommodate  known  use  cases.  Integrators  MUST  use  those  requests  and&nbsp;</nobr></div>
<div style="position:absolute;top:47028;left:108"><nobr>responses  to  design  a  seamless  user  experience  across  the  MD  and  the  HU.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:11px;font-family:Times;color:#000000">
<div style="position:absolute;top:47078;left:131"><nobr><b>NOTE<font color="#434343">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:47078;left:200"><nobr>Audio  focus  is  completely  separate  from  video  focus.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:47109;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:47128;left:108"><nobr>AAP  audio  sources  are  additions  to  existing  audio  sources.  To  assist  the  HU  in  prioritizing  all&nbsp;</nobr></div>
<div style="position:absolute;top:47151;left:108"><nobr>in-vehicle  audio  streams,  AAP  uses  the  following  audio  focus  negotiations:&nbsp;</nobr></div>
<div style="position:absolute;top:47182;left:115"><nobr>● User  MUST  be  able  to  view  native  HMI  while  playing  audio  streams  from  the  MD.&nbsp;</nobr></div>
<div style="position:absolute;top:47212;left:115"><nobr>● User  MUST  be  able  to  view  projected  video  content  while  playing  audio  streams  from&nbsp;</nobr></div>
<div style="position:absolute;top:47234;left:142"><nobr>the  vehicle.&nbsp;</nobr></div>
<div style="position:absolute;top:47265;left:115"><nobr>● Switching  audio  sources  does  not  require  switching  video  focus.&nbsp;</nobr></div>
<div style="position:absolute;top:47295;left:115"><nobr>● Switching  video  focus  does  not  require  switching  audio  focus.&nbsp;</nobr></div>
<div style="position:absolute;top:47325;left:108"><nobr>AAP  audio  focus  management  is  based  on  the <a href="http://developer.android.com/training/managing-audio/audio-focus.html"> </a><font color="#3d85c6"><a href="http://developer.android.com/training/managing-audio/audio-focus.html">Android  audio  focus  model </a></font><a href="http://developer.android.com/training/managing-audio/audio-focus.html"></a>.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:47363;left:108"><nobr>Audio  Focus  Requests&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:47403;left:108"><nobr>Audio  focus  requests  are  always  made  from  the  MD  to  the  HU.  An  MD  sends  an  audio  focus&nbsp;</nobr></div>
<div style="position:absolute;top:47425;left:108"><nobr>request  to  the  HU  when  the  MD  wants  to  gain  focus  to  play  audio.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:47464;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:47502;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:47540;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:47610;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:47630;left:730"><nobr>40  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:47695;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="41"><b>Page 41</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:47786;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:47806;left:108"><nobr>Android  Auto  supports  four  (4)  types  of  audio  focus  requests:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:47851;left:115"><nobr>Type&nbsp;</nobr></div>
<div style="position:absolute;top:47851;left:361"><nobr>Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:47883;left:115"><nobr>GAIN&nbsp;</nobr></div>
<div style="position:absolute;top:47883;left:361"><nobr>Request  to  gain  audio  focus  for  unknown  duration.  Other&nbsp;</nobr></div>
<div style="position:absolute;top:47906;left:361"><nobr>audio  sources  (i.e.  vehicle  audio  sources)  lose  focus  and  stop&nbsp;</nobr></div>
<div style="position:absolute;top:47928;left:361"><nobr>playing  audio.  MD  or  the  HU  can  have  full  (GAIN)  audio  focus.&nbsp;</nobr></div>
<div style="position:absolute;top:47963;left:115"><nobr>GAIN_TRANSIENT&nbsp;</nobr></div>
<div style="position:absolute;top:47963;left:361"><nobr>Request  to  gain  audio  focus  for  a  short  duration.  The  audio&nbsp;</nobr></div>
<div style="position:absolute;top:47986;left:361"><nobr>source  with  focus  temporarily  loses  focus,  stops  playing&nbsp;</nobr></div>
<div style="position:absolute;top:48008;left:361"><nobr>audio,  then  regains  focus  when  the  MD  sends  the  RELEASE&nbsp;</nobr></div>
<div style="position:absolute;top:48031;left:361"><nobr>message.  The  MD  sends  this  request  only  when  it  does  not&nbsp;</nobr></div>
<div style="position:absolute;top:48053;left:361"><nobr>already  have  full  (GAIN)  focus.&nbsp;</nobr></div>
<div style="position:absolute;top:48088;left:115"><nobr>GAIN_TRANSIENT_MAY_DUCK&nbsp;</nobr></div>
<div style="position:absolute;top:48088;left:361"><nobr>Request  to  gain  audio  focus  for  a  short  duration  and  that  it  is&nbsp;</nobr></div>
<div style="position:absolute;top:48111;left:361"><nobr>acceptable  for  other  audio  sources  to  keep  playing  after&nbsp;</nobr></div>
<div style="position:absolute;top:48133;left:361"><nobr>having  lowered  their  output  level  (referred  to  as  "ducking").&nbsp;</nobr></div>
<div style="position:absolute;top:48156;left:361"><nobr>The  MD  sends  this  request  only  when  it  does  not  already&nbsp;</nobr></div>
<div style="position:absolute;top:48178;left:361"><nobr>have  full  (GAIN)  focus  OR  GAIN_TRANSIENT  focus.&nbsp;</nobr></div>
<div style="position:absolute;top:48213;left:115"><nobr>RELEASE&nbsp;</nobr></div>
<div style="position:absolute;top:48213;left:361"><nobr>Request  to  release  audio  focus.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:48242;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:48269;left:108"><nobr>The  MD  MUST  send  audio  focus  requests  before  playing  audio,  with  exceptions  for  UI&nbsp;</nobr></div>
<div style="position:absolute;top:48292;left:108"><nobr>feedback  stream  audio.  However,  the  MD  MUST  wait  (timeout:  500ms)  for  a  confirmed&nbsp;</nobr></div>
<div style="position:absolute;top:48314;left:108"><nobr>response  before  playing  any  audio,  including  UI  feedback  stream  audio.  If  the  timeout&nbsp;</nobr></div>
<div style="position:absolute;top:48337;left:108"><nobr>expires  before  the  device  receives  a  response,  the  device  returns  to  its  previous  status.&nbsp;</nobr></div>
<div style="position:absolute;top:48375;left:108"><nobr>If  the  HU  requires  time  to  process  Audio  Focus  Requests  (to  switch  audio  paths,  initialize&nbsp;</nobr></div>
<div style="position:absolute;top:48397;left:108"><nobr>amps,  etc.)  then  the  HU  SHALL  finish  the  audioFocusRequestCallback  immediately  without&nbsp;</nobr></div>
<div style="position:absolute;top:48420;left:108"><nobr>blocking  and  send  its  focus  notification  (see  next  section)  after  its  required  setup  has&nbsp;</nobr></div>
<div style="position:absolute;top:48442;left:108"><nobr>completed.  If  setup  is  going  to  take  more  than  500ms,  the  HU  SHOULD  send  focus&nbsp;</nobr></div>
<div style="position:absolute;top:48465;left:108"><nobr>notification  earlier  (to  avoid  focus  request  timeout)  and  add  additional  delay  to  audio  stream&nbsp;</nobr></div>
<div style="position:absolute;top:48487;left:108"><nobr>by  postponing  ACK  when  MD  starts  sending  audio  stream  until  the  setup  is  complete.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:48525;left:108"><nobr>Audio  Focus  Notifications&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:48565;left:108"><nobr>Audio  focus  responses  are  sent  by  the  HU  to  the  MD  to  inform  the  MD  of  its  focus  state.&nbsp;</nobr></div>
<div style="position:absolute;top:48588;left:108"><nobr>These  messages  MAY  be  sent  in  response  to  audio  focus  requests  or  as  unsolicited  messages&nbsp;</nobr></div>
<div style="position:absolute;top:48610;left:108"><nobr>prompted  by  external  events.  For  example,  the  HU  sends  audio  focus  notifications  to  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:48633;left:108"><nobr>when  the  user  selects  a  native  (HU)  audio  source,  such  as  FM  radio,  indicating  that  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:48655;left:108"><nobr>has  lost  audio  focus.&nbsp;</nobr></div>
<div style="position:absolute;top:48693;left:108"><nobr>The  audio  focus  responses  include  a  valid  MD  audio  focus  state.  For  example,  a  HU  response&nbsp;</nobr></div>
<div style="position:absolute;top:48716;left:108"><nobr>of  STATE_GAIN_TRANSIENT  to  the  MD  is  logically  the  same  as  saying  the  “MD  has  been&nbsp;</nobr></div>
<div style="position:absolute;top:48798;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:48818;left:730"><nobr>41  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:48883;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="42"><b>Page 42</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:48974;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:48994;left:108"><nobr>granted  the  current  state  of  STATE_GAIN_TRANSIENT”.&nbsp;</nobr></div>
<div style="position:absolute;top:49032;left:108"><nobr>Android  Auto  supports  several  audio  focus  states  for  use  in  audio  focus  notifications:<b><font color="#000000">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:49077;left:115"><nobr>Response&nbsp;</nobr></div>
<div style="position:absolute;top:49077;left:447"><nobr>Indicates  ...&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:49112;left:115"><nobr>STATE_GAIN&nbsp;</nobr></div>
<div style="position:absolute;top:49112;left:447"><nobr>MD  has  gained  audio  focus  (when  in  response  to&nbsp;</nobr></div>
<div style="position:absolute;top:49134;left:447"><nobr>an  audio  focus  request)  or  regained  audio  focus&nbsp;</nobr></div>
<div style="position:absolute;top:49157;left:447"><nobr>(when  it  was  temporarily  lost).&nbsp;</nobr></div>
<div style="position:absolute;top:49192;left:115"><nobr>STATE_GAIN_TRANSIENT&nbsp;</nobr></div>
<div style="position:absolute;top:49192;left:447"><nobr>MD  has  gained  audio  focus  for  a  short  duration.&nbsp;</nobr></div>
<div style="position:absolute;top:49227;left:115"><nobr>STATE_GAIN_TRANSIENT_GUIDANCE_ONLY&nbsp; MD  has  gained  audio  focus  for  a  short  duration&nbsp;</nobr></div>
<div style="position:absolute;top:49249;left:447"><nobr>but  is  only  allowed  to  play  on  the  GUIDANCE&nbsp;</nobr></div>
<div style="position:absolute;top:49272;left:447"><nobr>channel.&nbsp;</nobr></div>
<div style="position:absolute;top:49306;left:115"><nobr>STATE_GAIN_MEDIA_ONLY&nbsp;</nobr></div>
<div style="position:absolute;top:49306;left:447"><nobr>MD  has  gained  audio  focus  but  is  only  allowed  to&nbsp;</nobr></div>
<div style="position:absolute;top:49329;left:447"><nobr>play  on  the  MEDIA  channel.&nbsp;</nobr></div>
<div style="position:absolute;top:49364;left:115"><nobr>STATE_LOSS_TRANSIENT_MAY_DUCK&nbsp;</nobr></div>
<div style="position:absolute;top:49364;left:447"><nobr>MD  can  continue  playing  through  MEDIA  channel&nbsp;</nobr></div>
<div style="position:absolute;top:49386;left:447"><nobr>if  volume  is  lowered.&nbsp;</nobr></div>
<div style="position:absolute;top:49421;left:115"><nobr>STATE_LOSS&nbsp;</nobr></div>
<div style="position:absolute;top:49421;left:447"><nobr>MD  has  lost  audio  focus  or  failed  to  gain  audio&nbsp;</nobr></div>
<div style="position:absolute;top:49444;left:447"><nobr>focus.&nbsp;</nobr></div>
<div style="position:absolute;top:49479;left:115"><nobr>STATE_LOSS_TRANSIENT&nbsp;</nobr></div>
<div style="position:absolute;top:49479;left:447"><nobr>MD  has  temporarily  lost  audio  focus  or  has  failed&nbsp;</nobr></div>
<div style="position:absolute;top:49501;left:447"><nobr>to  gain  audio  focus.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:49530;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:49557;left:108"><nobr>In  all  situations,  the  HU  makes  the  final  decision  on  audio  focus.  However,  the  HU  MUST<b>&nbsp;</b>&nbsp;</nobr></div>
<div style="position:absolute;top:49580;left:108"><nobr>send  audio  focus  notifications  before  playing  audio  to  enable  the  MD  to  synchronize  pause&nbsp;</nobr></div>
<div style="position:absolute;top:49602;left:108"><nobr>and  duck  timing.&nbsp;</nobr></div>
<div style="position:absolute;top:49641;left:108"><nobr>The  HU  SHOULD  also  honor  the  last  focus  state  when  receiving  a  RELEASE  notification:&nbsp;</nobr></div>
<div style="position:absolute;top:49671;left:115"><nobr>● If  the  MD  held  STATE_GAIN  and  it  relinquished  audio  focus  (RELEASE),  the  HU  SHOULD&nbsp;</nobr></div>
<div style="position:absolute;top:49693;left:142"><nobr>NOT  automatically  resume  playing  native  music.  An  event  other  than  an  MD  focus&nbsp;</nobr></div>
<div style="position:absolute;top:49716;left:142"><nobr>release,  either  user-  or  system-initiated,  SHOULD  trigger  the  next  audio  state  since  the&nbsp;</nobr></div>
<div style="position:absolute;top:49738;left:142"><nobr>MD  intended  to  hold  focus  for  unknown  duration.&nbsp;</nobr></div>
<div style="position:absolute;top:49769;left:115"><nobr>● If  the  MD  held  STATE_GAIN_TRANSIENT  and  it  relinquished  audio  focus  (RELEASE),  the&nbsp;</nobr></div>
<div style="position:absolute;top:49791;left:142"><nobr>HU  may  immediately  resume  native  music  since  the  MD  intended  to  hold  focus  for  a&nbsp;</nobr></div>
<div style="position:absolute;top:49814;left:142"><nobr>short  duration.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:49852;left:108"><nobr>Audio  Focus  Initialization&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:49884;left:108"><nobr>After  establishing  a  AAP  connection,  the  HU  has  audio  focus  and  the  MD  MUST  request  focus&nbsp;</nobr></div>
<div style="position:absolute;top:49906;left:108"><nobr>before  playing  a  stream.  To  ensure  an  AAP  audio  implementation  provides  a  seamless  audio&nbsp;</nobr></div>
<div style="position:absolute;top:49929;left:108"><nobr>experience  when  switching  from  native  mode  to  projection  mode,  use  the  following  policy:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:49986;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:50006;left:730"><nobr>42  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:50071;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="43"><b>Page 43</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:50162;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:50182;left:115"><nobr>● <b>HU  playing  music </b>.  The  HU  takes  audio  focus.  If  the  MD  is  playing  music,  the  HU  denies&nbsp;</nobr></div>
<div style="position:absolute;top:50204;left:142"><nobr>audio  focus  to  MD  (which  stops  playback)  and  continues  playing  music.  If  user  enters&nbsp;</nobr></div>
<div style="position:absolute;top:50227;left:142"><nobr>projection  mode  and  starts  an  audio  application,  the  HU  begins  switch.&nbsp;</nobr></div>
<div style="position:absolute;top:50257;left:115"><nobr>● <b>HU  not  playing  music </b>.  The  HU  does  not  take  audio  focus.  If  the  MD  is  playing  music,&nbsp;</nobr></div>
<div style="position:absolute;top:50280;left:142"><nobr>the  HU  grants  audio  focus  to  the  MD  and  continues  playing  music.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:50317;left:108"><nobr>Audio  Focus  Policy&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:50357;left:108"><nobr>The  HU  and  MD  MUST  manage  audio  focus  according  to  the  following  policy:&nbsp;</nobr></div>
<div style="position:absolute;top:50388;left:115"><nobr>1. HU  MUST  send  focus  notifications  to  the  MD  and  indicate  the  correct  focus  state  before&nbsp;</nobr></div>
<div style="position:absolute;top:50410;left:142"><nobr>playing  audio  from  a  native  audio  source.  HU  MAY  NOT  play  native  audio  without&nbsp;</nobr></div>
<div style="position:absolute;top:50433;left:142"><nobr>previously  sending  a  focus  notification.  If  the  focus  state  is  unchanged,  notification  is&nbsp;</nobr></div>
<div style="position:absolute;top:50455;left:142"><nobr>unnecessary.&nbsp;</nobr></div>
<div style="position:absolute;top:50485;left:115"><nobr>2. MD  MUST  request  audio  focus  and  indicate  the  desired  focus  state  before  playing  audio&nbsp;</nobr></div>
<div style="position:absolute;top:50508;left:142"><nobr>from  an  MD  audio  source.  MD  cannot  play  audio  when  it  does  not  have  audio  focus.  MD&nbsp;</nobr></div>
<div style="position:absolute;top:50530;left:142"><nobr>can  skip  the  focus  request  if  it  already  has  the  desired  focus  state.&nbsp;</nobr></div>
<div style="position:absolute;top:50561;left:115"><nobr>3. HU  MUST  grant  audio  focus  requests  from  the  MD  in  a  timely  manner. &nbsp;<font style="font-size:7px">5</font></nobr></div>
<div style="position:absolute;top:50591;left:115"><nobr>4. MD  MUST  stop  audio  playback  if  the  HU  is  sending  an  audio  focus  loss  notification  (with&nbsp;</nobr></div>
<div style="position:absolute;top:50614;left:142"><nobr>allowances  for  short  duration  audio  streaming  due  to  asynchronous  communication).&nbsp;</nobr></div>
<div style="position:absolute;top:50644;left:115"><nobr>5. After  granting  audio  focus  to  MD,  the  HU  MUST  play  the  audio  stream  from  the  MD.&nbsp;</nobr></div>
<div style="position:absolute;top:50674;left:115"><nobr>6. If  the  audio  focus  notification  indicates  ducking  is  allowed,  HU  MAY  duck  audio  on  the&nbsp;</nobr></div>
<div style="position:absolute;top:50697;left:142"><nobr>media  stream  to  allow  transient  audio  (from  MD  or  vehicle)  on  the  notification  stream.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:50735;left:108"><nobr>Audio  Focus  Priorities&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:50775;left:108"><nobr>The  HU  and  MD  MUST  manage  audio  stream  priorities  for  audio  focus  as  indicated  below&nbsp;</nobr></div>
<div style="position:absolute;top:50797;left:108"><nobr>(priorities  in  descending  order;  lower  priority  numbers  preempt  higher  numbers):&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:50842;left:116"><nobr>Priority&nbsp;</nobr></div>
<div style="position:absolute;top:50842;left:203"><nobr>Source&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:50842;left:293"><nobr>Stream&nbsp; Comments&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:50888;left:138"><nobr>1&nbsp;</nobr></div>
<div style="position:absolute;top:50877;left:201"><nobr>Vehicle&nbsp;</nobr></div>
<div style="position:absolute;top:50899;left:185"><nobr>Notification&nbsp;</nobr></div>
<div style="position:absolute;top:50888;left:311"><nobr>UI&nbsp;</nobr></div>
<div style="position:absolute;top:50877;left:368"><nobr>Has  priority  over  all  other  sources  because  it  can  carry&nbsp;</nobr></div>
<div style="position:absolute;top:50899;left:368"><nobr>safety-critical  and  regulatory-mandated  audio  notifications.&nbsp;</nobr></div>
<div style="position:absolute;top:50988;left:138"><nobr>2&nbsp;</nobr></div>
<div style="position:absolute;top:50977;left:215"><nobr>MD&nbsp;</nobr></div>
<div style="position:absolute;top:51000;left:192"><nobr>Guidance&nbsp;</nobr></div>
<div style="position:absolute;top:50988;left:285"><nobr>Guidance&nbsp;</nobr></div>
<div style="position:absolute;top:50939;left:368"><nobr>Has  priority  over  all  lower-priority  sources.&nbsp;</nobr></div>
<div style="position:absolute;top:50966;left:372"><nobr>● HU  MUST  grant  focus  requests  to  the  guidance  stream&nbsp;</nobr></div>
<div style="position:absolute;top:50988;left:399"><nobr>unless  vehicle  notification  audio  is  currently  playing.&nbsp;</nobr></div>
<div style="position:absolute;top:51016;left:372"><nobr>● MD  audio  focus  requests  typically  indicate  that  other&nbsp;</nobr></div>
<div style="position:absolute;top:51038;left:399"><nobr>streams  can  duck  audio  (see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#40"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#40">Audio  Focus  Requests </a></font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#40"></a>).&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:6px;font-family:Times;color:#434343">
<div style="position:absolute;top:51120;left:108"><nobr>5 <font style="font-size:11px">Regulatory  requirements  may  require  the  vehicle  to  reject  other  audio  while  playing  regulatory  notifications.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:51174;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:51194;left:730"><nobr>43  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:51259;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="44"><b>Page 44</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:51350;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:51410;left:138"><nobr>3&nbsp;</nobr></div>
<div style="position:absolute;top:51410;left:194"><nobr>MD  Voice&nbsp;</nobr></div>
<div style="position:absolute;top:51410;left:300"><nobr>Voice&nbsp;</nobr></div>
<div style="position:absolute;top:51376;left:368"><nobr>Has  priority  over  all  lower-priority  sources.  HU  MUST  grant&nbsp;</nobr></div>
<div style="position:absolute;top:51399;left:368"><nobr>focus  requests  to  this  stream  in  all  cases  that  do  not  involve&nbsp;</nobr></div>
<div style="position:absolute;top:51421;left:368"><nobr>higher-priority  streams  (active  guidance  or  vehicle&nbsp;</nobr></div>
<div style="position:absolute;top:51444;left:368"><nobr>notifications).&nbsp;</nobr></div>
<div style="position:absolute;top:51540;left:138"><nobr>4&nbsp;</nobr></div>
<div style="position:absolute;top:51501;left:190"><nobr>MD  Media&nbsp;</nobr></div>
<div style="position:absolute;top:51528;left:222"><nobr>&amp;&nbsp;</nobr></div>
<div style="position:absolute;top:51555;left:201"><nobr>Vehicle&nbsp;</nobr></div>
<div style="position:absolute;top:51578;left:205"><nobr>Media&nbsp;</nobr></div>
<div style="position:absolute;top:51540;left:297"><nobr>Media&nbsp;</nobr></div>
<div style="position:absolute;top:51483;left:368"><nobr>Has  low  priority.  HU  MUST  grant  focus  requests  to  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:51506;left:368"><nobr>media  stream  and  stop  playing  vehicle  media  after&nbsp;</nobr></div>
<div style="position:absolute;top:51528;left:368"><nobr>switching  focus.  If  a  higher  priority  source  allows  ducking,&nbsp;</nobr></div>
<div style="position:absolute;top:51551;left:368"><nobr>these  sources  can  pause  or  duck.  Typically,  these  sources&nbsp;</nobr></div>
<div style="position:absolute;top:51573;left:368"><nobr>are  mutually  exclusive  (HU  cannot  play  audio  from  both&nbsp;</nobr></div>
<div style="position:absolute;top:51596;left:368"><nobr>sources  simultaneously,  ducked  or  otherwise).&nbsp;</nobr></div>
<div style="position:absolute;top:51669;left:138"><nobr>5&nbsp;</nobr></div>
<div style="position:absolute;top:51658;left:205"><nobr>MD  UI&nbsp;</nobr></div>
<div style="position:absolute;top:51680;left:194"><nobr>Feedback&nbsp;</nobr></div>
<div style="position:absolute;top:51669;left:311"><nobr>UI&nbsp;</nobr></div>
<div style="position:absolute;top:51635;left:368"><nobr>Has  low  priority.  When  the  MD  has  video  focus,  the  HU&nbsp;</nobr></div>
<div style="position:absolute;top:51658;left:368"><nobr>SHOULD  always  play  device  UI  feedback  audio.  Typically&nbsp;</nobr></div>
<div style="position:absolute;top:51680;left:368"><nobr>this  source  mixes  with  other  audio  sources  without&nbsp;</nobr></div>
<div style="position:absolute;top:51703;left:368"><nobr>ducking.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:51737;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:51763;left:108"><nobr><b>Audio  Focus  Contention  &amp;  Media  Mixing&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:51802;left:108"><nobr>Many  vehicles  support  mixing  multiple  audio  streams,  which  enables  an  audio  source  to&nbsp;</nobr></div>
<div style="position:absolute;top:51824;left:108"><nobr>duck  under  a  different  source.  If  a  vehicle:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:51855;left:115"><nobr>● Can  mix  streams,  the  HU  MAY  grant  STATE_GAIN  or  STATE_GAIN_TRANSIENT.&nbsp;</nobr></div>
<div style="position:absolute;top:51885;left:115"><nobr>● Cannot  mix  streams,  the  HU  MAY  grant  STATE_GAIN_TRANSIENT_GUIDANCE_ONLY.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:51923;left:108"><nobr><b>Automatic  Speech  Recognition  (ASR)  Focus&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:51960;left:108"><nobr>ASR  sessions  SHOULD  have  exclusive  focus  within  the  car,  meaning  all  sounds  SHOULD  end&nbsp;</nobr></div>
<div style="position:absolute;top:51983;left:108"><nobr>during  a  ASR  session.  Android  Auto  provides  a  separate  VoiceSessionNotification  focus  status&nbsp;</nobr></div>
<div style="position:absolute;top:52005;left:108"><nobr>to  ensure  voice  exclusivity:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:52036;left:115"><nobr>● When  the  MD  sends  VoiceSessionRequestNotification  with  VOICE_SESSION_START,  the&nbsp;</nobr></div>
<div style="position:absolute;top:52058;left:142"><nobr>HU  SHOULD  stop  all  sounds  regardless  of  audio  focus  state.  The  MD  will  also  request&nbsp;</nobr></div>
<div style="position:absolute;top:52081;left:142"><nobr>GAIN  or  GAIN_TRANSIENT  focus  to  play  any  beep  tones  and  the  ASR  response.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:52111;left:115"><nobr>● When  the  in-vehicle  automatic  speech  recognition  is  in  session,  the  HU  takes  focus  from&nbsp;</nobr></div>
<div style="position:absolute;top:52134;left:142"><nobr>MD  with  STATE_LOSS.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:52156;left:142"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:11px;font-family:Times;color:#000000">
<div style="position:absolute;top:52214;left:176"><nobr><b>TIP<font color="#434343">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:52188;left:239"><nobr>To  avoid  interference,  the  HU  SHOULD  lower  fan  speed  to  half&nbsp;</nobr></div>
<div style="position:absolute;top:52210;left:239"><nobr>(55dBA  or  below)  when  user  activates  voice  control.  When  voice&nbsp;</nobr></div>
<div style="position:absolute;top:52233;left:239"><nobr>control  ends,  resume  previous  fan  speed.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:52266;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:52279;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:52291;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:52362;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:52382;left:730"><nobr>44  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:52447;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="45"><b>Page 45</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:52538;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:52558;left:108"><nobr><b>Navigation  Focus&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:52596;left:108"><nobr>In  vehicles  that  include  a  navigation  system,  collisions  can  occur  between  MD  and  native&nbsp;</nobr></div>
<div style="position:absolute;top:52618;left:108"><nobr>navigation  guidance.  Android  Auto  provides  a  separate  NavFocusNotification  focus  status&nbsp;</nobr></div>
<div style="position:absolute;top:52641;left:108"><nobr>(separate  from  STATE_GAIN  requests/responses)  to  prevent  such  collisions:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:52672;left:115"><nobr>● When  the  MD  sends  NavFocusRequestNotification  with  NAV_FOCUS_PROJECTED,  the  HU&nbsp;</nobr></div>
<div style="position:absolute;top:52694;left:142"><nobr>SHOULD  stop  any  existing  navigation  guidance  and  grant  NAV_FOCUS_PROJECTED  by&nbsp;</nobr></div>
<div style="position:absolute;top:52716;left:142"><nobr>sending  NavFocusResponseNotification.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:52747;left:115"><nobr>● When  the  HU  sends  a  NavFocusResponseNotification  with  NAV_FOCUS_NATIVE,  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:52769;left:142"><nobr>SHOULD  stop  any  existing  navigation  guidance  and  transition  to  state&nbsp;</nobr></div>
<div style="position:absolute;top:52792;left:142"><nobr>NAV_FOCUS_NATIVE.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:52822;left:108"><nobr>For  example,  a  <font color="#333333">vehicle  that  cannot  mix  streams  cannot  grant  the  MD  access  to  the  GUIDANCE&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#333333"><span style="font-size:14px;font-family:Times;color:#333333">
<div style="position:absolute;top:52845;left:108"><nobr>stream  during  active  native  navigation  guidance.  However,  the  vehicle  can  grant&nbsp;</nobr></div>
<div style="position:absolute;top:52867;left:108"><nobr>NAV_FOCUS_PROJECTED  to  an  MD,  enabling  it  to  play  navigation  guidance  (HU  stops  native&nbsp;</nobr></div>
<div style="position:absolute;top:52890;left:108"><nobr>guidance).  For  details,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#80"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#80">Integrating  Navigation </a></font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#80"></a>.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:52927;left:108"><nobr><b>Media  (Music)  Focus&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:52965;left:108"><nobr>Playing  media  (such  as  music)  always  involves  full  focus.  When  the  MD  starts  music,  it  sends&nbsp;</nobr></div>
<div style="position:absolute;top:52987;left:108"><nobr>a  GAIN  request  and  the  HU  replies  with  one  of  the  following:&nbsp;</nobr></div>
<div style="position:absolute;top:53018;left:115"><nobr>● STATE_GAIN  when  vehicle  has  no  restriction,  <b>or&nbsp;</b></nobr></div>
<div style="position:absolute;top:53049;left:115"><nobr>● STATE_GAIN_MEDIA_ONLY  when  vehicle  is  using  guidance  channel,  <b>or&nbsp;</b></nobr></div>
<div style="position:absolute;top:53079;left:115"><nobr>● STATE_LOSS  when  vehicle  is  playing  high  priority  sound  after  stopping  native  media.&nbsp;</nobr></div>
<div style="position:absolute;top:53109;left:108"><nobr>When  vehicle  starts  music,  the  HU  sends  a  STATE_LOSS  to  stop  MD  music  and  guidance.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:53147;left:108"><nobr><b>System  Stream  Support&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:53185;left:108"><nobr>System  sound  stream  (UI)  does  not  require  audio  focus  as  this  sound  SHOULD  be  played  as&nbsp;</nobr></div>
<div style="position:absolute;top:53208;left:108"><nobr>soon  as  possible.  Support  of  system  stream  is  OPTIONAL  (vehicles  are  not  required  to&nbsp;</nobr></div>
<div style="position:absolute;top:53230;left:108"><nobr>support  this  stream)  but  lack  of  support  prevents  users  from  hearing  system  sounds.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:53268;left:108"><nobr>Audio  Mixing  Guidelines&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:53309;left:108"><nobr>Some  vehicles  support  mixing  multiple  audio  streams  while  others  support  handling  one&nbsp;</nobr></div>
<div style="position:absolute;top:53332;left:108"><nobr>audio  stream  at  a  time.  The  vehicle’s  ability  to  mix  GUIDANCE  and  MEDIA  audio  streams&nbsp;</nobr></div>
<div style="position:absolute;top:53354;left:108"><nobr>affects  the  general  behavior  of  audio  focus  requests  and  responses  in  Android  Auto&nbsp;</nobr></div>
<div style="position:absolute;top:53377;left:108"><nobr>implementations.  In  some  situations,  individual  audio  focus  implementations  on  the  HU  will&nbsp;</nobr></div>
<div style="position:absolute;top:53399;left:108"><nobr>reflect  special  circumstances  of  the  entire  vehicle  audio  system.&nbsp;</nobr></div>
<div style="position:absolute;top:53437;left:108"><nobr>Google  expects  integrators  to  use  audio  requests  and  audio  state  responses  to  provide  a&nbsp;</nobr></div>
<div style="position:absolute;top:53460;left:108"><nobr>good  user  experience  in  both  general  and  special  use  cases.  If  the  integrator  decides  to  use  a&nbsp;</nobr></div>
<div style="position:absolute;top:53482;left:108"><nobr>single-channel  audio  source,  the  HU  MUST  treat  this  source  as  a  singular  feed  and  not&nbsp;</nobr></div>
<div style="position:absolute;top:53550;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:53570;left:730"><nobr>45  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:53635;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="46"><b>Page 46</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:53726;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:53746;left:108"><nobr>attempt  to  adjust  volumes  based  on  derived  audio  source.&nbsp;</nobr></div>
<div style="position:absolute;top:53784;left:108"><nobr>The  General  Audio  Notification  Guidelines  section  contains  general  guidelines  for  audio&nbsp;</nobr></div>
<div style="position:absolute;top:53806;left:108"><nobr>notifications.  For  guidelines  that  differ  depending  on  mixing  capabilities,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#46"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#46">Guidelines  For&nbsp;</a></font></nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:53829;left:108"><nobr><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#46">Mixing  Streams </a><font color="#434343">and  <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#47"></a></font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#47">Guidelines  for  Non-Mixed  Streams </a><font color="#434343"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#47"></a>.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:53867;left:108"><nobr>General  Audio  Notification  Guidelines&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:53907;left:108"><nobr>Regardless  of  vehicle  mixed  stream  support,  integrators  can  ensure  a  good  user  experience&nbsp;</nobr></div>
<div style="position:absolute;top:53929;left:108"><nobr>by  using  the  following  audio  focus  change  notification  logic.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:53967;left:108"><nobr>When  the  MD  is  in:&nbsp;</nobr></div>
<div style="position:absolute;top:54006;left:115"><nobr>● <b>STATE_GAIN_TRANSIENT </b>,  the  MD  has  focus  with  intent  to  use  audio  streams  briefly.&nbsp;</nobr></div>
<div style="position:absolute;top:54036;left:115"><nobr>● <b>STATE_GAIN_MEDIA_ONLY </b>,  the  MD  has  focus  but  is  restricted  to  streaming  <font style="font-size:15px">only </font>to  the&nbsp;</nobr></div>
<div style="position:absolute;top:54058;left:142"><nobr>MEDIA  channel.  The  MD  does  not  send  additional  focus  GAIN*  requests.&nbsp;</nobr></div>
<div style="position:absolute;top:54089;left:115"><nobr>● <b>STATE_GAIN_TRANSIENT_GUIDANCE_ONLY </b>,  the  MD  has  focus  for  a  short  period  but  is&nbsp;</nobr></div>
<div style="position:absolute;top:54111;left:142"><nobr>restricted  to  streaming  <font style="font-size:15px">only </font>to  the  GUIDANCE  channel.  If  an  MD  application  requires  full&nbsp;</nobr></div>
<div style="position:absolute;top:54134;left:142"><nobr>focus,  the  MD  MUST  send  a  focus  gain  request  (STATE_GAIN).&nbsp;</nobr></div>
<div style="position:absolute;top:54165;left:115"><nobr>● <b>STATE_LOSS_TRANSIENT </b>,  the  MD  does  not  have  focus.  Occurs  when  the  HU  wants  to&nbsp;</nobr></div>
<div style="position:absolute;top:54187;left:142"><nobr>take  focus  from  MD  for  short  period  and  has  sent  the  MD  a  STATE_LOSS_TRANSIENT.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:54225;left:108"><nobr>Guidelines  For  Mixing  Streams&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:54264;left:108"><nobr>Regardless  of  vehicle  audio  capabilities,  integrators  SHOULD  implement  the  following  audio&nbsp;</nobr></div>
<div style="position:absolute;top:54287;left:108"><nobr>focus  behaviors  (see  also  <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#47"></a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#47">Guidelines  for  Non-Mixed  Streams</a> </font>).&nbsp;<b><font color="#000000">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:54332;left:115"><nobr>Action&nbsp;</nobr></div>
<div style="position:absolute;top:54332;left:271"><nobr>Behavior&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:54366;left:117"><nobr>User  launches  AAP&nbsp; <font style="font-size:14px">MD  sends  RELEASE  request  to  HU  so  the  HU  has  default  audio  focus.&nbsp;</font></nobr></div>
<div style="position:absolute;top:54407;left:117"><nobr>MD  wants  to  play&nbsp;</nobr></div>
<div style="position:absolute;top:54429;left:117"><nobr>a  sound&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:54407;left:273"><nobr>MD  requests  focus  by  sending  GAIN,  GAIN_TRANSIENT,  or&nbsp;</nobr></div>
<div style="position:absolute;top:54430;left:273"><nobr>GAIN_TRANSIENT_MAY_DUCK.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:54469;left:117"><nobr>HU  grants  focus  to&nbsp;</nobr></div>
<div style="position:absolute;top:54491;left:117"><nobr>MD&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:54469;left:273"><nobr>HU  grants  STATE_GAIN  or  STATE_GAIN_TRANSIENT  to  enable  the  MD  to&nbsp;</nobr></div>
<div style="position:absolute;top:54492;left:273"><nobr>send  audio  over  both  MEDIA  and  GUIDANCE  channels.  The  HU&nbsp;</nobr></div>
<div style="position:absolute;top:54514;left:273"><nobr>SHOULD  grant  the  MD  full  focus  whenever  possible.  After  the  HU&nbsp;</nobr></div>
<div style="position:absolute;top:54537;left:273"><nobr>grants  focus  and  the  MD  is  in  STATE_GAIN  or  STATE_GAIN_TRANSIENT,&nbsp;</nobr></div>
<div style="position:absolute;top:54559;left:273"><nobr>MD  apps  can  play  guidance  over  the  MEDIA  <b><font style="font-size:15px">or </font></b>the  GUIDANCE  streams.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:54589;left:273"><nobr>For  navigation  guidance:&nbsp;</nobr></div>
<div style="position:absolute;top:54619;left:278"><nobr>● If  HU  allows  only  GUIDANCE,  MD  plays  navigation  guidance  on  the&nbsp;</nobr></div>
<div style="position:absolute;top:54642;left:305"><nobr>GUIDANCE  stream.&nbsp;</nobr></div>
<div style="position:absolute;top:54672;left:278"><nobr>● If  HU  allows  only  MEDIA,  MD  plays  navigation  guidance  on  the&nbsp;</nobr></div>
<div style="position:absolute;top:54738;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:54758;left:730"><nobr>46  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:54823;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="47"><b>Page 47</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:54914;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:54943;left:305"><nobr>MEDIA  stream.&nbsp;</nobr></div>
<div style="position:absolute;top:54972;left:278"><nobr>● If  HU  allows  both  GUIDANCE  and  MEDIA,  MD  SHOULD  play&nbsp;</nobr></div>
<div style="position:absolute;top:54996;left:305"><nobr>navigation  guidance  on  the  GUIDANCE  stream  instead  of  the&nbsp;</nobr></div>
<div style="position:absolute;top:55018;left:305"><nobr>MEDIA  stream.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:55065;left:117"><nobr>Vehicle  requires&nbsp;</nobr></div>
<div style="position:absolute;top:55087;left:117"><nobr>focus&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:55065;left:273"><nobr>HU  sends  STATE_LOSS  to  stop  sound  playing  from  the  MD.  For  example,&nbsp;</nobr></div>
<div style="position:absolute;top:55088;left:273"><nobr>if  the  user  starts  the  in-vehicle  radio  player,  the  HU  sends  STATE_LOSS&nbsp;</nobr></div>
<div style="position:absolute;top:55110;left:273"><nobr>to  MD  and  music  on  the  device  stops  due  to  focus  loss.  If  the  MD  MUST&nbsp;</nobr></div>
<div style="position:absolute;top:55133;left:273"><nobr>play  music  or  other  audio  later,  it  sends  a  focus  request  at  that  time.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:55163;left:273"><nobr>Alternatively,  the  HU  can  send  a  STATE_LOSS_TRANSIENT,  which  is&nbsp;</nobr></div>
<div style="position:absolute;top:55186;left:273"><nobr>similar  to  STATE_LOSS  but  implies  that  the  loss  is  transient  (temporary);&nbsp;</nobr></div>
<div style="position:absolute;top:55208;left:273"><nobr>i.e.  the  vehicle  intends  to  stop  playing  sound  after  a  short  time  and  the&nbsp;</nobr></div>
<div style="position:absolute;top:55231;left:273"><nobr>HU  intends  to  return  focus  to  the  MD.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:55261;left:273"><nobr>TRANSIENT  states  can  also  notify  the  MD  that  the  vehicle  is  about  to&nbsp;</nobr></div>
<div style="position:absolute;top:55284;left:273"><nobr>play  safety  critical  warning  sounds,  in  which  case  the  vehicle  SHOULD&nbsp;</nobr></div>
<div style="position:absolute;top:55306;left:273"><nobr>NOT  wait  for  the  MD  to  stop  playing  sound.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:55336;left:273"><nobr>Finally,  a  STATE_LOSS_TRANSIENT  notifies  the  MD  that  the  MD  can&nbsp;</nobr></div>
<div style="position:absolute;top:55359;left:273"><nobr>resume  playing  when  HU  returns  focus.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:55398;left:117"><nobr>Anytime&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:55398;left:273"><nobr>HU  can  take  audio  focus  from  the  MD,  interrupting  MD  sound.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:55430;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:55456;left:108"><nobr>Guidelines  for  Non-Mixed  Streams&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:55496;left:108"><nobr>In  vehicles  that  do  not  support  mixing  GUIDANCE  and  MEDIA  streams,  the  MD  MUST  send&nbsp;</nobr></div>
<div style="position:absolute;top:55519;left:108"><nobr>data  one  audio  stream  at  a  time.  Make  the  following  adjustments  to  audio  focus  behavior:<b><font color="#000000">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:55564;left:115"><nobr>Action&nbsp;</nobr></div>
<div style="position:absolute;top:55564;left:242"><nobr>Behavior&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:55598;left:117"><nobr>No  audio&nbsp;</nobr></div>
<div style="position:absolute;top:55621;left:117"><nobr>playing&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:55599;left:244"><nobr>The  HU  SHOULD  grant  STATE_GAIN  or  STATE_GAIN_TRANSIENT  to  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:55621;left:244"><nobr>when  no  sound  is  being  played  on  either  the  MD  or  the  HU.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:55660;left:117"><nobr>Vehicle  has&nbsp;</nobr></div>
<div style="position:absolute;top:55682;left:117"><nobr>focus  and&nbsp;</nobr></div>
<div style="position:absolute;top:55705;left:117"><nobr>occupies  a&nbsp;</nobr></div>
<div style="position:absolute;top:55727;left:117"><nobr>channel&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:55660;left:244"><nobr>When  the  MD  cannot  play  on  both  GUIDANCE  and  MEDIA  streams,  the  HU&nbsp;</nobr></div>
<div style="position:absolute;top:55683;left:244"><nobr>sends  a  STATE_GAIN_TRANSIENT_GUIDANCE_ONLY  <font style="font-size:15px">or</font>&nbsp;</nobr></div>
<div style="position:absolute;top:55705;left:244"><nobr>STATE_GAIN_MEDIA_ONLY  notification.  The  HU  grants  STATE_GAIN_*_ONLY&nbsp;</nobr></div>
<div style="position:absolute;top:55728;left:244"><nobr>to  the  MD  for  the  unoccupied  channel  to  prevent  interruption  on  the&nbsp;</nobr></div>
<div style="position:absolute;top:55750;left:244"><nobr>occupied  channel.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:55781;left:244"><nobr>For  example,  in  a  vehicle  playing:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:55812;left:251"><nobr>● Native  nav  guidance,  HU  grants  STATE_GAIN_MEDIA_ONLY  to  the  MD,&nbsp;</nobr></div>
<div style="position:absolute;top:55834;left:278"><nobr>enabling  the  MD  to  play  on  the  MEDIA  stream.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:55864;left:251"><nobr>● Native  media,  HU  grants  STATE_GAIN_TRANSIENT_GUIDANCE_ONLY  to&nbsp;</nobr></div>
<div style="position:absolute;top:55926;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:55946;left:730"><nobr>47  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:56011;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="48"><b>Page 48</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:56102;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:56131;left:278"><nobr>the  MD,  enabling  the  MD  to  announce  nav  on  the  GUIDANCE  stream.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:56177;left:117"><nobr>Vehicle  has&nbsp;</nobr></div>
<div style="position:absolute;top:56200;left:117"><nobr>focus  and&nbsp;</nobr></div>
<div style="position:absolute;top:56222;left:117"><nobr>does  not&nbsp;</nobr></div>
<div style="position:absolute;top:56245;left:117"><nobr>occupy  a&nbsp;</nobr></div>
<div style="position:absolute;top:56267;left:117"><nobr>channel&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:56178;left:244"><nobr>HU  MUST  grant  MD  focus  when  the  vehicle  no  longer  occupies  a  channel.  If&nbsp;</nobr></div>
<div style="position:absolute;top:56200;left:244"><nobr>the  HU   previously  sent  STATE_GAIN_TRANSIENT_GUIDANCE_ONLY  or&nbsp;</nobr></div>
<div style="position:absolute;top:56223;left:244"><nobr>STATE_GAIN_MEDIA_ONLY  to  the  MD,  and  the  HU  has  finished  using  the&nbsp;</nobr></div>
<div style="position:absolute;top:56245;left:244"><nobr>channel,  the  HU  <font style="font-size:15px">MUST  </font>restore  the  audio  focus  state  to  the  MD.  For&nbsp;</nobr></div>
<div style="position:absolute;top:56268;left:244"><nobr>example,  after  completing  a  native  guidance  instruction,  the  HU  SHOULD&nbsp;</nobr></div>
<div style="position:absolute;top:56290;left:244"><nobr>send  STATE_GAIN  to  the  MD.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:56329;left:117"><nobr>MD  restricted&nbsp;</nobr></div>
<div style="position:absolute;top:56352;left:117"><nobr>to  GUIDANCE&nbsp;</nobr></div>
<div style="position:absolute;top:56374;left:117"><nobr>stream  is&nbsp;</nobr></div>
<div style="position:absolute;top:56397;left:117"><nobr>limited  to&nbsp;</nobr></div>
<div style="position:absolute;top:56419;left:117"><nobr>subset  of&nbsp;</nobr></div>
<div style="position:absolute;top:56442;left:117"><nobr>focus  requests&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:56330;left:244"><nobr>If  the  MD  is  in  a  STATE_GAIN_TRANSIENT_GUIDANCE_ONLY  state,  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:56352;left:244"><nobr>can  send  a  GAIN,  GAIN_TRANSIENT,  GAIN_TRANSIENT_MAY_DUCK,  or&nbsp;</nobr></div>
<div style="position:absolute;top:56375;left:244"><nobr>RELEASE  request.  If  the  HU  has  a  channel  restriction,  HU  may  respond  with&nbsp;</nobr></div>
<div style="position:absolute;top:56397;left:244"><nobr>STATE_GAIN_TRANSIENT_GUIDANCE_ONLY  for&nbsp;</nobr></div>
<div style="position:absolute;top:56420;left:244"><nobr>GAIN_TRANSIENT_MAY_DUCK.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:56450;left:244"><nobr>The  HU  SHOULD  honor  the  intent  of  the  audio  focus  requests.  GAIN  and&nbsp;</nobr></div>
<div style="position:absolute;top:56473;left:244"><nobr>GAIN_TRANSIENT  expect  to  have  exclusive  focus.  If  the  HU  was  previously&nbsp;</nobr></div>
<div style="position:absolute;top:56495;left:244"><nobr>occupying  the  MEDIA  channel,  it  SHOULD  relinquish  focus  upon  receiving&nbsp;</nobr></div>
<div style="position:absolute;top:56518;left:244"><nobr>GAIN  or  GAIN_TRANSIENT.  A  GAIN_TRANSIENT_MAY_DUCK  request  means&nbsp;</nobr></div>
<div style="position:absolute;top:56540;left:244"><nobr>the  MD  does  not  expect  to  have  exclusive  focus  and  could  be  given&nbsp;</nobr></div>
<div style="position:absolute;top:56563;left:244"><nobr>STATE_GAIN_GUIDANCE_ONLY.&nbsp;</nobr></div>
<div style="position:absolute;top:56593;left:244"><nobr>GAIN  requests  from  MD  SHOULD  be  used  to  indicate  that  the  MD  is  taking&nbsp;</nobr></div>
<div style="position:absolute;top:56616;left:244"><nobr>focus  for  a  long-duration  audio  playback  on  MEDIA.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:56654;left:117"><nobr>MD  restricted&nbsp;</nobr></div>
<div style="position:absolute;top:56677;left:117"><nobr>to  MEDIA&nbsp;</nobr></div>
<div style="position:absolute;top:56699;left:117"><nobr>stream  is&nbsp;</nobr></div>
<div style="position:absolute;top:56722;left:117"><nobr>limited  to  a&nbsp;</nobr></div>
<div style="position:absolute;top:56744;left:117"><nobr>subset  of&nbsp;</nobr></div>
<div style="position:absolute;top:56767;left:117"><nobr>focus  requests&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:56655;left:244"><nobr>If  the  MD  is  in  a  STATE_GAIN_MEDIA_ONLY  state,  the  MD  cannot  send&nbsp;</nobr></div>
<div style="position:absolute;top:56677;left:244"><nobr>GAIN*  requests  to  the  HU  since  STATE_GAIN_MEDIA_ONLY  is  treated  the&nbsp;</nobr></div>
<div style="position:absolute;top:56700;left:244"><nobr>same  as  STATE_GAIN.  (STATE_GAIN  requests/grants  access  to  GUIDANCE&nbsp;</nobr></div>
<div style="position:absolute;top:56722;left:244"><nobr>and/or  MEDIA  streams,  but  STATE_GAIN_MEDIA_ONLY  requests/grants&nbsp;</nobr></div>
<div style="position:absolute;top:56745;left:244"><nobr>access  to  the  MEDIA  stream  only.)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:56806;left:117"><nobr>MD  stream&nbsp;</nobr></div>
<div style="position:absolute;top:56829;left:117"><nobr>management&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:56807;left:244"><nobr>In  STATE_*_ONLY  states,  the  MD  manages  the  stream  to  which  audio  is  sent&nbsp;</nobr></div>
<div style="position:absolute;top:56829;left:244"><nobr>based  on  the  STATE_*_ONLY  restriction  (this  is  why  GUIDANCE  and  MEDIA&nbsp;</nobr></div>
<div style="position:absolute;top:56852;left:244"><nobr>streams  are  general  descriptions  and  not  requirements).  For  example,&nbsp;</nobr></div>
<div style="position:absolute;top:56874;left:244"><nobr>when  native  navigation  guidance  is  active  and  MD  focus  state  is&nbsp;</nobr></div>
<div style="position:absolute;top:56897;left:244"><nobr>STATE_GAIN_MEDIA_ONLY,  the  MD  can  play  short  messages  on  the  MEDIA&nbsp;</nobr></div>
<div style="position:absolute;top:56919;left:244"><nobr>stream.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:56951;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:56979;left:108"><nobr>Guidelines  for  Audio  Focus  &amp;  Phone  Calls&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:57018;left:108"><nobr>In  projection  mode,  phone  calls  (incoming  and  outgoing)  are  handled  by  Bluetooth.  <b>In  all&nbsp;</b></nobr></div>
<div style="position:absolute;top:57041;left:108"><nobr><b>cases  where  a  phone  call  is  detected,  the  HU  MUST  stop  playing  native  sound  and  the&nbsp;</b></nobr></div>
<div style="position:absolute;top:57063;left:108"><nobr><b>MD  MUST  stop  playing  its  own  sound. </b>If  the  MD  has  audio  focus  during  the  call,  it  can  play&nbsp;</nobr></div>
<div style="position:absolute;top:57114;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:57134;left:730"><nobr>48  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:57199;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="49"><b>Page 49</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:57290;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:57310;left:108"><nobr>sound  through  allowed  channels  in  response  to  an  explicit  user  action  or  by  implicit&nbsp;</nobr></div>
<div style="position:absolute;top:57332;left:108"><nobr>permission  (the  same  rule  applies  to  the  HU,  which  can  play  its  own  native  sound  if  user  has&nbsp;</nobr></div>
<div style="position:absolute;top:57355;left:108"><nobr>allowed).  For  example,  the  MD  can  play  navigation  guidance  during  a  call.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:57393;left:108"><nobr>If  the  HU  cannot  play  any  sound  during  a  phone  call  (vehicle  cannot  mix  streams)  and  the&nbsp;</nobr></div>
<div style="position:absolute;top:57415;left:108"><nobr>MD  had  focus  before  the  phone  call,  the  HU  SHOULD  take  focus  away  (LOSS_TRANSIENT)  to&nbsp;</nobr></div>
<div style="position:absolute;top:57438;left:108"><nobr>prevent  the  MD  from  playing  sound.  The  MD  can  still  request  focus  in  response  to  a  user&nbsp;</nobr></div>
<div style="position:absolute;top:57460;left:108"><nobr>action;  however,  the  HU  SHOULD  reject  MD  focus  requests  while  call  is  active  (but  restore  the&nbsp;</nobr></div>
<div style="position:absolute;top:57483;left:108"><nobr>MD  focus  state  when  the  call  ends).&nbsp;</nobr></div>
<div style="position:absolute;top:57521;left:108"><nobr>If  HU  can  play  sound  during  phone  call  (vehicle  can  mix  streams),  the  HU  does  not  need  to&nbsp;</nobr></div>
<div style="position:absolute;top:57544;left:108"><nobr>change  focus  state  when  the  call  starts.  If  the  MD  had  focus  before  the  phone  call,  it  MUST&nbsp;</nobr></div>
<div style="position:absolute;top:57566;left:108"><nobr>stop  playing  sound  when  the  phone  call  is  detected  but  retains  audio  focus,  enabling  it  to&nbsp;</nobr></div>
<div style="position:absolute;top:57589;left:108"><nobr>play  sound  in  response  to  a  user  action.  If  the  MD  did  not  have  focus  before  the  phone  call,  it&nbsp;</nobr></div>
<div style="position:absolute;top:57611;left:108"><nobr>MUST  first  request  focus  from  the  HU  (which  SHOULD  grant  it)  before  playing  sound  in&nbsp;</nobr></div>
<div style="position:absolute;top:57634;left:108"><nobr>response  to  a  user  action.&nbsp;</nobr></div>
<div style="position:absolute;top:57672;left:108"><nobr>Focus  is  re-evaluated  after  call  state  change,  and  Android  Audio  manager  can  be  still  in  call&nbsp;</nobr></div>
<div style="position:absolute;top:57694;left:108"><nobr>mode.  As  a  result,  the  MD  may  request  gain  (GAIN  or  GAIN_TRANSIENT)  during  an  active  call.&nbsp;</nobr></div>
<div style="position:absolute;top:57717;left:108"><nobr>The  HU  should  reject  the  MD  focus  request  while  the  call  is  active.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:57755;left:108"><nobr>Audio  Focus  Examples&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:57987;left:586"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:58010;left:108"><nobr><b>Figure  17 </b>.  <font color="#666666">User  enables  FM  Radio.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:58302;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:58322;left:730"><nobr>49  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:58387;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="50"><b>Page 50</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:58478;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:58715;left:586"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:58738;left:108"><nobr><b>Figure  18 </b>.  <font color="#666666">User  enables  Google  Music.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:59121;left:586"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:59145;left:108"><nobr><b>Figure  19 </b>.  <font color="#666666">User  enables  FM  Radio,  then  Google  music.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:59490;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:59510;left:730"><nobr>50  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:59575;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="51"><b>Page 51</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:59666;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:60003;left:583"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:60026;left:108"><nobr><b>Figure  20 </b>.  <font color="#666666">User  enables  FM  Radio,  then  MD  navigation  guidance.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:60474;left:586"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:60512;left:108"><nobr><b>Figure  21 </b>.  <font color="#666666">HU  notification  during  Google  music  playback.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:60678;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:60698;left:730"><nobr>51  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:60763;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="52"><b>Page 52</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:60854;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:61100;left:585"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:61123;left:108"><nobr><b>Figure  22 </b>.  <font color="#666666">HU  rejects  audio  focus  request  (occurs  in  safety  or  regulatory  situations).</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:61524;left:776"><nobr><b>&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:61562;left:108"><nobr><b>Figure  23 </b>.  <font color="#666666">Automatic  speech  recognition  (ASR).</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:61594;left:108"><nobr>Audio  Focus  Mixing  vs.  Non-Mixing  Examples&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:61634;left:108"><nobr>This  section  includes  examples  of  expected  behavior  for  the  following  use  cases:&nbsp;</nobr></div>
<div style="position:absolute;top:61673;left:115"><nobr>● Native  Navigation  +  MD  Music&nbsp;</nobr></div>
<div style="position:absolute;top:61703;left:115"><nobr>● MD  Navigation  &amp;  Music  +  Native  FM  Radio&nbsp;</nobr></div>
<div style="position:absolute;top:61734;left:115"><nobr>● MD  Music  +  MD  Phone  Call&nbsp;</nobr></div>
<div style="position:absolute;top:61764;left:108"><nobr>Each  example  showcases  the  implementation  of  general  guidelines,  guidelines  for  mixing&nbsp;</nobr></div>
<div style="position:absolute;top:61786;left:108"><nobr>streams,  and  guidelines  for  non-mixed  streams.  The  included  call  flows  indicate  both  mobile&nbsp;</nobr></div>
<div style="position:absolute;top:61866;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:61886;left:730"><nobr>52  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:61951;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="53"><b>Page 53</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:62042;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:62062;left:108"><nobr>device  (MD)  requests  and  the  vehicle/head  unit  (HU)  responses  that  set  audio  state.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:62100;left:108"><nobr><b>Native  Navigation  +  MD  Music&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:62138;left:108"><nobr>In  this  example,  the  vehicle  plays  native  navigation  guidance  instructions  while  a  user  plays&nbsp;</nobr></div>
<div style="position:absolute;top:62161;left:108"><nobr>music  via  a  music  application  on  the  mobile  device.&nbsp;</nobr></div>
<div style="position:absolute;top:62444;left:708"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:62482;left:108"><nobr><b>Figure  24 </b>.  <font color="#666666">Native  navigation  +  MD  music,  non-mixed  streams.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#666666"><span style="font-size:11px;font-family:Times;color:#666666">
<div style="position:absolute;top:62892;left:709"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:62926;left:108"><nobr><b>Figure  25 </b>.  <font color="#666666">Native  navigation  +  MD  music,  mixed  streams.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:62959;left:108"><nobr><b>MD  Navigation  &amp;  Music  +  Native  FM  Radio&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:62998;left:108"><nobr>In  this  example,  the  HU  plays  music  from  a  music  application  on  the  MD  while  also  playing&nbsp;</nobr></div>
<div style="position:absolute;top:63054;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:63074;left:730"><nobr>53  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:63139;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="54"><b>Page 54</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:63230;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:63250;left:108"><nobr>navigation  guidance  from  the  MD.  The  user  then  starts  the  in-vehicle  FM  radio,  which  causes&nbsp;</nobr></div>
<div style="position:absolute;top:63272;left:108"><nobr>the  MD  music  application  to  stop  playing  music  while  continuing  navigation  guidance.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:11px;font-family:Times;color:#000000">
<div style="position:absolute;top:63327;left:131"><nobr><b>NOTE<font color="#434343">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:63314;left:200"><nobr>If  the  user  initiates  a  new  audio  source  in  the  middle  of  an  ongoing  audio&nbsp;</nobr></div>
<div style="position:absolute;top:63336;left:200"><nobr>stream  (e.g.  turn-by-turn  guidance),  AAP  truncates  the  audio  stream.&nbsp;</nobr></div>
<div style="position:absolute;top:63370;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:63989;left:721"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:64026;left:108"><nobr><b>Figure  26 </b>.  <font color="#666666">MD  navigation/music  +  native  FM,  non-mixed  streams.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:64242;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:64262;left:730"><nobr>54  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:64327;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="55"><b>Page 55</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:64418;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:65082;left:720"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:65120;left:108"><nobr><b>Figure  27 </b>.  <font color="#666666">MD  navigation/music  +  native  FM,  mixed  streams.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:18px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:65153;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:65197;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:65244;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:65299;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:65299;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:65430;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:65450;left:730"><nobr>55  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:65515;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="56"><b>Page 56</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:65606;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:65634;left:108"><nobr><b>MD  Music  +  MD  Phone  Call&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:65671;left:108"><nobr>In  this  example,  the  user  plays  music  via  a  music  application  on  the  MD.  The  MD  receives  an&nbsp;</nobr></div>
<div style="position:absolute;top:65693;left:108"><nobr>incoming  phone  call,  which  prompts  the  vehicle  to  stop  music  and  play  the  call  using&nbsp;</nobr></div>
<div style="position:absolute;top:65716;left:108"><nobr>Bluetooth.  During  the  call,  the  user  attempts  to  play  music  again  via  the  MD  music&nbsp;</nobr></div>
<div style="position:absolute;top:65738;left:108"><nobr>application.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:65776;left:108"><nobr>In  all  cases  (mixed  streams,  non-mixed  streams,  MD  has  focus,  HU  has  focus),  the  music&nbsp;</nobr></div>
<div style="position:absolute;top:65799;left:108"><nobr>stops  when  the  phone  call  is  detected.  During  the  phone  call,  if  the  vehicle:&nbsp;</nobr></div>
<div style="position:absolute;top:65830;left:115"><nobr>● <b>Cannot  mix  streams </b>,  the  HU  denies  MD  requests  to  start  music  until  the  call  ends.  If&nbsp;</nobr></div>
<div style="position:absolute;top:65852;left:142"><nobr>MD  had  focus  before  the  incoming  call,  the  HU  sends  STATE_LOSS_TRANSIENT  focus&nbsp;</nobr></div>
<div style="position:absolute;top:65874;left:142"><nobr>state  to  notify  the  MD  that  it  cannot  play  sound  while  the  call  is  active;  when  call  ends,&nbsp;</nobr></div>
<div style="position:absolute;top:65897;left:142"><nobr>the  HU  SHOULD  restore  the  focus  state.&nbsp;</nobr></div>
<div style="position:absolute;top:65928;left:115"><nobr>● <b>Can  mix  streams </b>,  the  HU  grants  MD  requests  to  start  music  even  during  active  phone&nbsp;</nobr></div>
<div style="position:absolute;top:65950;left:142"><nobr>calls.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:66504;left:722"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:66542;left:108"><nobr><b>Figure  28 </b>.  <font color="#666666">MD  music  +  incoming  call,  non-mixed  streams.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:66618;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:66638;left:730"><nobr>56  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:66703;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="57"><b>Page 57</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:66794;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:66814;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:67390;left:709"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:67427;left:108"><nobr><b>Figure  29 </b>.  <font color="#666666">MD  music  +  incoming  call,  mixed  streams.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:67461;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:67499;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:67547;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:67547;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:67806;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:67826;left:730"><nobr>57  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:67891;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="58"><b>Page 58</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:67982;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:68001;left:108"><nobr>Latency,  Flow  Control  &amp;  Clock  Skew&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:68050;left:108"><nobr>AAP  audio  streams  use  an  n-ACK  based  flow  control  scheme.  The  audio  source  can&nbsp;</nobr></div>
<div style="position:absolute;top:68073;left:108"><nobr>implement  flow  control  using  the  ACK  messages,  including  resampling  in  the  case  of  clock&nbsp;</nobr></div>
<div style="position:absolute;top:68095;left:108"><nobr>skew.  The  HU  SHOULD  wait  until  it  receives  two  frames  of  audio  before  starting  playback  to&nbsp;</nobr></div>
<div style="position:absolute;top:68118;left:108"><nobr>minimize  buffer  underruns.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:68156;left:112"><nobr>AAP  considers  two  (2)  latencies:  audio  setup  and  audio  output:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:68203;left:115"><nobr>Audio  setup  latency  (max)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:68203;left:352"><nobr>500ms&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:68240;left:115"><nobr>Audio  output  latency  (max)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:68240;left:352"><nobr>50ms&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:68270;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:68290;left:108"><nobr>Audio  setup  latency  is  the  time  required  by  the  head  unit  to  establish  an  audio  stream,&nbsp;</nobr></div>
<div style="position:absolute;top:68312;left:108"><nobr>measured  as  the  maximum  time  between  an  audio  focus  request  to  the  head  unit  and  a&nbsp;</nobr></div>
<div style="position:absolute;top:68335;left:108"><nobr>response  from  the  head  unit.  This  latency  includes  the  time  necessary  to:&nbsp;</nobr></div>
<div style="position:absolute;top:68365;left:115"><nobr>● Duck  other  audio&nbsp;</nobr></div>
<div style="position:absolute;top:68396;left:115"><nobr>● Power  Digital-to-Analog  Converter  (DAC)  and  amplifiers&nbsp;</nobr></div>
<div style="position:absolute;top:68426;left:115"><nobr>● Configure  head  unit  mixer&nbsp;</nobr></div>
<div style="position:absolute;top:68456;left:108"><nobr>Audio  output  latency  is  the  delay  between  audio  being  made  available  from  the  AAP  receiver&nbsp;</nobr></div>
<div style="position:absolute;top:68479;left:108"><nobr>and  reproduction  of  the  audio  on  in-vehicle  speakers.  This  latency  includes:&nbsp;</nobr></div>
<div style="position:absolute;top:68509;left:115"><nobr>● Buffering  performed  by  the  in-vehicle  audio  pipeline&nbsp;</nobr></div>
<div style="position:absolute;top:68540;left:115"><nobr>● Audio  codec  decoder  latency&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:68583;left:108"><nobr>Volume&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:68624;left:108"><nobr>All  AAP  audio  streams  are  line-level  volume,  making  the  vehicle  responsible  for  applying&nbsp;</nobr></div>
<div style="position:absolute;top:68647;left:108"><nobr>volume  levels.  The  vehicle  does  not  notify  the  mobile  device  of  volume  levels  and  the  mobile&nbsp;</nobr></div>
<div style="position:absolute;top:68670;left:108"><nobr>device  cannot  request  volume  levels.  However,  the  head  unit  can  use  overlay  mode  to&nbsp;</nobr></div>
<div style="position:absolute;top:68692;left:108"><nobr>display  volume  dialogs  on  top  of  projection  UI.&nbsp;</nobr></div>
<div style="position:absolute;top:68731;left:108"><nobr>Some  head  units  support  a  global  mute  state.  If  the  head  unit  is  in  global  mute  state,  it  can&nbsp;</nobr></div>
<div style="position:absolute;top:68753;left:108"><nobr>reject  a  mobile  device  focus  request,  but  SHOULD  display  a  message  to  the  user  that&nbsp;</nobr></div>
<div style="position:absolute;top:68776;left:108"><nobr>describes  why  the  sound  is  not  played  (global  mute  state  is  enabled).&nbsp;</nobr></div>
<div style="position:absolute;top:68776;left:730"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:68994;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:69014;left:730"><nobr>58  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:69079;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="59"><b>Page 59</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:69170;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:69197;left:108"><nobr>Integrating  Input  Devices&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:69254;left:108"><nobr>The  head  unit  (HU)  can  pass  input  events  from  the  on-board  HMI  to  the  mobile  device  (MD).&nbsp;</nobr></div>
<div style="position:absolute;top:69276;left:108"><nobr>AAP  supports  the  following  input  device  types:&nbsp;</nobr></div>
<div style="position:absolute;top:69307;left:115"><nobr>● Touchscreens&nbsp;</nobr></div>
<div style="position:absolute;top:69337;left:115"><nobr>● Buttons  (including  D-Pads)&nbsp;</nobr></div>
<div style="position:absolute;top:69368;left:115"><nobr>● Dials/rotational  controllers&nbsp;</nobr></div>
<div style="position:absolute;top:69398;left:115"><nobr>● Touchpads&nbsp;</nobr></div>
<div style="position:absolute;top:69428;left:108"><nobr>To  provide  access  to  an  input  device,  OS  Adaptation  Layer  implementations  MUST  <b>register&nbsp;</b></nobr></div>
<div style="position:absolute;top:69451;left:108"><nobr><b>the  input  device </b>with  the  AAP  receiver  when  projection  starts  and  <b>report  input  events </b>to&nbsp;</nobr></div>
<div style="position:absolute;top:69473;left:108"><nobr>the  AAP  receiver  during  projection  for  key  events  requested  by  the  MD:&nbsp;</nobr></div>
<div style="position:absolute;top:70019;left:637"><nobr><b>&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:70056;left:108"><nobr><b>Figure  30 </b>.  <font color="#666666">Input  device  registration  and  event  reporting.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:70089;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:70089;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:70182;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:70202;left:730"><nobr>59  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:70267;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="60"><b>Page 60</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:70358;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:70377;left:108"><nobr>Touchscreen&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:70426;left:108"><nobr>The  HU  MAY  pass  touchscreen  input  events  to  the  MD  (AAP  limits  input  events  to  a  single&nbsp;</nobr></div>
<div style="position:absolute;top:70449;left:108"><nobr>touchscreen).  To  provide  access,  OS  Adaptation  Layer  implementations  MUST  register  the&nbsp;</nobr></div>
<div style="position:absolute;top:70471;left:108"><nobr>touchscreen  input  device  with  the  AAP  receiver  and  report  touch  events  to  the  receiver.&nbsp;</nobr></div>
<div style="position:absolute;top:70494;left:108"><nobr>When  video  focus  is  Projection,  the  HU  MUST  send  all  touchscreen  events  to  the  AAP  receiver&nbsp;</nobr></div>
<div style="position:absolute;top:70516;left:108"><nobr>(see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#32"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#32">Video  Focus</a> </font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#32"></a>),  which  provides  the  InputSource  interface  that  handles  input  device&nbsp;</nobr></div>
<div style="position:absolute;top:70539;left:108"><nobr>registration  and  event  messaging  (for  details,  refer  to  the <a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"> </a><font color="#3d85c6"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">AAP  receiver  documentation </a></font><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"></a>).&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:70577;left:108"><nobr>Buttons&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:70625;left:108"><nobr>Users  can  access  the  projection  UI  using  physical  buttons  (including  D-Pads)  on  the  head  unit&nbsp;</nobr></div>
<div style="position:absolute;top:70648;left:108"><nobr>(HU)  HMI.  To  provide  access  to  physical  buttons,  OS  Adaptation  Layer  implementations  MUST&nbsp;</nobr></div>
<div style="position:absolute;top:70670;left:108"><nobr>register  each  button  with  the  AAP  receiver  and  report  key  events  to  the  receiver.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:70708;left:108"><nobr>When  projection  mode  begins,  key  events  available  to  the  mobile  device  (MD)  during&nbsp;</nobr></div>
<div style="position:absolute;top:70731;left:108"><nobr>projection  mode  MUST  register  with  the  AAP  receiver.  However,  vehicles  SHOULD  send  key&nbsp;</nobr></div>
<div style="position:absolute;top:70753;left:108"><nobr>events  to  the  receiver  according  to  key  code  rules  (see  table  below).  Button  events  that  do&nbsp;</nobr></div>
<div style="position:absolute;top:70776;left:108"><nobr>not  impact  the  main  console  display  (window  defrost,  hazard  indicators,  etc.)  do  not  need  to&nbsp;</nobr></div>
<div style="position:absolute;top:70798;left:108"><nobr>be  sent  through  AAP.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:70836;left:108"><nobr>Button  Key  Events&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:70876;left:108"><nobr>The  vehicle  sends  key  events  to  the  MD  through  basic  KeyEvents  and  keycodes  that  specify&nbsp;</nobr></div>
<div style="position:absolute;top:70899;left:108"><nobr>the  button  pressed.  AAP  uses  the  standard  keycode  definitions  provided  in  the  Android&nbsp;</nobr></div>
<div style="position:absolute;top:70921;left:108"><nobr>KeyEvent  class.  The  OS  Adaptation  Layer  MUST  map  all  button  events  to  the  appropriate&nbsp;</nobr></div>
<div style="position:absolute;top:70944;left:108"><nobr>KeyEvent  keycode  before  passing  to  the  AAP  receiver.  Both  UP  and  DOWN  events  MUST  be&nbsp;</nobr></div>
<div style="position:absolute;top:70966;left:108"><nobr>transmitted  for  each  keypress.&nbsp;</nobr></div>
<div style="position:absolute;top:71004;left:108"><nobr>Vehicles  MUST  send  key  codes  to  MDs  for  the  standard  key  events  and  focus  modes:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:71049;left:115"><nobr>Key  Code&nbsp;</nobr></div>
<div style="position:absolute;top:71049;left:379"><nobr>Focus&nbsp;</nobr></div>
<div style="position:absolute;top:71049;left:462"><nobr>Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:71086;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_HOME">KEYCODE_HOME&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:71086;left:381"><nobr>VIDEO&nbsp;</nobr></div>
<div style="position:absolute;top:71086;left:465"><nobr>Causes  projection  UI  to  return  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:71109;left:465"><nobr>projection  home  application  (or  launcher)&nbsp;</nobr></div>
<div style="position:absolute;top:71131;left:465"><nobr>from  which  all  other  projection  applications&nbsp;</nobr></div>
<div style="position:absolute;top:71154;left:465"><nobr>are  accessible.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:71193;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BACK">KEYCODE_BACK&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:71193;left:381"><nobr>VIDEO&nbsp;</nobr></div>
<div style="position:absolute;top:71193;left:465"><nobr>Handled  by  the  application.  Sending&nbsp;</nobr></div>
<div style="position:absolute;top:71216;left:465"><nobr>KEYCODE_BACK  SHOULD  NOT  cause&nbsp;</nobr></div>
<div style="position:absolute;top:71238;left:465"><nobr>Android  Auto  to  lose  video  focus.  For&nbsp;</nobr></div>
<div style="position:absolute;top:71261;left:465"><nobr>details,  refer  to <a href="http://developer.android.com/design/patterns/navigation.html"> </a><font color="#3d85c6"><a href="http://developer.android.com/design/patterns/navigation.html">Android  developer&nbsp;</a></font></nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:71283;left:465"><nobr><a href="http://developer.android.com/design/patterns/navigation.html">documentation </a><font color="#434343"><a href="http://developer.android.com/design/patterns/navigation.html"></a>.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:71370;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:71390;left:730"><nobr>60  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:71455;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="61"><b>Page 61</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:71546;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:71575;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_SEARCH">KEYCODE_SEARCH&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:71575;left:381"><nobr>ALWAYS&nbsp; Causes  projection  UI  to  open  the&nbsp;</nobr></div>
<div style="position:absolute;top:71597;left:465"><nobr>microphone  audio  stream  (see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#37"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#37">Audio </a></font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#37"></a>).&nbsp;</nobr></div>
<div style="position:absolute;top:71620;left:465"><nobr>Sending  KEYCODE_SEARCH  while  the&nbsp;</nobr></div>
<div style="position:absolute;top:71642;left:465"><nobr>microphone  audio  stream  is  already  open&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:71664;left:465"><nobr>closes <font style="font-size:14px">the  microphone  audio  stream,&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:71687;left:465"><nobr>effectively  canceling  an  active  ASR  session.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:71734;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_CALL">KEYCODE_CALL</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:71734;left:381"><nobr>ALWAYS&nbsp; If  a  call  is  active  on  the  legacy  Bluetooth&nbsp;</nobr></div>
<div style="position:absolute;top:71757;left:465"><nobr>HFP  channel,  the  ANSWER  button  SHOULD&nbsp;</nobr></div>
<div style="position:absolute;top:71779;left:465"><nobr>be  handled  by  HU’s  HFP  application&nbsp;</nobr></div>
<div style="position:absolute;top:71802;left:465"><nobr>(generating  call  control  AT  commands  as&nbsp;</nobr></div>
<div style="position:absolute;top:71824;left:465"><nobr>needed  on  the  HFP  channel).  At  other&nbsp;</nobr></div>
<div style="position:absolute;top:71847;left:465"><nobr>times,  the  ANSWER  button  SHOULD  send&nbsp;</nobr></div>
<div style="position:absolute;top:71869;left:465"><nobr>this  keycode  via  AAP.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:71909;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_ENDCALL">KEYCODE_ENDCALL</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:71909;left:381"><nobr>ALWAYS &nbsp;<font style="font-size:7px">6</font></nobr></div>
<div style="position:absolute;top:71909;left:465"><nobr>If  a  call  is  active  on  the  legacy  Bluetooth&nbsp;</nobr></div>
<div style="position:absolute;top:71931;left:465"><nobr>HFP  channel,  the  END  button  SHOULD  be&nbsp;</nobr></div>
<div style="position:absolute;top:71954;left:465"><nobr>handled  by  HU’s  HFP  application&nbsp;</nobr></div>
<div style="position:absolute;top:71976;left:465"><nobr>(generating  call  control  AT  commands  as&nbsp;</nobr></div>
<div style="position:absolute;top:71999;left:465"><nobr>needed  on  the  HFP  channel).  At  other&nbsp;</nobr></div>
<div style="position:absolute;top:72021;left:465"><nobr>times,  the  END  button  SHOULD  send  this&nbsp;</nobr></div>
<div style="position:absolute;top:72044;left:465"><nobr>keycode  via  AAP.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:72083;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_MEDIA_NEXT">KEYCODE_MEDIA_NEXT&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:72083;left:381"><nobr>AUDIO&nbsp;</nobr></div>
<div style="position:absolute;top:72083;left:465"><nobr>Indicates  selected  media  SHOULD  advance&nbsp;</nobr></div>
<div style="position:absolute;top:72106;left:465"><nobr>to  next  track  or  station.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:72145;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_MEDIA_PLAY">KEYCODE_MEDIA_PLAY&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:72145;left:381"><nobr>AUDIO&nbsp;</nobr></div>
<div style="position:absolute;top:72145;left:465"><nobr>Indicates  selected  media  SHOULD  play.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:72184;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_MEDIA_PLAY_PAUSE">KEYCODE_MEDIA_PLAY_PAUSE&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:72184;left:381"><nobr>AUDIO&nbsp;</nobr></div>
<div style="position:absolute;top:72184;left:465"><nobr>Indicates  selected  media  SHOULD  play  or&nbsp;</nobr></div>
<div style="position:absolute;top:72207;left:465"><nobr>pause  (toggle).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:72246;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_MEDIA_PAUSE">KEYCODE_MEDIA_PAUSE&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:72246;left:381"><nobr>AUDIO&nbsp;</nobr></div>
<div style="position:absolute;top:72246;left:465"><nobr>Indicates  selected  media  SHOULD  pause.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:72286;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_MEDIA_PREVIOUS">KEYCODE_MEDIA_PREVIOUS&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:72286;left:381"><nobr>AUDIO&nbsp;</nobr></div>
<div style="position:absolute;top:72286;left:465"><nobr>Indicates  selected  media  SHOULD  return  to&nbsp;</nobr></div>
<div style="position:absolute;top:72308;left:465"><nobr>previous  track  or  station.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:72348;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_DPAD_UP">KEYCODE_DPAD_UP</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:72348;left:381"><nobr>VIDEO&nbsp;</nobr></div>
<div style="position:absolute;top:72348;left:465"><nobr>Sends  DPAD_UP  event  to  projected  UI.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:72387;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_DPAD_DOWN">KEYCODE_DPAD_DOWN&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:72387;left:381"><nobr>VIDEO&nbsp;</nobr></div>
<div style="position:absolute;top:72387;left:465"><nobr>Sends  DPAD_DOWN  event  to  projected  UI.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:72426;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_DPAD_LEFT">KEYCODE_DPAD_LEFT</a>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:72426;left:381"><nobr>VIDEO&nbsp;</nobr></div>
<div style="position:absolute;top:72426;left:465"><nobr>Sends  DPAD_LEFT  event  to  projected  UI.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:6px;font-family:Times;color:#434343">
<div style="position:absolute;top:72504;left:108"><nobr>6 <font style="font-size:11px">Send  keys  to  the  mobile  device  unless  the  integration  uses  legacy  Bluetooth  connection  for  telephony  audio.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:72558;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:72578;left:730"><nobr>61  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:72643;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="62"><b>Page 62</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:72734;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:72763;left:117"><nobr><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_DPAD_RIGHT">KEYCODE_DPAD_RIGHT&nbsp;</a></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:72763;left:381"><nobr>VIDEO&nbsp;</nobr></div>
<div style="position:absolute;top:72763;left:465"><nobr>Sends  DPAD_RIGHT  event  to  projected  UI.&nbsp;</nobr></div>
<div style="position:absolute;top:72802;left:117"><nobr>KEYCODE_DPAD_UP_LEFT <b><font style="font-size:7px">†</font></b><font style="font-size:7px">&nbsp;</font></nobr></div>
<div style="position:absolute;top:72802;left:381"><nobr>VIDEO&nbsp;</nobr></div>
<div style="position:absolute;top:72802;left:465"><nobr>Sends  DPAD_UP_LEFT  event  to  projected  UI.&nbsp;</nobr></div>
<div style="position:absolute;top:72841;left:117"><nobr>KEYCODE_DPAD_DOWN_LEFT <b><font style="font-size:7px">†</font></b>&nbsp;</nobr></div>
<div style="position:absolute;top:72841;left:381"><nobr>VIDEO&nbsp;</nobr></div>
<div style="position:absolute;top:72841;left:465"><nobr>Sends  DPAD_DOWN_LEFT  event  to&nbsp;</nobr></div>
<div style="position:absolute;top:72864;left:465"><nobr>projected  UI.&nbsp;</nobr></div>
<div style="position:absolute;top:72903;left:117"><nobr>KEYCODE_DPAD_UP_RIGHT <b><font style="font-size:7px">†</font></b>&nbsp;</nobr></div>
<div style="position:absolute;top:72903;left:381"><nobr>VIDEO&nbsp;</nobr></div>
<div style="position:absolute;top:72903;left:465"><nobr>Sends  DPAD_UP_RIGHT  event  to  projected&nbsp;</nobr></div>
<div style="position:absolute;top:72926;left:465"><nobr>UI.&nbsp;</nobr></div>
<div style="position:absolute;top:72965;left:117"><nobr>KEYCODE_DPAD_DOWN_RIGHT <b><font style="font-size:7px">†</font></b>&nbsp;</nobr></div>
<div style="position:absolute;top:72965;left:381"><nobr>VIDEO&nbsp;</nobr></div>
<div style="position:absolute;top:72965;left:465"><nobr>Sends  DPAD_DOWN_RIGHT  event  to&nbsp;</nobr></div>
<div style="position:absolute;top:72988;left:465"><nobr>projected  UI.&nbsp;</nobr></div>
<div style="position:absolute;top:73027;left:117"><nobr>KEYCODE_ROTARY_CONTROLLER <b><font style="font-size:7px">†</font></b>&nbsp; N/A&nbsp;</nobr></div>
<div style="position:absolute;top:73027;left:465"><nobr>Special  keycode  used  as  a  device  identifier&nbsp;</nobr></div>
<div style="position:absolute;top:73050;left:465"><nobr>and  reported  during  initialization  (not  sent&nbsp;</nobr></div>
<div style="position:absolute;top:73072;left:465"><nobr>as  normal  keycode).  Rotary  controller&nbsp;</nobr></div>
<div style="position:absolute;top:73095;left:465"><nobr>events  are  sent  using  relativeEvent  api  calls.&nbsp;</nobr></div>
<div style="position:absolute;top:73117;left:465"><nobr>The  delta  value  SHOULD  be  positive  for&nbsp;</nobr></div>
<div style="position:absolute;top:73140;left:465"><nobr>clockwise  rotation  and  SHOULD  be  negative&nbsp;</nobr></div>
<div style="position:absolute;top:73162;left:465"><nobr>for  counterclockwise  rotation.  An  absolute&nbsp;</nobr></div>
<div style="position:absolute;top:73185;left:465"><nobr>value  of  one  corresponds  to  a  single  step  in&nbsp;</nobr></div>
<div style="position:absolute;top:73207;left:465"><nobr>the  UI  and  scales  linearly  for  larger&nbsp;</nobr></div>
<div style="position:absolute;top:73230;left:465"><nobr>absolute  values.&nbsp;</nobr></div>
<div style="position:absolute;top:73269;left:117"><nobr>KEYCODE_MEDIA <b><font style="font-size:7px">†</font></b>&nbsp;</nobr></div>
<div style="position:absolute;top:73269;left:381"><nobr>VIDEO <font style="font-size:7px">‡</font><b><font style="font-size:7px">&nbsp;</font></b></nobr></div>
<div style="position:absolute;top:73269;left:465"><nobr>Causes  projected  UI  to  switch  to  media&nbsp;</nobr></div>
<div style="position:absolute;top:73291;left:465"><nobr>screen.&nbsp;</nobr></div>
<div style="position:absolute;top:73331;left:117"><nobr>KEYCODE_NAVIGATION <b><font style="font-size:7px">†</font></b>&nbsp;</nobr></div>
<div style="position:absolute;top:73331;left:381"><nobr>VIDEO <font style="font-size:7px">‡&nbsp;</font></nobr></div>
<div style="position:absolute;top:73331;left:465"><nobr>Causes  projected  UI  to  switch  to  navigation&nbsp;</nobr></div>
<div style="position:absolute;top:73353;left:465"><nobr>screen.&nbsp;</nobr></div>
<div style="position:absolute;top:73393;left:117"><nobr>KEYCODE_TEL <b><font style="font-size:7px">†</font></b>&nbsp;</nobr></div>
<div style="position:absolute;top:73393;left:381"><nobr>VIDEO <font style="font-size:7px">‡&nbsp;</font></nobr></div>
<div style="position:absolute;top:73393;left:465"><nobr>Causes  projected  UI  to  switch  to  telephony&nbsp;</nobr></div>
<div style="position:absolute;top:73415;left:465"><nobr>screen.&nbsp;</nobr></div>
<div style="position:absolute;top:73455;left:117"><nobr>KEYCODE_PRIMARY_BUTTON <b><font style="font-size:7px">†</font></b>&nbsp;</nobr></div>
<div style="position:absolute;top:73455;left:381"><nobr>N/A&nbsp;</nobr></div>
<div style="position:absolute;top:73455;left:465"><nobr>Special  keycode  used  as  a  device  identifier&nbsp;</nobr></div>
<div style="position:absolute;top:73477;left:465"><nobr>and  reported  during  initialization.  Button&nbsp;</nobr></div>
<div style="position:absolute;top:73500;left:465"><nobr>events  are  sent  using  absoluteEvent  api&nbsp;</nobr></div>
<div style="position:absolute;top:73522;left:465"><nobr>calls.  The  event  value  SHOULD  be  1  when&nbsp;</nobr></div>
<div style="position:absolute;top:73545;left:465"><nobr>the  button  is  pressed  and  0  when  the&nbsp;</nobr></div>
<div style="position:absolute;top:73567;left:465"><nobr>button  is  released.&nbsp;</nobr></div>
<div style="position:absolute;top:73606;left:117"><nobr>KEYCODE_SECONDARY_BUTTON <b><font style="font-size:7px">†</font></b>&nbsp; N/A&nbsp;</nobr></div>
<div style="position:absolute;top:73606;left:465"><nobr>Special  keycode  used  as  a  device  identifier&nbsp;</nobr></div>
<div style="position:absolute;top:73629;left:465"><nobr>and  reported  during  initialization.  Button&nbsp;</nobr></div>
<div style="position:absolute;top:73651;left:465"><nobr>events  are  sent  using  absoluteEvent  api&nbsp;</nobr></div>
<div style="position:absolute;top:73674;left:465"><nobr>calls.  The  event  value  SHOULD  be  1  when&nbsp;</nobr></div>
<div style="position:absolute;top:73746;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:73766;left:730"><nobr>62  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:73831;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="63"><b>Page 63</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:73922;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:73951;left:465"><nobr>the  button  is  pressed  and  0  when  the&nbsp;</nobr></div>
<div style="position:absolute;top:73973;left:465"><nobr>button  is  released.&nbsp;</nobr></div>
<div style="position:absolute;top:74013;left:117"><nobr>KEYCODE_TERTIARY_BUTTON <b><font style="font-size:7px">†</font></b>&nbsp;</nobr></div>
<div style="position:absolute;top:74013;left:381"><nobr>N/A&nbsp;</nobr></div>
<div style="position:absolute;top:74013;left:465"><nobr>Special  keycode  used  as  a  device  identifier&nbsp;</nobr></div>
<div style="position:absolute;top:74035;left:465"><nobr>and  reported  during  initialization.  Button&nbsp;</nobr></div>
<div style="position:absolute;top:74058;left:465"><nobr>events  are  sent  using  absoluteEvent  api&nbsp;</nobr></div>
<div style="position:absolute;top:74080;left:465"><nobr>calls.  The  event  value  SHOULD  be  1  when&nbsp;</nobr></div>
<div style="position:absolute;top:74103;left:465"><nobr>the  button  is  pressed  and  0  when  the&nbsp;</nobr></div>
<div style="position:absolute;top:74125;left:465"><nobr>button  is  released.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:74160;left:108"><nobr>†  Defined  in  the  Android  Auto  protocol  specification.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:74179;left:108"><nobr>‡  Keycodes  that  cause  the  projected  UI  to  switch  to  a  different  screen  (KEYCODE_MEDIA,  KEYCODE_NAVIGATION,&nbsp;</nobr></div>
<div style="position:absolute;top:74195;left:108"><nobr>KEYCODE_TEL)  SHOULD  also  cause  Android  Auto  to  request  video  focus.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:74228;left:108"><nobr>Implementing  Button  Interface&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:74268;left:108"><nobr>The  AAP  receiver  provides  the  InputSource  interface  that  handles  input  device  registration&nbsp;</nobr></div>
<div style="position:absolute;top:74290;left:108"><nobr>and  event  messaging.  For  details  on  InputSource,  refer  to  the <a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"> </a><font color="#3d85c6"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">AAP  receiver  documentation </a></font><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"></a>.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:74328;left:108"><nobr>Rotational  Controller  Devices&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:74377;left:108"><nobr>AAP  supports  rotational  input  devices—typically  physical  dials  associated  with  the  main  head&nbsp;</nobr></div>
<div style="position:absolute;top:74400;left:108"><nobr>unit.  To  provide  access  to  these  devices,  OS  Adaptation  Layer  implementations  MUST  register&nbsp;</nobr></div>
<div style="position:absolute;top:74422;left:108"><nobr>each  device  with  the  AAP  receiver  and  report  input  events  to  the  receiver.  When  projection&nbsp;</nobr></div>
<div style="position:absolute;top:74445;left:108"><nobr>mode  begins,  all  absolute  and  relative  value  device  events  that  impact  the  main  console&nbsp;</nobr></div>
<div style="position:absolute;top:74467;left:108"><nobr>display  MUST  register  with  the  AAP  receiver.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:74505;left:108"><nobr>Dial  Key  Codes&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:74545;left:108"><nobr>Motion  of  a  rotary  controller  is  modeled  as  a  series  of  keycodes,  with  a  keypress  being  sent&nbsp;</nobr></div>
<div style="position:absolute;top:74567;left:108"><nobr>for  each  step  that  the  controller  is  moved.  For  details,  see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#60"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#60">Button  Key  Codes</a> </font>.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:74605;left:108"><nobr>Implementing  Device  Interface&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:74645;left:108"><nobr>The  AAP  receiver  provides  the  InputSource  interface  that  handles  input  device  registration&nbsp;</nobr></div>
<div style="position:absolute;top:74667;left:108"><nobr>and  event  messaging  for  all  input  device  types  (for  details,  refer  to <a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"> </a><font color="#3d85c6"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">AAP  receiver&nbsp;</a></font></nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:74690;left:108"><nobr><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">documentation </a><font color="#434343"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"></a>).&nbsp;</font></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:74728;left:108"><nobr>Touchpad&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:74776;left:108"><nobr>AAP  supports  touchpad  input  devices  both  as  a  primary  user  interface  for  navigating  the  UI,&nbsp;</nobr></div>
<div style="position:absolute;top:74799;left:108"><nobr>and  as  a  secondary  device  used  for  handwritten  text  input  and  map  scrolling.  To  provide&nbsp;</nobr></div>
<div style="position:absolute;top:74821;left:108"><nobr>access  to  these  devices,  OS  Adaptation  Layer  implementations  MUST  register  each  device&nbsp;</nobr></div>
<div style="position:absolute;top:74844;left:108"><nobr>with  the  AAP  receiver  and  report  input  events  to  the  receiver.  Touchpads  MUST  be  able  to&nbsp;</nobr></div>
<div style="position:absolute;top:74866;left:108"><nobr>send  absolute  position  values,  and  values  for  multiple  fingers  can  be  sent.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:74934;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:74954;left:730"><nobr>63  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:75019;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="64"><b>Page 64</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:75110;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:75129;left:108"><nobr>Implementing  Device  Interface&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:75169;left:108"><nobr>The  AAP  receiver  provides  the  InputSource  interface  that  handles  input  device  registration&nbsp;</nobr></div>
<div style="position:absolute;top:75192;left:108"><nobr>and  event  messaging  for  all  input  device  types.  For  details  on  InputSource,  refer  to  the <a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"> </a><font color="#3d85c6"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">AAP&nbsp;</a></font></nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:75214;left:108"><nobr><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">receiver  documentation</a> <font color="#434343"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"></a>.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:75252;left:108"><nobr>Devices  that  support  haptic  feedback  SHOULD  register  to  receive  feedback  events  from  the&nbsp;</nobr></div>
<div style="position:absolute;top:75275;left:108"><nobr>MD.  OEMs  that  wish  to  implement  haptic  feedback  SHOULD  work  closely  with  Google  to&nbsp;</nobr></div>
<div style="position:absolute;top:75297;left:108"><nobr>determine  hardware  integration  specifics.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:75336;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:75336;left:221"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:76122;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:76142;left:730"><nobr>64  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:76207;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="65"><b>Page 65</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:76298;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:76319;left:108"><nobr>Integrating  Automatic  Speech  Recognition&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:76374;left:108"><nobr>AAP  relies  on  Automatic  Speech  Recognition  (ASR)  for  safe  and  convenient  use  of  AAP  while&nbsp;</nobr></div>
<div style="position:absolute;top:76396;left:108"><nobr>driving.  Voice  is  the  preferred  method  of  in-vehicle  interaction  and  requires  careful  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:76419;left:108"><nobr>integration.  When  users  launch  ASR,  the  system  uses  the  vehicle  cabin  microphones  and&nbsp;</nobr></div>
<div style="position:absolute;top:76441;left:108"><nobr>passes  audio  to  the  mobile  device  (MD)  via  the  infotainment  head  unit  (HU)  and  the  USB  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:76464;left:108"><nobr>link.  ASR  is  assumed  to  be  conversational,  involving  parallel  audio  input  and  audio  output.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:76509;left:108"><nobr>Initiating  Automatic  Speech  Recognition&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:76548;left:108"><nobr>AAP  supports  the  following  ASR  initiators:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:76593;left:115"><nobr>Method&nbsp;</nobr></div>
<div style="position:absolute;top:76593;left:237"><nobr>Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:76628;left:115"><nobr>Hard  Button&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:76628;left:237"><nobr>Triggers  the  active  ASR  system.  Vehicles  MUST have  a  hardware&nbsp;</nobr></div>
<div style="position:absolute;top:76651;left:237"><nobr>button  to  support  push-to-talk  (PTT).&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:76680;left:244"><nobr>● The  button  SHOULD  be  a  dedicated  ASR  button  that  is&nbsp;</nobr></div>
<div style="position:absolute;top:76704;left:271"><nobr>accessible  by  the  driver.&nbsp;</nobr></div>
<div style="position:absolute;top:76733;left:244"><nobr>● Alternatively,  implementors  MAY  assign  ASR  to  the  call  button.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:76776;left:115"><nobr>Mobile  Device&nbsp;</nobr></div>
<div style="position:absolute;top:76799;left:115"><nobr>Request&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:76777;left:237"><nobr>MD  initiates  off-board  ASR  for  specific  user  actions  (such  as  user&nbsp;</nobr></div>
<div style="position:absolute;top:76799;left:237"><nobr>pressing  a  soft  voice  button  while  in  projection  mode).&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:76829;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:76849;left:108"><nobr>Typically,  a  vehicle  with  Android  Auto  has  two  ASR  systems:&nbsp;</nobr></div>
<div style="position:absolute;top:76879;left:115"><nobr>● <b>Mobile  Device </b>( <font style="font-size:15px">off-board  </font>or  MD  ASR).  Devices  have  access  to  powerful  ASR  engines,&nbsp;</nobr></div>
<div style="position:absolute;top:76902;left:142"><nobr>either  on  the  device  or  backed  by  cloud  services.<b>&nbsp;</b></nobr></div>
<div style="position:absolute;top:76932;left:115"><nobr>● <b>Head  Unit </b>( <font style="font-size:15px">on-board  </font>or  HU  ASR).  Vehicles  have  on-board  ASR  for  use  cases  involving&nbsp;</nobr></div>
<div style="position:absolute;top:76954;left:142"><nobr>native  functionality  such  as  "Turn  on  radio".  Support  continues  during  active  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:76977;left:142"><nobr>connections.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:77007;left:108"><nobr>Users  can  issue  voice  commands  to  the  ASR  system  of  choice  by  pressing  the  voice  input&nbsp;</nobr></div>
<div style="position:absolute;top:77030;left:108"><nobr>(push-to-talk/PTT)  button.  Android  auto  supports  two  (2)  methods  for  initializing  an  ASR&nbsp;</nobr></div>
<div style="position:absolute;top:77052;left:108"><nobr>session:  short-press  and  long-press.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:77090;left:108"><nobr>Short-Press&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:77130;left:108"><nobr>This  implementation  relies  on  the  HU  sending  the  TTS  key  command  as  soon  as  the  PTT&nbsp;</nobr></div>
<div style="position:absolute;top:77152;left:108"><nobr>button  is  pressed  down.  The  HU  SHOULD  trigger  the  ASR  experience  that  corresponds  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:77175;left:108"><nobr>current  video  focus  state,  i.e.,  trigger  MD  ASR  if  Android  Auto  has  video  focus  (send  the&nbsp;</nobr></div>
<div style="position:absolute;top:77197;left:108"><nobr>KEYCODE_SEARCH)  or  trigger  the  HU  ASR  if  Android  Auto  does  not  have  video  focus.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:77236;left:108"><nobr>The  short-press  approach  is  STRONGLY  RECOMMENDED.&nbsp;</nobr></div>
<div style="position:absolute;top:77310;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:77330;left:730"><nobr>65  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:77395;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="66"><b>Page 66</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:77486;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:77505;left:108"><nobr>Long-Press&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:77545;left:108"><nobr>If  the  HU  reserves  short-press  for  native  ASR,  a  timer  based  long-press  (500ms)  will  activate&nbsp;</nobr></div>
<div style="position:absolute;top:77568;left:108"><nobr>Android  Auto  ASR  regardless  of  video  focus.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:77605;left:108"><nobr>Voice  Recognition  Session&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:77645;left:108"><nobr>AAP  ASR  occurs  within  a  Voice  Recognition  (VR)  session,  which  is  bounded  by  matching&nbsp;</nobr></div>
<div style="position:absolute;top:77668;left:108"><nobr>voiceSessionNotificationCallbacks  from  the  MD:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:77705;left:115"><nobr>● An  asynchronous  voiceSessionNotificationCallback  is  sent  on  the  registered  controller&nbsp;</nobr></div>
<div style="position:absolute;top:77728;left:142"><nobr>callback  when  the  VR  session  starts.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:77758;left:115"><nobr>● A  second  voiceSessionNotificationCallback  is  sent  when  the  VR  session  is  completed.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:77797;left:108"><nobr>Cancelling  or  Restarting  a  VR  Session&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:77836;left:108"><nobr>During  an  active  AAP  VR  session,  short-press  of  the  ASR  hard  button  SHALL  cancel  the  active&nbsp;</nobr></div>
<div style="position:absolute;top:77859;left:108"><nobr>session,  and  long-press  SHALL  restart  the  AAP  VR  session.  For  vehicles  that  have  native  ASR&nbsp;</nobr></div>
<div style="position:absolute;top:77881;left:108"><nobr>and  utilize  short-press  to  initiate  a  VR  session,  when  an  AAP  VR  is  in  session:&nbsp;</nobr></div>
<div style="position:absolute;top:77919;left:115"><nobr>● Initial  short-press  MUST  cancel  an  active  AAP  VR  session,  and&nbsp;</nobr></div>
<div style="position:absolute;top:77949;left:115"><nobr>● Subsequent  short-press  MUST  trigger  the  native  ASR  session.&nbsp;</nobr></div>
<div style="position:absolute;top:77980;left:115"><nobr>● Single  short-press  MAY  NOT  trigger  both  a  VR  Cancel  and  VR  Start.&nbsp;</nobr></div>
<div style="position:absolute;top:78010;left:115"><nobr>● HU  MUST  NOT  send  successive  short-press  commands  to  stop  and  start  the  session.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:78049;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:78096;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:78096;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:78498;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:78518;left:730"><nobr>66  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:78583;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="67"><b>Page 67</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:78674;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:78693;left:108"><nobr>Implementing  Voice  Recognition  (VR)  Actions&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:78742;left:108"><nobr>AAP  requires  a  hardware  button  to  trigger  ASR.  You  can  set  the  button  to  trigger  AA  with&nbsp;</nobr></div>
<div style="position:absolute;top:78765;left:108"><nobr><b>short-press </b>(preferred)  or  <b>long-press </b>(and  leave  short-press  for  native  VR/fallback).&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:78803;left:108"><nobr>A  hard  button  affects  the  AA  VR  state  using  <b>Start  VR </b>,  <b>Restart  VR </b>,  and  <b>Cancel  VR  </b>actions.  The&nbsp;</nobr></div>
<div style="position:absolute;top:78828;left:108"><nobr>reportKey&nbsp;and  reportKeyLongPress&nbsp;functions  send  button  presses  to  the  MD  to  trigger&nbsp;</nobr></div>
<div style="position:absolute;top:78848;left:108"><nobr>those  actions.  When  calling  reportKey&nbsp;or  reportKeyLongPress&nbsp;,  pass  the  keycode  for&nbsp;</nobr></div>
<div style="position:absolute;top:78870;left:108"><nobr>KEYCODE_SEARCH.  For  details,  refer  to  <b>InputSource.h </b>in  Receiver  Library  Documentation.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:78908;left:108"><nobr>Short-Press  Standard  Session&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:79577;left:803"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:79614;left:108"><nobr><b>Figure  31 </b>.  Short-press,  s <font color="#666666">tandard  implementation,  standard  session&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:79686;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:79706;left:730"><nobr>67  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:79771;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="68"><b>Page 68</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:79862;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:79881;left:108"><nobr>Short-Press  Restart&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:80820;left:108"><nobr><b>Figure  32 </b>.  Short-press,  s <font color="#666666">tandard  implementation,  restart</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:80874;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:80894;left:730"><nobr>68  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:80959;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="69"><b>Page 69</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:81050;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:81085;left:108"><nobr>Short-Press  Cancel&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:81930;left:803"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:81953;left:108"><nobr><b>Figure  33 </b>.  Short-press,  s <font color="#666666">tandard  implementation,  cancel</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:81987;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:82062;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:82082;left:730"><nobr>69  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:82147;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="70"><b>Page 70</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:82238;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:82273;left:108"><nobr>Long-Press  Standard  Session&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:83011;left:803"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:83049;left:108"><nobr><b>Figure  34 </b>.  Long-press,  <font color="#666666">standard  session&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:83082;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:83121;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:83143;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:83181;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:83250;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:83270;left:730"><nobr>70  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:83335;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="71"><b>Page 71</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:83426;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:83445;left:108"><nobr>Long-Press  Restart&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:84334;left:803"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:84364;left:108"><nobr><b>Figure  35 </b>.  Long-press,  <font color="#666666">restart</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:84438;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:84458;left:730"><nobr>71  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:84523;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="72"><b>Page 72</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:84614;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:84633;left:108"><nobr>Long-Press  Cancel&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:85495;left:803"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:85534;left:108"><nobr><b>Figure  36 </b>.  Long-press,  cancel<font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:85626;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:85646;left:730"><nobr>72  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:85711;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="73"><b>Page 73</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:85802;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:85821;left:108"><nobr>Speech  Audio  Format&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:85870;left:108"><nobr>To  ensure  proper  functionality,  the  microphone  and  HU  MUST  support  the  following  audio&nbsp;</nobr></div>
<div style="position:absolute;top:85893;left:108"><nobr>format  and  audio  processing  requirements:&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:85938;left:115"><nobr>Format&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:85938;left:287"><nobr>PCM&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:85980;left:115"><nobr>Sampling  Rate&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:85980;left:287"><nobr>16KHz&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:86023;left:115"><nobr>Sample  Size&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:86023;left:287"><nobr>16Bits&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:86066;left:115"><nobr>Buffer  Size&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:86066;left:287"><nobr>2048  (frames  MUST  be  multiples  of  Buffer  Size)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:86109;left:115"><nobr>File  Type&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:86109;left:287"><nobr>.wav&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:86151;left:115"><nobr>Stereo  Type&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:86151;left:287"><nobr>Mono&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:86189;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:86216;left:108"><nobr>Processing  Requirements&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:86256;left:108"><nobr>The  following  processing  settings  are  REQUIRED:&nbsp;</nobr></div>
<div style="position:absolute;top:86295;left:115"><nobr>● <b>Noise  Reduction  Processing </b>.  MUST  be  disabled  for  single-mic  systems.  MAY  be&nbsp;</nobr></div>
<div style="position:absolute;top:86317;left:142"><nobr>enabled  for  multiple-mic  systems  that  use  techniques  such  as  beamforming  to  improve&nbsp;</nobr></div>
<div style="position:absolute;top:86339;left:142"><nobr>results  in  adverse  conditions.&nbsp;</nobr></div>
<div style="position:absolute;top:86370;left:115"><nobr>● <b>Automatic  Gain  Control  (AGC) </b>.  MUST  be  disabled.  Google  Automatic  Speech&nbsp;</nobr></div>
<div style="position:absolute;top:86392;left:142"><nobr>Recognition  (ASR)  uses  its  own  AGC  to  adjust  for  audio  volume.  Interactions  between&nbsp;</nobr></div>
<div style="position:absolute;top:86415;left:142"><nobr>third-party  and  Google  AGC  are  generally  poor,  leading  to  reduced  overall  quality.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:86452;left:108"><nobr>Processing  Recommendations&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:86492;left:108"><nobr>The  following  processing  settings  are  RECOMMENDED:&nbsp;</nobr></div>
<div style="position:absolute;top:86531;left:115"><nobr>● <b>Amplitude </b>.  Device  SHOULD  exhibit  flat  amplitude  versus  frequency  characteristics&nbsp;</nobr></div>
<div style="position:absolute;top:86553;left:142"><nobr>(+-  3  dB  150  Hz  to  7000  Hz).&nbsp;</nobr></div>
<div style="position:absolute;top:86584;left:115"><nobr>● <b>Audio  Input  Sensitivity </b>.  Set  such  that  90  dB  SPL  at  1000  Hz  yields  RMS  of  2500  for  16&nbsp;</nobr></div>
<div style="position:absolute;top:86606;left:142"><nobr>bit  samples.&nbsp;</nobr></div>
<div style="position:absolute;top:86637;left:115"><nobr>● <b>Harmonic  Distortion </b>.  Total  harmonic  distortion  SHOULD  be  less  than  1%  from  100  Hz&nbsp;</nobr></div>
<div style="position:absolute;top:86659;left:142"><nobr>to  4000  Hz  at  90  dB  SPL  input  level.&nbsp;</nobr></div>
<div style="position:absolute;top:86689;left:115"><nobr>● <b>High  Pass  Filter </b>.  High-pass  filter  to  attenuate  sensitivity  to  frequencies  below  20  Hz  by&nbsp;</nobr></div>
<div style="position:absolute;top:86712;left:142"><nobr>at  least  30  dB.&nbsp;</nobr></div>
<div style="position:absolute;top:86712;left:363"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:86814;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:86834;left:730"><nobr>73  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:86899;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="74"><b>Page 74</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:86990;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:87025;left:108"><nobr>Integrating  Vehicle  Data&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:87081;left:108"><nobr>When  connected  to  a  AAP  mobile  device  (MD),  the  vehicle  head  unit  (HU)  MUST  send&nbsp;</nobr></div>
<div style="position:absolute;top:87103;left:108"><nobr>read-only  vehicle  information  to  the  MD  using  a  pub-sub  model:  The  MD  registers  for  specific&nbsp;</nobr></div>
<div style="position:absolute;top:87126;left:108"><nobr>events  and  indicates  an  update  frequency.  On  initial  registration  from  an  MD,  the  vehicle&nbsp;</nobr></div>
<div style="position:absolute;top:87148;left:108"><nobr>MUST  notify  the  device  of  the  current  value  for  an  event  (if  data  is  available).&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:11px;font-family:Times;color:#000000">
<div style="position:absolute;top:87224;left:131"><nobr><b>NOTE<font color="#434343">&nbsp;</font></b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:87198;left:200"><nobr>This  section  describes  vehicle  data  exposed  to  the  platform,  but  not&nbsp;</nobr></div>
<div style="position:absolute;top:87220;left:200"><nobr>necessarily  to  platform  applications.  In  all  cases,  access  to  the  vehicle  data  for&nbsp;</nobr></div>
<div style="position:absolute;top:87243;left:200"><nobr>mobile  device  applications  is  governed  using  the  Android  Permission  model.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:87276;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:87295;left:108"><nobr>If  a  vehicle  makes  a  type  of  vehicle  data  available  via  AAP,  the  implementation  MUST  always&nbsp;</nobr></div>
<div style="position:absolute;top:87318;left:108"><nobr>make  the  data  available,  regardless  of  the  current  video  and  audio  focus  state.  Vehicle  data&nbsp;</nobr></div>
<div style="position:absolute;top:87340;left:108"><nobr>MUST  be  shared  as  specified  below,  and  MUST  never  be  faked,  simulated,  or  falsified.  Sensor&nbsp;</nobr></div>
<div style="position:absolute;top:87363;left:108"><nobr>errors  can  be  reported  to  MD  using  the  SensorError  message  when  identified  by  the  HU.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:87393;left:108"><nobr>AAP  supports  the  following  required  and  OPTIONAL  vehicle  data  sources.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:87431;left:108"><nobr>Driving  Status&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:87486;left:115"><nobr>Vehicle  Data  Type&nbsp; Required&nbsp;</nobr></div>
<div style="position:absolute;top:87486;left:357"><nobr>Min  Rate&nbsp;</nobr></div>
<div style="position:absolute;top:87486;left:449"><nobr>Details&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:87520;left:115"><nobr>RPM&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:87520;left:259"><nobr>OPTIONAL&nbsp; 10  Hz&nbsp;</nobr></div>
<div style="position:absolute;top:87520;left:449"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:87679;left:115"><nobr>Current  Gear&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:87679;left:259"><nobr>OPTIONAL&nbsp; on  change&nbsp;</nobr></div>
<div style="position:absolute;top:87555;left:449"><nobr>NEUTRAL,  1,  2,  3,  4,  5,  6,  7,  8,  9,  10,  DRIVE,&nbsp;</nobr></div>
<div style="position:absolute;top:87578;left:449"><nobr>PARK,  REVERSE.  This  is  an  OPTIONAL  status&nbsp;</nobr></div>
<div style="position:absolute;top:87600;left:449"><nobr>message.  If  present,  it  MUST  accurately&nbsp;</nobr></div>
<div style="position:absolute;top:87623;left:449"><nobr>represent  the  actual  transmission/gear&nbsp;</nobr></div>
<div style="position:absolute;top:87645;left:449"><nobr>status  and  MUST  NOT  be  synthesized.  If  the&nbsp;</nobr></div>
<div style="position:absolute;top:87668;left:449"><nobr>actual  transmission/gear  status  is  not&nbsp;</nobr></div>
<div style="position:absolute;top:87690;left:449"><nobr>available,  this  status  SHOULD  NOT  be  sent.&nbsp;</nobr></div>
<div style="position:absolute;top:87721;left:449"><nobr>Automatic:  transmission  state  (generally&nbsp;</nobr></div>
<div style="position:absolute;top:87743;left:449"><nobr>NEUTRAL,  DRIVE,  PARK,  REVERSE).&nbsp;</nobr></div>
<div style="position:absolute;top:87774;left:449"><nobr>Manual:  transmission  state  including  gear&nbsp;</nobr></div>
<div style="position:absolute;top:87796;left:449"><nobr>selection.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:87838;left:115"><nobr>Odometer&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:87839;left:259"><nobr>OPTIONAL&nbsp; on  change&nbsp; Resolution:  100  meters&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:87873;left:115"><nobr>Parking  Brake&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:87874;left:259"><nobr>OPTIONAL&nbsp; on  change&nbsp; &nbsp;</nobr></div>
<div style="position:absolute;top:87903;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:87941;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:88002;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:88022;left:730"><nobr>74  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:88087;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="75"><b>Page 75</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:88178;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:88197;left:108"><nobr>Fuel&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:88253;left:115"><nobr>Vehicle  Data  Type&nbsp; Required&nbsp; Min  Rate&nbsp; Details&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:88310;left:115"><nobr>Estimated  Range&nbsp; <font style="font-size:14px">OPTIONAL&nbsp; on  change&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:88288;left:440"><nobr>Estimated  vehicle  range  remaining  to  nearest&nbsp;</nobr></div>
<div style="position:absolute;top:88310;left:440"><nobr>1km;  same  data  as  shown  in  other  displays  (e.g.&nbsp;</nobr></div>
<div style="position:absolute;top:88333;left:440"><nobr>instrument  cluster).  Conveys  %  fuel  remaining.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:88367;left:115"><nobr>Fuel  Level  Low&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:88368;left:259"><nobr>OPTIONAL&nbsp; on  change&nbsp; Low  fuel  indicator&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:88397;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:88425;left:108"><nobr>Navigation&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:88472;left:108"><nobr>If  the  HU  has  navigation  sensors,  those  sensors  <b>MUST  be  provided  over  AAP </b>.  If  the  HU  does&nbsp;</nobr></div>
<div style="position:absolute;top:88495;left:108"><nobr>not  have  navigation  sensors  or  those  sensors  don’t  comply  with  minimum  requirements,  you&nbsp;</nobr></div>
<div style="position:absolute;top:88517;left:108"><nobr>MUST  apply  for  and  be  granted  a  waiver  by  Google,  as  well  as  pass  the  Projection&nbsp;</nobr></div>
<div style="position:absolute;top:88540;left:108"><nobr>Compatibility  Test  Suite  (PCTS).  For  example,  Google  may  grant  a  waiver  to  a  vehicle  that&nbsp;</nobr></div>
<div style="position:absolute;top:88562;left:108"><nobr>does  not  have  GPS  if  the  vehicle  passes  other  PCTS  tests  that  ensure  the  position  of  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:88585;left:108"><nobr>allows  for  GPS  positioning  from  the  device.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:88630;left:115"><nobr>Vehicle  Data  Type&nbsp; Min  Rate&nbsp;</nobr></div>
<div style="position:absolute;top:88630;left:432"><nobr>Details&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:88664;left:117"><nobr>GPS  Location&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:88665;left:269"><nobr>Use  the  same&nbsp;</nobr></div>
<div style="position:absolute;top:88685;left:269"><nobr>update  rate  as  the&nbsp;</nobr></div>
<div style="position:absolute;top:88705;left:269"><nobr>underlying  GPS&nbsp;</nobr></div>
<div style="position:absolute;top:88725;left:269"><nobr>hardware  (typically&nbsp;</nobr></div>
<div style="position:absolute;top:88746;left:269"><nobr>1  Hz).&nbsp;</nobr></div>
<div style="position:absolute;top:88665;left:434"><nobr>Position  of  the  vehicle,  usually  from  a  GPS&nbsp;</nobr></div>
<div style="position:absolute;top:88687;left:434"><nobr>source.  Uses  WGS84  datum.  May  include&nbsp;</nobr></div>
<div style="position:absolute;top:88710;left:434"><nobr>corrections  from  sensor  fusion,  but  MUST  NOT&nbsp;</nobr></div>
<div style="position:absolute;top:88732;left:434"><nobr>include  Map  Matching  (MM).&nbsp;</nobr></div>
<div style="position:absolute;top:88763;left:440"><nobr>● Latitude  &amp;  Longitude&nbsp;</nobr></div>
<div style="position:absolute;top:88793;left:440"><nobr>● Accuracy  ( <a href="http://developer.android.com/reference/android/location/Location.html#getAccuracy"></a><font color="#3d85c6"><a href="http://developer.android.com/reference/android/location/Location.html#getAccuracy">68%  confidence  horizontal&nbsp;</a></font></nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:88815;left:467"><nobr><a href="http://developer.android.com/reference/android/location/Location.html#getAccuracy">radius</a> <font color="#434343">)&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:88846;left:440"><nobr>● Altitude&nbsp;</nobr></div>
<div style="position:absolute;top:88876;left:440"><nobr>● Speed  (as  calculated  by  Location  engine)&nbsp;</nobr></div>
<div style="position:absolute;top:88907;left:440"><nobr>● Course  (as  calculated  by  Location  engine )&nbsp;<font style="font-size:7px">7</font></nobr></div>
<div style="position:absolute;top:88937;left:434"><nobr>The  HU  SHOULD  send  raw  GPS  values  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:88959;left:434"><nobr>MD.  Dead  Reckoning  (DR)  and/or  sensor  fusion&nbsp;</nobr></div>
<div style="position:absolute;top:88982;left:434"><nobr>may  be  applied  only  if  the  HU  reports  the&nbsp;</nobr></div>
<div style="position:absolute;top:89004;left:434"><nobr>transformations  in  the  locationCharacterization&nbsp;</nobr></div>
<div style="position:absolute;top:89027;left:434"><nobr>flags.  MM  MUST  NOT  be  applied  on  the  HU  as  it&nbsp;</nobr></div>
<div style="position:absolute;top:89049;left:434"><nobr>will  interfere  with  the  MD's  own  MM.  During&nbsp;</nobr></div>
<div style="position:absolute;top:89072;left:434"><nobr>initial  sensor  set  up,  the  HU  SHOULD  report&nbsp;</nobr></div>
<div style="position:absolute;top:89094;left:434"><nobr>what  transformations  it  performs  on  GPS  data&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:6px;font-family:Times;color:#434343">
<div style="position:absolute;top:89152;left:108"><nobr>7 <font style="font-size:11px">In  this  context,  "Location  engine"  can  be  interpreted  as  the  GPS  module.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:89190;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:89210;left:730"><nobr>75  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:89275;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="76"><b>Page 76</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:89366;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:89395;left:434"><nobr>using  locationCharacterization  flags.&nbsp;</nobr></div>
<div style="position:absolute;top:89425;left:434"><nobr>If  no  GPS  fix  is  available  <b><font style="font-size:15px">and </font></b>the  number  of&nbsp;</nobr></div>
<div style="position:absolute;top:89448;left:434"><nobr>reported  GPS  satellites  is  zero,  the  HU  MAY&nbsp;</nobr></div>
<div style="position:absolute;top:89470;left:434"><nobr>send  location  data  to  the  MD.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:89509;left:117"><nobr>GPS  satellite&nbsp;</nobr></div>
<div style="position:absolute;top:89529;left:117"><nobr>status&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:89509;left:269"><nobr>Use  the  same&nbsp;</nobr></div>
<div style="position:absolute;top:89530;left:269"><nobr>update  rate  as  the&nbsp;</nobr></div>
<div style="position:absolute;top:89550;left:269"><nobr>underlying  GPS&nbsp;</nobr></div>
<div style="position:absolute;top:89570;left:269"><nobr>hardware  (typically&nbsp;</nobr></div>
<div style="position:absolute;top:89590;left:269"><nobr>1  Hz).&nbsp;</nobr></div>
<div style="position:absolute;top:89509;left:434"><nobr>The  number  of  GPS  satellites  used  in&nbsp;</nobr></div>
<div style="position:absolute;top:89532;left:434"><nobr>determining  the  location  (REQUIRED),  and  the&nbsp;</nobr></div>
<div style="position:absolute;top:89554;left:434"><nobr>number  of  satellites  in  view  (OPTIONAL).  This&nbsp;</nobr></div>
<div style="position:absolute;top:89577;left:434"><nobr>data  MUST  be  sent  regardless  of  whether&nbsp;</nobr></div>
<div style="position:absolute;top:89599;left:434"><nobr>location  fix  was  acquired  or  not  (i.e.  no  silence&nbsp;</nobr></div>
<div style="position:absolute;top:89622;left:434"><nobr>periods).  If  locations  are  ever  provided  when&nbsp;</nobr></div>
<div style="position:absolute;top:89644;left:434"><nobr>no  GPS  signal  is  available  (through&nbsp;</nobr></div>
<div style="position:absolute;top:89667;left:434"><nobr>dead-reckoning),  it  is  imperative  that  the&nbsp;</nobr></div>
<div style="position:absolute;top:89689;left:434"><nobr>number  of  satellites  in  the  fix  (zero)  is  supplied.&nbsp;</nobr></div>
<div style="position:absolute;top:89720;left:439"><nobr>Per-satellite  information  is  OPTIONAL.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:89767;left:117"><nobr>Mechanical  Speed&nbsp; <font style="font-size:14px">Use  same  rate  as&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:89787;left:269"><nobr>underlying&nbsp;</nobr></div>
<div style="position:absolute;top:89808;left:269"><nobr>hardware.&nbsp;</nobr></div>
<div style="position:absolute;top:89828;left:269"><nobr>Minimum  rate  1  Hz.&nbsp;</nobr></div>
<div style="position:absolute;top:89767;left:434"><nobr>m/s.  Derived  from  mechanical  rotation  at&nbsp;</nobr></div>
<div style="position:absolute;top:89787;left:434"><nobr>transmission  or  wheels  (not  GPS).  MUST  be  a&nbsp;</nobr></div>
<div style="position:absolute;top:89808;left:434"><nobr>negative  value  when  vehicle  is  moving  in&nbsp;</nobr></div>
<div style="position:absolute;top:89828;left:434"><nobr>reverse.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:89868;left:117"><nobr>Compass  Heading&nbsp; <font style="font-size:14px">Use  same  rate  as&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:89889;left:269"><nobr>underlying&nbsp;</nobr></div>
<div style="position:absolute;top:89909;left:269"><nobr>hardware.&nbsp;</nobr></div>
<div style="position:absolute;top:89929;left:269"><nobr>Minimum  rate  1  Hz.&nbsp;</nobr></div>
<div style="position:absolute;top:89868;left:434"><nobr>1-axis  compass  heading  (or  OPTIONAL  3-axis  if&nbsp;</nobr></div>
<div style="position:absolute;top:89891;left:434"><nobr>pitch  and/or  roll  are  available).  Compass&nbsp;</nobr></div>
<div style="position:absolute;top:89913;left:434"><nobr>heading  updates  differ  from  the  course  in  a&nbsp;</nobr></div>
<div style="position:absolute;top:89936;left:434"><nobr>location  update  because  the  heading:&nbsp;</nobr></div>
<div style="position:absolute;top:89967;left:440"><nobr>● Can  be  updated  <b>independently </b>of  location&nbsp;</nobr></div>
<div style="position:absolute;top:89989;left:467"><nobr>information,  enabling  compass  updates&nbsp;</nobr></div>
<div style="position:absolute;top:90011;left:467"><nobr>when  no  accurate  location  is  available&nbsp;</nobr></div>
<div style="position:absolute;top:90034;left:467"><nobr>(such  as  in  tunnels).&nbsp;</nobr></div>
<div style="position:absolute;top:90064;left:440"><nobr>● Always  indicates  the  direction  of  the  front&nbsp;</nobr></div>
<div style="position:absolute;top:90087;left:467"><nobr>of  the  vehicle,  whereas  location  course&nbsp;</nobr></div>
<div style="position:absolute;top:90109;left:467"><nobr>indicates  the  direction  of  movement&nbsp;</nobr></div>
<div style="position:absolute;top:90132;left:467"><nobr>(velocity  vector).  These  are  usually  the&nbsp;</nobr></div>
<div style="position:absolute;top:90154;left:467"><nobr>same  when  travelling  forwards,  but  are&nbsp;</nobr></div>
<div style="position:absolute;top:90177;left:467"><nobr>180  degrees  apart  when  reversing.&nbsp;</nobr></div>
<div style="position:absolute;top:90207;left:434"><nobr>The  compass  heading  is  the  orientation  of  the&nbsp;</nobr></div>
<div style="position:absolute;top:90229;left:434"><nobr>vehicle  as  determined  by  magnetic  sensors;&nbsp;</nobr></div>
<div style="position:absolute;top:90252;left:434"><nobr>location  course  is  the  direction  of  movement&nbsp;</nobr></div>
<div style="position:absolute;top:90274;left:434"><nobr>(velocity  vector)  as  determined  by  the  location&nbsp;</nobr></div>
<div style="position:absolute;top:90297;left:434"><nobr>engine.  If  the  HU  does  not  have  access  to  a&nbsp;</nobr></div>
<div style="position:absolute;top:90319;left:434"><nobr>compass  heading  that  is  independent  of  the&nbsp;</nobr></div>
<div style="position:absolute;top:90378;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:90398;left:730"><nobr>76  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:90463;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="77"><b>Page 77</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:90554;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:90583;left:434"><nobr>location  course,  then  compass  updates&nbsp;</nobr></div>
<div style="position:absolute;top:90605;left:434"><nobr>SHOULD  NOT  be  sent.&nbsp;</nobr></div>
<div style="position:absolute;top:90636;left:434"><nobr>The  compass  heading  SHOULD  be  magnetic&nbsp;</nobr></div>
<div style="position:absolute;top:90658;left:434"><nobr>north  (rather  than  true  north).  The&nbsp;</nobr></div>
<div style="position:absolute;top:90681;left:434"><nobr>RECOMMENDED  resolution  of  compass&nbsp;</nobr></div>
<div style="position:absolute;top:90703;left:434"><nobr>heading  data  is  1  degree,  and  the  minimum&nbsp;</nobr></div>
<div style="position:absolute;top:90726;left:434"><nobr>resolution  is  45  degrees.  As  compass  data  can&nbsp;</nobr></div>
<div style="position:absolute;top:90748;left:434"><nobr>be  noisy,  gyro  stabilisation  is  acceptable  but&nbsp;</nobr></div>
<div style="position:absolute;top:90771;left:434"><nobr>MUST  NOT  be  a  duplicate  of  GPS  bearing  data.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:90809;left:117"><nobr>Accelerometer&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:90810;left:269"><nobr>Use  same  rate  as&nbsp;</nobr></div>
<div style="position:absolute;top:90830;left:269"><nobr>underlying&nbsp;</nobr></div>
<div style="position:absolute;top:90850;left:269"><nobr>hardware.&nbsp;</nobr></div>
<div style="position:absolute;top:90871;left:269"><nobr>Minimum  rate  3  Hz.&nbsp;</nobr></div>
<div style="position:absolute;top:90810;left:434"><nobr>3-axis  acceleration  measurements.  Used  for&nbsp;</nobr></div>
<div style="position:absolute;top:90832;left:434"><nobr>Dead  Reckoning  on  the  MD.  For  details,  refer  to&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:90855;left:434"><nobr><a href="https://developer.android.com/guide/topics/sensors/sensors_motion.html#sensors-motion-rotate">Motion  Sensors,  Figure  1</a> <font color="#434343"><a href="https://developer.android.com/guide/topics/sensors/sensors_motion.html#sensors-motion-rotate"></a>,  where  positive  X  axis&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:90877;left:434"><nobr>points  to  the  right  door,  positive  Y  axis  point  to&nbsp;</nobr></div>
<div style="position:absolute;top:90900;left:434"><nobr>the  nose  of  the  car,  and  positive  Z  axis  points  to&nbsp;</nobr></div>
<div style="position:absolute;top:90922;left:434"><nobr>the  roof  of  the  car.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:90961;left:117"><nobr>Gyroscope&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:90962;left:269"><nobr>Use  same  rate  as&nbsp;</nobr></div>
<div style="position:absolute;top:90982;left:269"><nobr>underlying&nbsp;</nobr></div>
<div style="position:absolute;top:91002;left:269"><nobr>hardware.&nbsp;</nobr></div>
<div style="position:absolute;top:91023;left:269"><nobr>Minimum  rate  3  Hz.&nbsp;</nobr></div>
<div style="position:absolute;top:90962;left:434"><nobr>Up  to  3-axis  gyroscope  measurements.  Z  axis&nbsp;</nobr></div>
<div style="position:absolute;top:90984;left:434"><nobr>(left-right  turns)  is  REQUIRED;  other  axes  are&nbsp;</nobr></div>
<div style="position:absolute;top:91007;left:434"><nobr>OPTIONAL  but  encouraged.  Used  for  Dead&nbsp;</nobr></div>
<div style="position:absolute;top:91029;left:434"><nobr>Reckoning  on  the  MD.   For  details,  refer  to&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:91052;left:434"><nobr><a href="https://developer.android.com/guide/topics/sensors/sensors_motion.html#sensors-motion-rotate">Motion  Sensors,  Figure  1</a> <font color="#434343"><a href="https://developer.android.com/guide/topics/sensors/sensors_motion.html#sensors-motion-rotate"></a>.&nbsp;</font></nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:91083;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:91104;left:108"><nobr>If  the  vehicle  does  not  have  GPS,  the  MD  GPS  is  used  instead.  Such  vehicles  MUST  provide  a&nbsp;</nobr></div>
<div style="position:absolute;top:91126;left:108"><nobr>location  for  the  device  such  that  the  performance  of  the  MD  GPS  is  equivalent  to&nbsp;</nobr></div>
<div style="position:absolute;top:91149;left:108"><nobr>performance  outside  of  the  vehicle.<font style="font-size:7px">&nbsp;</font></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:91187;left:108"><nobr>Privacy&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:91242;left:115"><nobr>Vehicle  Data  Type&nbsp; Required&nbsp; Min  Rate&nbsp; Details&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:91306;left:115"><nobr>Passenger&nbsp;</nobr></div>
<div style="position:absolute;top:91328;left:115"><nobr>Presence&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:91317;left:267"><nobr>OPTIONAL&nbsp;</nobr></div>
<div style="position:absolute;top:91306;left:358"><nobr>on&nbsp;</nobr></div>
<div style="position:absolute;top:91329;left:358"><nobr>change&nbsp;</nobr></div>
<div style="position:absolute;top:91277;left:438"><nobr>Google  services  are  a  personalized  experience,&nbsp;</nobr></div>
<div style="position:absolute;top:91299;left:438"><nobr>so  it  is  important  to  know  if  the  passenger  seat&nbsp;</nobr></div>
<div style="position:absolute;top:91322;left:438"><nobr>is  occupied  before  projecting  video  or  audio&nbsp;</nobr></div>
<div style="position:absolute;top:91344;left:438"><nobr>content  you  may  not  want  a  passenger  to&nbsp;</nobr></div>
<div style="position:absolute;top:91367;left:438"><nobr>hear.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:91396;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:91416;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:91453;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:91492;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:91566;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:91586;left:730"><nobr>77  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:91651;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="78"><b>Page 78</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:91742;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:91761;left:108"><nobr>Safety&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:91828;left:115"><nobr>Vehicle  Data  Type&nbsp;</nobr></div>
<div style="position:absolute;top:91828;left:287"><nobr>Required&nbsp;</nobr></div>
<div style="position:absolute;top:91817;left:379"><nobr>Min&nbsp;</nobr></div>
<div style="position:absolute;top:91839;left:379"><nobr>Rate&nbsp;</nobr></div>
<div style="position:absolute;top:91828;left:456"><nobr>Details&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:92149;left:115"><nobr>Drive  Level&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:92150;left:287"><nobr>REQUIRED&nbsp;</nobr></div>
<div style="position:absolute;top:92139;left:379"><nobr>on&nbsp;</nobr></div>
<div style="position:absolute;top:92161;left:379"><nobr>change&nbsp;</nobr></div>
<div style="position:absolute;top:91874;left:456"><nobr>Indicates  the  level  of  feature/functionality&nbsp;</nobr></div>
<div style="position:absolute;top:91897;left:456"><nobr>lockout  as  determined  by  vehicle.  Defined&nbsp;</nobr></div>
<div style="position:absolute;top:91919;left:456"><nobr>as  a  bitmask:&nbsp;</nobr></div>
<div style="position:absolute;top:91953;left:459"><nobr>00000  =&nbsp; Unrestricted.&nbsp;</nobr></div>
<div style="position:absolute;top:91998;left:459"><nobr>00001  =&nbsp; No  video  playback  allowed.&nbsp;</nobr></div>
<div style="position:absolute;top:92020;left:525"><nobr>Video  playback  is  media  such  as&nbsp;</nobr></div>
<div style="position:absolute;top:92043;left:525"><nobr>movies,  YouTube,  games,  etc.&nbsp;</nobr></div>
<div style="position:absolute;top:92065;left:525"><nobr>(not  UI).&nbsp;</nobr></div>
<div style="position:absolute;top:92110;left:459"><nobr>00010 =&nbsp; No  text  input  allowed  (on-screen&nbsp;</nobr></div>
<div style="position:absolute;top:92133;left:525"><nobr>keyboard,  rotary  controller&nbsp;</nobr></div>
<div style="position:absolute;top:92155;left:525"><nobr>speller,  touchpad  text  entry) .&nbsp;<font style="font-size:7px">8</font></nobr></div>
<div style="position:absolute;top:92178;left:525"><nobr>Limits  UI  interaction.&nbsp;</nobr></div>
<div style="position:absolute;top:92223;left:459"><nobr>00100  =&nbsp; No  voice  input  allowed.&nbsp;</nobr></div>
<div style="position:absolute;top:92268;left:459"><nobr>01000  =&nbsp; No  setup/configuration  allowed .&nbsp;<font style="font-size:7px">9</font></nobr></div>
<div style="position:absolute;top:92321;left:459"><nobr>10000  =&nbsp; Limit  displayed  message  length.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:92347;left:456"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:92367;left:456"><nobr><b>OEMs  MUST  select  drive  level  in&nbsp;</b></nobr></div>
<div style="position:absolute;top:92389;left:456"><nobr><b>compliance  with  the  laws  and&nbsp;</b></nobr></div>
<div style="position:absolute;top:92412;left:456"><nobr><b>regulations  that  apply  to  markets&nbsp;</b></nobr></div>
<div style="position:absolute;top:92434;left:456"><nobr><b>where  the  product  is  shipping.&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:92544;left:115"><nobr>Day/Night  Mode&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:92545;left:287"><nobr>REQUIRED&nbsp;</nobr></div>
<div style="position:absolute;top:92533;left:379"><nobr>on&nbsp;</nobr></div>
<div style="position:absolute;top:92556;left:379"><nobr>change&nbsp;</nobr></div>
<div style="position:absolute;top:92469;left:456"><nobr>Indicates  use  of  night  mode  when&nbsp;</nobr></div>
<div style="position:absolute;top:92492;left:456"><nobr>rendering  the  UI.  Defined  as  a  boolean:&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:92522;left:456"><nobr>1  =  day&nbsp;</nobr></div>
<div style="position:absolute;top:92553;left:456"><nobr>0  =  night&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:92583;left:456"><nobr>The  value  of  this  flag  MUST  be  consistent&nbsp;</nobr></div>
<div style="position:absolute;top:92605;left:456"><nobr>with  dashboard  day/night  mode  HU  MUST&nbsp;</nobr></div>
<div style="position:absolute;top:92628;left:456"><nobr>provide  a  means  for  user  to  manually&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:92696;left:108"><nobr>8 <font style="font-size:11px">To  minimize  driver  distraction,  Google  recommends  lockout  of  text  input  when  vehicle  is  not  parked.</font><font style="font-size:12px">&nbsp;</font></nobr></div>
<div style="position:absolute;top:92714;left:108"><nobr>9 <font style="font-size:11px">To  minimize  driver  distraction,  Google  recommends  vehicle  is  parked  for  FRX.</font><font style="font-size:12px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:92754;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:92774;left:730"><nobr>78  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:92839;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="79"><b>Page 79</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:92930;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:92956;left:456"><nobr>choose  day  or  night  mode.  When  in  auto&nbsp;</nobr></div>
<div style="position:absolute;top:92979;left:456"><nobr>mode,  value  SHOULD  be  based  on  ambient&nbsp;</nobr></div>
<div style="position:absolute;top:93001;left:456"><nobr>light  sensor  input  and  care  SHOULD  be&nbsp;</nobr></div>
<div style="position:absolute;top:93024;left:456"><nobr>taken  to  de-bounce  the  signal  to  avoid&nbsp;</nobr></div>
<div style="position:absolute;top:93046;left:456"><nobr>flickering.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:93089;left:115"><nobr>Door/Trunk/Hood&nbsp;</nobr></div>
<div style="position:absolute;top:93111;left:115"><nobr>Status&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:93100;left:287"><nobr>OPTIONAL&nbsp;</nobr></div>
<div style="position:absolute;top:93089;left:379"><nobr>on&nbsp;</nobr></div>
<div style="position:absolute;top:93112;left:379"><nobr>change&nbsp;</nobr></div>
<div style="position:absolute;top:93100;left:456"><nobr>Indicates  if  open.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:93157;left:115"><nobr>Headlights&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:93158;left:287"><nobr>OPTIONAL&nbsp;</nobr></div>
<div style="position:absolute;top:93147;left:379"><nobr>on&nbsp;</nobr></div>
<div style="position:absolute;top:93169;left:379"><nobr>change&nbsp;</nobr></div>
<div style="position:absolute;top:93147;left:456"><nobr>Indicates  headlight  status  (off,  on,  high&nbsp;</nobr></div>
<div style="position:absolute;top:93169;left:456"><nobr>beams).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:93215;left:115"><nobr>Tire  Pressure&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:93215;left:287"><nobr>OPTIONAL&nbsp;</nobr></div>
<div style="position:absolute;top:93204;left:379"><nobr>on&nbsp;</nobr></div>
<div style="position:absolute;top:93226;left:379"><nobr>change&nbsp;</nobr></div>
<div style="position:absolute;top:93215;left:456"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:93256;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:93289;left:108"><nobr>Other&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:93345;left:115"><nobr>Vehicle  Data  Type&nbsp;</nobr></div>
<div style="position:absolute;top:93345;left:403"><nobr>Required&nbsp;</nobr></div>
<div style="position:absolute;top:93345;left:507"><nobr>Min  Rate&nbsp;</nobr></div>
<div style="position:absolute;top:93345;left:611"><nobr>Details&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:93379;left:115"><nobr>Outside  Temperature&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:93379;left:403"><nobr>OPTIONAL&nbsp;</nobr></div>
<div style="position:absolute;top:93379;left:507"><nobr>0.1  Hz&nbsp;</nobr></div>
<div style="position:absolute;top:93379;left:611"><nobr>Celsius&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:93414;left:115"><nobr>Environmental  Pressure&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:93414;left:403"><nobr>OPTIONAL&nbsp;</nobr></div>
<div style="position:absolute;top:93414;left:507"><nobr>0.1  Hz&nbsp;</nobr></div>
<div style="position:absolute;top:93414;left:611"><nobr>kPA&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:93449;left:115"><nobr>HVAC  -  Target  /Current  Temperature&nbsp; <font style="font-size:14px">OPTIONAL&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:93449;left:507"><nobr>0.1  Hz&nbsp;</nobr></div>
<div style="position:absolute;top:93449;left:611"><nobr>Celsius&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:93479;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:93526;left:127"><nobr>NOTE&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:93502;left:200"><nobr>Methods  <font style="font-size:12px">reportDiagnosticsData&nbsp;</font>and  <font style="font-size:12px">reportDeadReckoningData</font>&nbsp;</nobr></div>
<div style="position:absolute;top:93525;left:200"><nobr>in  the  receiver  library  are  deprecated  and  SHOULD  NOT  be  used&nbsp;</nobr></div>
<div style="position:absolute;top:93547;left:200"><nobr>in  new  integrations.&nbsp;</nobr></div>
<div style="position:absolute;top:93581;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:93627;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:93627;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:93942;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:93962;left:730"><nobr>79  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:94027;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="80"><b>Page 80</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:94118;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:94145;left:108"><nobr>Integrating  Navigation&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:94202;left:108"><nobr>Most  mobile  devices  (MDs)  and  vehicle  head  units  (HUs)  provide  navigation  services.  Because&nbsp;</nobr></div>
<div style="position:absolute;top:94224;left:108"><nobr>the  MD  can  provide  step-by-step  navigation  and  the  HU  can  provide  a  native  (on-board)&nbsp;</nobr></div>
<div style="position:absolute;top:94247;left:108"><nobr>navigation,  the  MD  and  HU  MUST  negotiate  navigation  focus  so  the  user  does  not  receive&nbsp;</nobr></div>
<div style="position:absolute;top:94269;left:108"><nobr>concurrent  navigation  and  traffic  instructions.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:94308;left:108"><nobr>AAP  includes  two  Navigation  Focus  (NF)  modes:  <b>Phone </b>(navigation  provided  from  MD)  and&nbsp;</nobr></div>
<div style="position:absolute;top:94330;left:108"><nobr><b>Car </b>(navigation  provided  from  HU).  On  AAP  connection  the  default  NF  mode  is  <b>Car </b>.  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:94353;left:108"><nobr>enables  users  to  switch  navigation  focus  between  the  phone  and  car.  However,  the  <b>HU&nbsp;</b></nobr></div>
<div style="position:absolute;top:94375;left:108"><nobr><b>always  controls  navigation  focus </b>and  determines  which  navigation  service  runs.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:94413;left:108"><nobr>The  HU  MUST  implement  Navigation  Focus  even  if  it  does  not  include  native  navigation.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:94451;left:108"><nobr>Navigation  Focus  Request&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:94500;left:108"><nobr>A  navigation  focus  request  is  a  message  sent  from  the  MD  to  the  HU.  The  MD  makes  a&nbsp;</nobr></div>
<div style="position:absolute;top:94522;left:108"><nobr>request  for  navigation  focus  whenever  the  user  changes  the  navigation  state  in  the  MD:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:94562;left:115"><nobr>● <font style="font-size:14px">When  navigation  on  the  mobile  device  is  started  or  restarted,  the  mobile  device  makes  a&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:94583;left:142"><nobr>navigation  focus  request  to  the  head  unit,  requesting  NF  mode  to  be  phone.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:94623;left:115"><nobr>● <font style="font-size:14px">When  navigation  on  the  mobile  device  is  stopped,  the  mobile  device  MAY  make  a&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:94644;left:142"><nobr>navigation  focus  request  to  the  head  unit,  requesting  NF  mode  to  be  returned  to  car.&nbsp;</nobr></div>
<div style="position:absolute;top:94682;left:108"><nobr>The  HU  MUST  eventually  respond  to  every  request  with  Navigation  Focus  Notification.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:94720;left:108"><nobr>Navigation  Focus  Notification&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:94769;left:108"><nobr>A  Navigation  Focus  Notification  is  a  message  sent  from  the  HU  to  the  MD  that  specifies&nbsp;</nobr></div>
<div style="position:absolute;top:94791;left:108"><nobr>whether  the  NF  Mode  is  Phone  or  Car  and  is  used  to  grant  Navigation  Focus.  The  HU:&nbsp;</nobr></div>
<div style="position:absolute;top:94830;left:115"><nobr>● MAY  send  a  navigation  focus  notification  at  any  time  (for  example,  when  the  native&nbsp;</nobr></div>
<div style="position:absolute;top:94852;left:142"><nobr>navigation  service  starts  or  stops).&nbsp;</nobr></div>
<div style="position:absolute;top:94891;left:115"><nobr>● MUST  send  a  navigation  focus  notification  to  the  MD  in  response  to  a  navigation  focus&nbsp;</nobr></div>
<div style="position:absolute;top:94913;left:142"><nobr>request  from  the  device  (even  if  there  is  no  change  in  navigation  focus).&nbsp;</nobr></div>
<div style="position:absolute;top:94951;left:108"><nobr>No  confirmations  from  the  MD  are  expected  for  any  of  these  notifications.  The  MD  will  not&nbsp;</nobr></div>
<div style="position:absolute;top:94974;left:108"><nobr>start  phone  navigation  until  it  receives  a  NF  Notification  with  NF  mode  set  to  phone.  The  HU&nbsp;</nobr></div>
<div style="position:absolute;top:94996;left:108"><nobr>MUST  NOT  run  native  navigation  if  the  last  NF  Notification  sent  was  NF  mode  set  to  phone.&nbsp;</nobr></div>
<div style="position:absolute;top:95034;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:95065;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:95130;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:95150;left:730"><nobr>80  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:95215;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="81"><b>Page 81</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:95306;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:95333;left:108"><nobr>Policy&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:95374;left:108"><nobr>The  HU  SHOULD  generally  grant  the  NF  Mode  that  was  requested  by  the  MD  in  a  NF  Request&nbsp;</nobr></div>
<div style="position:absolute;top:95397;left:108"><nobr>(that  is,  if  focus  is  requested  for  the  vehicle,  it  SHOULD  be  given  to  the  vehicle;  if  it  is&nbsp;</nobr></div>
<div style="position:absolute;top:95419;left:108"><nobr>requested  for  the  phone,  it  SHOULD  be  given  to  the  phone).&nbsp;</nobr></div>
<div style="position:absolute;top:95457;left:108"><nobr>Some  special  cases  worth  considering:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:95497;left:115"><nobr>● <font style="font-size:14px">If  the  HU  is  actively  providing  native  navigation  and  the  MD  requests  NF,  the  HU  may&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:95518;left:142"><nobr>choose  to  stop  native  navigation  and  grant  NF  to  the  MD,  or  it  may  provide  a  native  UI  to&nbsp;</nobr></div>
<div style="position:absolute;top:95541;left:142"><nobr>let  the  user  decide.  The  RECOMMENDED  approach  is  to  stop  native  navigation  and  let&nbsp;</nobr></div>
<div style="position:absolute;top:95563;left:142"><nobr>the  MD  to  take  over.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:95603;left:115"><nobr>● <font style="font-size:14px">If  a  HU  is  capable  of  providing  native  navigation,  but  is  not  actively  navigating,  then  it&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:95624;left:142"><nobr>SHOULD  immediately  grant  NF  Mode  to  the  phone  when  requested.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:95664;left:115"><nobr>● <font style="font-size:14px">f  the  user  initiates  native  navigation  while  the  NF  Mode  is  set  to  phone  then  the  HU  may&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:95685;left:142"><nobr>either  issue  a  NF  Notification  with  NF  Mode  set  to  car  (and  the  phone  will  stop&nbsp;</nobr></div>
<div style="position:absolute;top:95707;left:142"><nobr>navigation),  or  it  may  provide  a  UI  to  let  the  user  confirm  that  phone  navigation  will  end&nbsp;</nobr></div>
<div style="position:absolute;top:95730;left:142"><nobr>and  then  send  the  NF  Notification.  The  HU  MUST  always  use  a  NF  Notification  to  set  NF&nbsp;</nobr></div>
<div style="position:absolute;top:95752;left:142"><nobr>mode  to  car  before  starting  native  navigation.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:95806;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:95877;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:95877;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:96318;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:96338;left:730"><nobr>81  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:96403;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="82"><b>Page 82</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:96494;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:96515;left:108"><nobr>Integrating  Application  Status  &amp;  Data&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:96570;left:108"><nobr>The  primary  visual  UI  for  AAP  renders  on  the  mobile  device  (MD)  and  projects  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:96592;left:108"><nobr>in-vehicle  head  unit  (HU)  display  as  a  projection  video  stream  (see <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#29"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#29">Integrating  Video</a> </font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#29"></a>).  To&nbsp;</nobr></div>
<div style="position:absolute;top:96615;left:108"><nobr>enable  tighter  integration  with  native  purpose-built  UI  such  as  instrument  clusters  and&nbsp;</nobr></div>
<div style="position:absolute;top:96637;left:108"><nobr>heads-up  displays,  AAP  also  provides  limited  access  to  app  data.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:96675;left:108"><nobr>Navigation  Data&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:96716;left:108"><nobr>For  vehicles  that  support  next  turn  information  in  the  instrument  cluster,  the  HU  can&nbsp;</nobr></div>
<div style="position:absolute;top:96739;left:108"><nobr>subscribe  to  next  turn  updates  from  the  MD  navigation  engine.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:96777;left:108"><nobr>Navigation  Subscription&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:96816;left:108"><nobr>An  HU  sends  navigation  subscription  requests  to  the  MD.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:96860;left:114"><nobr>Subscription  Field&nbsp; Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:96904;left:114"><nobr>Minimum  Interval&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:96893;left:270"><nobr>Minimum  interval  (maximum  rate)  between  Next  Turn  Distance&nbsp;</nobr></div>
<div style="position:absolute;top:96915;left:270"><nobr>events  (in  ms).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:97014;left:114"><nobr>Next  Turn  Format&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:96958;left:278"><nobr>● <b>Image  (RECOMMENDED) </b>.  Instrument  clusters  that  can&nbsp;</nobr></div>
<div style="position:absolute;top:96982;left:305"><nobr>dynamically  load  images  sent  by  the  MD  SHOULD  select  image&nbsp;</nobr></div>
<div style="position:absolute;top:97004;left:305"><nobr>for  access  to  high-fidelity  next  turn  iconography  from  the  MD.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:97032;left:278"><nobr>● <b>Enum </b>.  Instrument  clusters  that  cannot  dynamically  load&nbsp;</nobr></div>
<div style="position:absolute;top:97054;left:305"><nobr>images  SHOULD  select  enum.  The  HU  MUST  select  and  render&nbsp;</nobr></div>
<div style="position:absolute;top:97076;left:305"><nobr>a  native  next  turn  icon.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:97135;left:114"><nobr>Image  Options&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:97113;left:270"><nobr>Required  only  for  HUs  that  support  next  turn  images.  At  this  time,&nbsp;</nobr></div>
<div style="position:absolute;top:97136;left:270"><nobr>only  square  images  are  supported;  includes  color  depth  and&nbsp;</nobr></div>
<div style="position:absolute;top:97158;left:270"><nobr>resolution.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:97187;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:97214;left:108"><nobr>Navigation  Status  Event&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:97254;left:108"><nobr>MDs  send  navigation  status  event  messages  to  the  HU.<b>&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:97298;left:114"><nobr>Event  Field&nbsp;</nobr></div>
<div style="position:absolute;top:97298;left:291"><nobr>Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:97341;left:114"><nobr>Navigation  Status&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:97330;left:291"><nobr>Current  status  of  mobile-based  navigation  (ACTIVE,  INACTIVE,&nbsp;</nobr></div>
<div style="position:absolute;top:97353;left:291"><nobr>UNAVAILABLE).&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:97381;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:97401;left:108"><nobr>Next  Turn  Event&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:97433;left:108"><nobr>MDs  send  next  turn  event  messages  to  the  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:97506;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:97526;left:730"><nobr>82  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:97591;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="83"><b>Page 83</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:97682;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:97707;left:114"><nobr>Event  Field&nbsp;</nobr></div>
<div style="position:absolute;top:97707;left:294"><nobr>Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:97737;left:114"><nobr>Next  Turn  Enum&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:97738;left:294"><nobr>Enumeration  describing  the  type  of  turn.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:97770;left:114"><nobr>Next  Turn  Side&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:97770;left:294"><nobr>Enumeration  describing  the  side  of  turn  (left,  right,  unspecified)&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:97802;left:114"><nobr>Next  Turn  Image&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:97803;left:294"><nobr>PNG  formatted  turn  image.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:97835;left:114"><nobr>Next  Turn  Road  Name&nbsp; <font style="font-size:14px">Name  of  next  road  (UTF-8).&nbsp;</font></nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:97864;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:97891;left:108"><nobr>Next  Turn  Distance  Event&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:97931;left:108"><nobr>MDs  send  next  turn  distance  event  messages  to  the  HU.  These  events  are  sent  continuously&nbsp;</nobr></div>
<div style="position:absolute;top:97954;left:108"><nobr>from  MD  to  HU  while  navigating,  and  not  necessarily  at  predictable  distance  milestones.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:97998;left:114"><nobr>Event  Field&nbsp;</nobr></div>
<div style="position:absolute;top:97998;left:278"><nobr>Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:98027;left:114"><nobr>Next  Turn  Distance&nbsp; <font style="font-size:14px">Distance  (meters)  to  the  next  turn.&nbsp;</font></nobr></div>
<div style="position:absolute;top:98060;left:114"><nobr>Next  Turn  Seconds&nbsp; <font style="font-size:14px">Estimated  time  (seconds)  to  the  next  turn.&nbsp;</font></nobr></div>
<div style="position:absolute;top:98104;left:114"><nobr>Next  Turn  Rounded&nbsp;</nobr></div>
<div style="position:absolute;top:98126;left:114"><nobr>Distance&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:98093;left:278"><nobr>Distance  to  the  next  turn,  rounded  and  converted  to  the  units  used&nbsp;</nobr></div>
<div style="position:absolute;top:98116;left:278"><nobr>when  this  distance  is  displayed  by  the  MD  navigation  application.  This&nbsp;</nobr></div>
<div style="position:absolute;top:98138;left:278"><nobr>value  is  scaled  by  1000.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:98170;left:114"><nobr>Rounded  Distance&nbsp;</nobr></div>
<div style="position:absolute;top:98193;left:114"><nobr>Units&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:98182;left:278"><nobr>The  units  used  on  the  <font style="font-size:15px">Next  Turn  Rounded  Distance </font>.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:98222;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:98242;left:108"><nobr>The  MD  sends  distance  values  in  meters  and  may  not  time  distance  events  to  occur  at  round&nbsp;</nobr></div>
<div style="position:absolute;top:98264;left:108"><nobr>number  intervals  (2km,  1km,  500m,  100m,  etc.).The  OS  adaptation  layer  (or  HU)  SHOULD  use&nbsp;</nobr></div>
<div style="position:absolute;top:98287;left:108"><nobr>Next  Turn  Rounded  Distance  to  display  a  distance  value  and  units  consistent  with  the  MD&nbsp;</nobr></div>
<div style="position:absolute;top:98309;left:108"><nobr>navigation  application.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:98347;left:108"><nobr>Next  Turn  Enum&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:98387;left:108"><nobr>MDs  send  next  turn  enum  messages  to  the  HU;  the  next  turn  image  may  have  more&nbsp;</nobr></div>
<div style="position:absolute;top:98409;left:108"><nobr>variations  than  expressed  by  the  next  turn  enum  value.  For  example,  variations  in  the&nbsp;</nobr></div>
<div style="position:absolute;top:98432;left:108"><nobr>sharpness  of  ON_RAMP  turns  may  be  expressed  with  different  images  but  not  be&nbsp;</nobr></div>
<div style="position:absolute;top:98454;left:108"><nobr>distinguished  by  this  enum.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:98509;left:114"><nobr>Enum  Value&nbsp;</nobr></div>
<div style="position:absolute;top:98498;left:374"><nobr>Has&nbsp;</nobr></div>
<div style="position:absolute;top:98521;left:372"><nobr>Side&nbsp;</nobr></div>
<div style="position:absolute;top:98498;left:428"><nobr>Has&nbsp;</nobr></div>
<div style="position:absolute;top:98521;left:419"><nobr>Count&nbsp;</nobr></div>
<div style="position:absolute;top:98509;left:476"><nobr>Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:98565;left:114"><nobr>DEPART&nbsp;</nobr></div>
<div style="position:absolute;top:98565;left:381"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:98565;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:98553;left:476"><nobr>Start  driving.  Used  before  accurate  location&nbsp;</nobr></div>
<div style="position:absolute;top:98576;left:476"><nobr>or  orientation  is  known.&nbsp;</nobr></div>
<div style="position:absolute;top:98608;left:114"><nobr>NAME_CHANGE&nbsp;</nobr></div>
<div style="position:absolute;top:98608;left:381"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:98608;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:98608;left:476"><nobr>Indicate  a  street  name  change  without  turn.&nbsp;</nobr></div>
<div style="position:absolute;top:98641;left:114"><nobr>SLIGHT_TURN&nbsp;</nobr></div>
<div style="position:absolute;top:98641;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:98641;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:98641;left:476"><nobr>Make  a  10-45  degree  turn.&nbsp;</nobr></div>
<div style="position:absolute;top:98694;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:98714;left:730"><nobr>83  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:98779;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="84"><b>Page 84</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:98870;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:98895;left:114"><nobr>TURN&nbsp;</nobr></div>
<div style="position:absolute;top:98895;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:98895;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:98895;left:476"><nobr>Make  a  45-135  degree  turn.&nbsp;</nobr></div>
<div style="position:absolute;top:98928;left:114"><nobr>SHARP_TURN&nbsp;</nobr></div>
<div style="position:absolute;top:98928;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:98928;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:98928;left:476"><nobr>Make  a  135-175  degree  turn.&nbsp;</nobr></div>
<div style="position:absolute;top:98961;left:114"><nobr>U_TURN&nbsp;</nobr></div>
<div style="position:absolute;top:98961;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:98961;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:98961;left:476"><nobr>Make  a  180  degree  turn  onto  same  road.&nbsp;</nobr></div>
<div style="position:absolute;top:98993;left:114"><nobr>ON_RAMP&nbsp;</nobr></div>
<div style="position:absolute;top:98993;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:98993;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:98993;left:476"><nobr>Take  an  on-ramp  onto  a  major  road.&nbsp;</nobr></div>
<div style="position:absolute;top:99026;left:114"><nobr>OFF_RAMP&nbsp;</nobr></div>
<div style="position:absolute;top:99026;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:99026;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:99026;left:476"><nobr>Take  an  off-ramp  from  a  major  road.&nbsp;</nobr></div>
<div style="position:absolute;top:99058;left:114"><nobr>FORK&nbsp;</nobr></div>
<div style="position:absolute;top:99058;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:99058;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:99058;left:476"><nobr>Take  a  fork  while  on  a  ramp.&nbsp;</nobr></div>
<div style="position:absolute;top:99091;left:114"><nobr>MERGE&nbsp;</nobr></div>
<div style="position:absolute;top:99091;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:99091;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:99091;left:476"><nobr>Merge  with  another  road.&nbsp;</nobr></div>
<div style="position:absolute;top:99124;left:114"><nobr>ROUNDABOUT_ENTER&nbsp;</nobr></div>
<div style="position:absolute;top:99124;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:99124;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:99124;left:476"><nobr>Enter  a  large  roundabout.&nbsp;</nobr></div>
<div style="position:absolute;top:99156;left:114"><nobr>ROUNDABOUT_EXIT&nbsp;</nobr></div>
<div style="position:absolute;top:99156;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:99156;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:99156;left:476"><nobr>Exit  a  large  roundabout.&nbsp;</nobr></div>
<div style="position:absolute;top:99200;left:114"><nobr>ROUNDABOUT_ENTER_AND_EXIT&nbsp;</nobr></div>
<div style="position:absolute;top:99200;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:99200;left:419"><nobr>Y/N(*)&nbsp;</nobr></div>
<div style="position:absolute;top:99189;left:476"><nobr>Enter  a  roundabout  then  take  the  nth  exit&nbsp;</nobr></div>
<div style="position:absolute;top:99211;left:476"><nobr>(count  field  may  potentially  be  unset).&nbsp;</nobr></div>
<div style="position:absolute;top:99255;left:114"><nobr>STRAIGHT&nbsp;</nobr></div>
<div style="position:absolute;top:99255;left:381"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:99255;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:99244;left:476"><nobr>Indicates  a  potentially  confusing&nbsp;</nobr></div>
<div style="position:absolute;top:99267;left:476"><nobr>intersection  where  user  goes  straight.&nbsp;</nobr></div>
<div style="position:absolute;top:99299;left:114"><nobr>FERRY_BOAT&nbsp;</nobr></div>
<div style="position:absolute;top:99299;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:99299;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:99299;left:476"><nobr>Board  a  boat  ferry.&nbsp;</nobr></div>
<div style="position:absolute;top:99332;left:114"><nobr>FERRY_TRAIN&nbsp;</nobr></div>
<div style="position:absolute;top:99332;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:99332;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:99332;left:476"><nobr>Board  a  train  ferry.&nbsp;</nobr></div>
<div style="position:absolute;top:99364;left:114"><nobr>DESTINATION&nbsp;</nobr></div>
<div style="position:absolute;top:99364;left:384"><nobr>Y&nbsp;</nobr></div>
<div style="position:absolute;top:99364;left:435"><nobr>N&nbsp;</nobr></div>
<div style="position:absolute;top:99364;left:476"><nobr>Indicated  arrival  at  destination.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:99393;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:99420;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99458;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99496;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99534;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99573;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99611;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99649;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99687;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99726;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99764;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99802;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99882;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:99902;left:730"><nobr>84  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:99967;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="85"><b>Page 85</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:100058;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:100077;left:108"><nobr>Navigation  Data  Example&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:100551;left:540"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:100574;left:108"><nobr><b>Figure  37 </b>.  <font color="#666666">MD  navigation.&nbsp;</font></nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:100607;left:108"><nobr>Accessing  Media  Data&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:100656;left:108"><nobr>If  the  vehicle  includes  native  UIs  that  display  media  playback  status  and/or  enable  browsing&nbsp;</nobr></div>
<div style="position:absolute;top:100678;left:108"><nobr>structured  media  data  (such  as  in  an  instrument  cluster  display),  the  vehicle  can  access&nbsp;</nobr></div>
<div style="position:absolute;top:100701;left:108"><nobr>structured  media  data  for  media  applications  on  the  MD.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:100739;left:108"><nobr>Media  Playback  Status&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:100779;left:108"><nobr>If  the  HU  subscribes  to  media  playback  status,  the  MD  continually  sends  status  notifications&nbsp;</nobr></div>
<div style="position:absolute;top:100801;left:108"><nobr>whenever  media  is  playing.  Notifications  can  include  the  following  data:&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:100846;left:115"><nobr>Field&nbsp;</nobr></div>
<div style="position:absolute;top:100846;left:222"><nobr>Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:100880;left:115"><nobr>State&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:100881;left:222"><nobr>PLAYING,  PAUSED,  STOPPED&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:100915;left:115"><nobr>Source&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:100916;left:222"><nobr>The  name  of  the  audio  (application)  source.  For  example,  “Google  Play&nbsp;</nobr></div>
<div style="position:absolute;top:100938;left:222"><nobr>Music”,  “Pandora”,  “TuneIn  Radio”,  etc.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:100973;left:115"><nobr>Song&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:100973;left:222"><nobr>Name  of  the  current  song/track.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:101008;left:115"><nobr>Artist&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101008;left:222"><nobr>Name  of  the  current  artist.&nbsp;</nobr></div>
<div style="position:absolute;top:101070;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:101090;left:730"><nobr>85  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:101155;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="86"><b>Page 86</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:101246;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:101272;left:115"><nobr>Album&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101272;left:222"><nobr>Name  of  the  current  album,  if  available.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:101307;left:115"><nobr>Album  Art&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101307;left:222"><nobr>PNG  image  of  the  album  art  for  the  currently  playing  track,  if  available.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:101342;left:115"><nobr>Playlist&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101342;left:222"><nobr>Name  of  the  current  playlist,  if  available.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:101377;left:115"><nobr>Duration&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101377;left:222"><nobr>Duration  of  this  track  in  seconds.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:101411;left:115"><nobr>Playback&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101412;left:222"><nobr>Current  progress  in  track  in  seconds.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:101446;left:115"><nobr>Rating&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101447;left:222"><nobr>Rating  on  a  0-5  scale,  if  available.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:101481;left:115"><nobr>Shuffle&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101482;left:222"><nobr>TRUE  if  shuffle  is  selected.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:101516;left:115"><nobr>Repeat&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101517;left:222"><nobr>TRUE  if  repeat  is  selected.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:101551;left:115"><nobr>Repeat  One&nbsp; <font style="font-size:14px">TRUE  if  repeat-one-track  is  selected.&nbsp;</font></nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:101581;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101607;left:108"><nobr>For  details,  refer  to  the  MediaPlaybackStatusEndpoint  interface  in  the <a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"> </a><font color="#3d85c6"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">AAP  receiver  library&nbsp;</a></font></nobr></div>
</span></font>
<font size="3" face="Times" color="#3d85c6"><span style="font-size:14px;font-family:Times;color:#3d85c6">
<div style="position:absolute;top:101629;left:108"><nobr><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api">documentation </a><font color="#434343"><a href="https://sites.google.com/a/google.com/android-auto/documentation/receiver-api"></a>.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:101667;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:101706;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:101706;left:221"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:102258;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:102278;left:730"><nobr>86  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:102343;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="87"><b>Page 87</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:102434;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:102469;left:108"><nobr>Integrating  Vendor  Extension  Channels&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:102525;left:108"><nobr>Android  Auto  Protocol  (AAP)  supports  protocol  extensions  in  vendor-specific  channels  that&nbsp;</nobr></div>
<div style="position:absolute;top:102547;left:108"><nobr>use  AAP  as  a  transport.  Vendor  Extension  Channels  (VEC)  are  completely  opaque  to  AAP,&nbsp;</nobr></div>
<div style="position:absolute;top:102570;left:108"><nobr>which  sends  data  over  the  wire  without  interpreting  bits.  This  section  provides  an  overview  of&nbsp;</nobr></div>
<div style="position:absolute;top:102592;left:108"><nobr>Vendor  Extension  implementation  and  includes  implementation  examples.&nbsp;</nobr></div>
<div style="position:absolute;top:102630;left:108"><nobr>Integrators  (OEMS,  partners)  can  write  proprietary  services  that  run  over  AAP  alongside&nbsp;</nobr></div>
<div style="position:absolute;top:102653;left:108"><nobr>regular  AAP  service  endpoints,  enabling  those  services  to  enjoy  the  benefits  that  AAP&nbsp;</nobr></div>
<div style="position:absolute;top:102675;left:108"><nobr>provides.  Integrators  can  add  multiple  AAP  service  endpoints,  however,  to  prevent&nbsp;</nobr></div>
<div style="position:absolute;top:102698;left:108"><nobr>introduction  of  malware,  they  MUST  add  authentication  and  encryption  to  verify  the&nbsp;</nobr></div>
<div style="position:absolute;top:102720;left:108"><nobr>applications  running  in  the  mobile  device.  (AAP  encrypts  the  data  using  SSL  encrypted  to&nbsp;</nobr></div>
<div style="position:absolute;top:102743;left:108"><nobr>prevent  eavesdropping,  but  integrators  can  add  more  authentication  as  necessary.)  For&nbsp;</nobr></div>
<div style="position:absolute;top:102765;left:108"><nobr>details,  refer  to  the  VendorExtension  interface  in  the  AAP  receiver  library  documentation.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:102803;left:108"><nobr>When  to  Use  VEC&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:102852;left:108"><nobr>The  VEC  is  designed  to  address  custom,  vendor-specific  needs—not  standard  features  such&nbsp;</nobr></div>
<div style="position:absolute;top:102874;left:108"><nobr>as  HVAC  or  FM  radio  common  to  all  modern  vehicles.  For  standard  features,  we  strongly&nbsp;</nobr></div>
<div style="position:absolute;top:102897;left:108"><nobr>encourage  integrators  to  work  with  their  Google  technical  contact  and  the  Google  Android&nbsp;</nobr></div>
<div style="position:absolute;top:102919;left:108"><nobr>Auto  team  to  design  and  develop  applications  that  run  over  normal  AAP  channels.&nbsp; &nbsp;</nobr></div>
<div style="position:absolute;top:102958;left:108"><nobr>For  non-standard  features,  use  VEC  to  enable  proprietary  services  to  run  over  AAP.  Examples:&nbsp;</nobr></div>
<div style="position:absolute;top:102996;left:115"><nobr>● Tunnelling  a  legacy  protocol  through  the  VEC.&nbsp;</nobr></div>
<div style="position:absolute;top:103035;left:115"><nobr>● A  background  service  that  runs  on  the  mobile  device  (MD)  and  collects  data  from  the&nbsp;</nobr></div>
<div style="position:absolute;top:103057;left:142"><nobr>vehicle  even  when  Android  Auto  is  not  projecting  to  the  head  unit  (HU),  then  uploads&nbsp;</nobr></div>
<div style="position:absolute;top:103079;left:142"><nobr>that  data  to  cloud.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:103117;left:108"><nobr>Architecture&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:103166;left:108"><nobr>The  Vendor  Extension  Channel  (VEC)  architecture  requires  that  a  secure  connection  over  SSL&nbsp;</nobr></div>
<div style="position:absolute;top:103188;left:108"><nobr>is  established  for  all  Android  Auto  protocol  traffic,  including  vendor  extension  data.  The  HU&nbsp;</nobr></div>
<div style="position:absolute;top:103211;left:108"><nobr>specifies  the  package  name  of  an  Android  service  or  app  that  is  allowed  to  connect  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:103233;left:108"><nobr>vendor  channel  during  the  Service  Discovery  phase.&nbsp;</nobr></div>
<div style="position:absolute;top:103272;left:108"><nobr>On  the  MD,  when  an  OEM  app  is  started  and  requests  a  VEC  connection,  Android  Auto  checks&nbsp;</nobr></div>
<div style="position:absolute;top:103294;left:108"><nobr>that  the  service  trying  to  connect  to  the  VEC  passes  the  standard  Android  Auto  permissions&nbsp;</nobr></div>
<div style="position:absolute;top:103317;left:108"><nobr>checks  and  has  a  package  name  that  matches  the  one  declared  by  the  HU  vendor  extension&nbsp;</nobr></div>
<div style="position:absolute;top:103339;left:108"><nobr>implementation.&nbsp;</nobr></div>
<div style="position:absolute;top:103446;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:103466;left:730"><nobr>87  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:103531;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="88"><b>Page 88</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:103622;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:104014;left:437"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:104052;left:108"><nobr><b>Figure  38 </b>.  <font color="#666666">VEC  architecture.</font><font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:104085;left:108"><nobr>If  these  criteria  are  satisfied,  the  nominated  OEM  service  can  begin  sending  and  receiving&nbsp;</nobr></div>
<div style="position:absolute;top:104107;left:108"><nobr>data  over  the  VEC.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:104169;left:127"><nobr>NOTE&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:104157;left:200"><nobr>Standard  Android  Auto  permission  checks  are  handled  by  the  Google  Play&nbsp;</nobr></div>
<div style="position:absolute;top:104179;left:200"><nobr>Store  admission  procedure  (not  blacklisted,  etc.)&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:104213;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:104241;left:108"><nobr>Android  Mobile  Device&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:104289;left:108"><nobr>The  MD  is  responsible  for  initiating  the  vendor  channel  connection  (i.e.  the  device  is  master).&nbsp;</nobr></div>
<div style="position:absolute;top:104311;left:108"><nobr>An  OEM  application  on  the  device  requests  the  vendor  extension  via  an  OEM-implemented&nbsp;</nobr></div>
<div style="position:absolute;top:104334;left:108"><nobr>service.  Multiple  VECs  can  be  active  at  the  same  time.  Because  each  VEC  is  opaque  to  Google,&nbsp;</nobr></div>
<div style="position:absolute;top:104356;left:108"><nobr>it  is  up  to  the  OEM  application  to  multiplex  usage  of  each  individual  channel  among  various&nbsp;</nobr></div>
<div style="position:absolute;top:104379;left:108"><nobr>clients.  We  recommend:&nbsp;</nobr></div>
<div style="position:absolute;top:104417;left:115"><nobr>● Only  one  (1)  Android  service  interacts  directly  with  any  given  channel.&nbsp;</nobr></div>
<div style="position:absolute;top:104455;left:115"><nobr>● The  Android  service  provides  an  interface  that  enables  multiple  apps  to  use  the  VEC.&nbsp;</nobr></div>
<div style="position:absolute;top:104493;left:108"><nobr>The  Google  Play  Store  manages  access  to  Android  Auto  APIs  by  mobile  applications  on&nbsp;</nobr></div>
<div style="position:absolute;top:104516;left:108"><nobr>consumer  devices.  For  testing  and  development  purposes,  OEMs  can  ask  their  Google&nbsp;</nobr></div>
<div style="position:absolute;top:104538;left:108"><nobr>technical  contact  to  whitelist  devices.&nbsp;</nobr></div>
<div style="position:absolute;top:104634;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:104654;left:730"><nobr>88  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:104719;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="89"><b>Page 89</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:104810;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:104829;left:108"><nobr>Using  Verification  Certificates&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:104869;left:108"><nobr>The  RECOMMENDED  approach  of  using  a  single  Android  service  to  manage  applications'&nbsp;</nobr></div>
<div style="position:absolute;top:104892;left:108"><nobr>access  to  the  VEC  requires  the  service  to  verify  the  signing  signature  of  each  app  that&nbsp;</nobr></div>
<div style="position:absolute;top:104914;left:108"><nobr>requests  VEC  access.  VEC  access  SHOULD  be  granted  only  to  apps  that  are  signed  with  the&nbsp;</nobr></div>
<div style="position:absolute;top:104937;left:108"><nobr>OEM  certificate,  thus  preventing  access  by  unauthorized  applications.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:104975;left:108"><nobr>To  limit  VEC  connections  to  your  own  applications,  define  a  <font style="font-size:12px">&lt;permission&gt;&nbsp;</font>with&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:105001;left:108"><nobr>android:protectionLevel=signature&nbsp;<font style="font-size:14px">and  protect  the  VEC  service/provider  with  that&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:105020;left:108"><nobr>permission.&nbsp;</nobr></div>
<div style="position:absolute;top:105058;left:108"><nobr>The  OEM  Service  can  use  <font style="font-size:12px">PackageManager.getPackageInfo()&nbsp;</font>to  access  a  hash  of  an  APK&nbsp;</nobr></div>
<div style="position:absolute;top:105081;left:108"><nobr>signing  signature,  then  compare  this  with  a  known  hash  of  the  OEM  certificate  held  within&nbsp;</nobr></div>
<div style="position:absolute;top:105103;left:108"><nobr>the  service.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:105141;left:108"><nobr>Sample  Applications&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:105181;left:108"><nobr>The  Android  Auto  repository  includes  basic  vendor  extension  examples  that  echo  input.  On&nbsp;</nobr></div>
<div style="position:absolute;top:105203;left:108"><nobr>the  <b>MD </b>,  refer  to  <font style="font-size:12px">//vendor/auto/kitchen_sink/echo­vendor&nbsp;</font></nobr></div>
<div style="position:absolute;top:105203;left:545"><nobr>.  On  the  <b>HU </b>,  refer  to:&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:105242;left:115"><nobr>● android­protocol­lib/jni/com_google_android_projection_protocol_VendorExtension</nobr></div>
<div style="position:absolute;top:105265;left:142"><nobr>Base.cpp&nbsp;</nobr></div>
<div style="position:absolute;top:105290;left:115"><nobr>● android­protocol­lib/src/com/google/android/projection/protocol/VendorExtension</nobr></div>
<div style="position:absolute;top:105313;left:142"><nobr>Base.java&nbsp;</nobr></div>
<div style="position:absolute;top:105339;left:115"><nobr>● android­protocol­lib/src/com/google/android/projection/protocol/EchoVendorExten</nobr></div>
<div style="position:absolute;top:105361;left:142"><nobr>sion.java&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:105394;left:108"><nobr>Head  Unit&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:105442;left:108"><nobr>On  the  head  unit,  vendor  channels  MUST  subclass  <font style="font-size:12px">VendorExtension&nbsp;</font>and&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:105468;left:108"><nobr>IVendorExtensionCallbacks&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:105464;left:314"><nobr>.  When  subclassing  <font style="font-size:12px">VendorExtension&nbsp;</font></nobr></div>
<div style="position:absolute;top:105464;left:583"><nobr>,  implement  the  pure  virtual&nbsp;</nobr></div>
<div style="position:absolute;top:105487;left:108"><nobr>function  <font style="font-size:12px">VendorExtension::addDiscoveryInfo()&nbsp;</font></nobr></div>
<div style="position:absolute;top:105487;left:462"><nobr>.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:105525;left:108"><nobr>Sample  Implementation&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:105564;left:108"><nobr>This  section  provides  pseudocode  for  the  above  implementation.  It  defines  the  vendor&nbsp;</nobr></div>
<div style="position:absolute;top:105587;left:108"><nobr>extension  in  native  code;  <font style="font-size:12px">EchoVendorExtension.java&nbsp;</font>does  the  same  thing  in  Java.&nbsp;</nobr></div>
<div style="position:absolute;top:105625;left:108"><nobr>First,  subclass  <font style="font-size:12px">VendorExtension&nbsp;</font>into  your  own  vendor  extension  class  (where&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:105652;left:108"><nobr>com.vendorname.servicename&nbsp;<font style="font-size:14px">is  the  name  used  when  accessing  the  VEC):&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:105822;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:105842;left:730"><nobr>89  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:105907;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="90"><b>Page 90</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:105998;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:106025;left:113"><nobr>class&nbsp;&nbsp;SampleVendorExtension&nbsp;&nbsp;:&nbsp;&nbsp;public&nbsp;&nbsp;VendorExtension&nbsp;&nbsp;{&nbsp;</nobr></div>
<div style="position:absolute;top:106047;left:167"><nobr>void&nbsp;&nbsp;SampleVendorExtension::addDiscoveryInfo(ServiceDiscoveryResponse*&nbsp;&nbsp;sdr)&nbsp;</nobr></div>
<div style="position:absolute;top:106065;left:167"><nobr>{&nbsp;</nobr></div>
<div style="position:absolute;top:106065;left:290"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:106083;left:167"><nobr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Service*&nbsp;&nbsp;service&nbsp;&nbsp;=&nbsp;&nbsp;sdr­&gt;add_services();&nbsp;</nobr></div>
<div style="position:absolute;top:106101;left:167"><nobr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;service­&gt;set_id(id());&nbsp;</nobr></div>
<div style="position:absolute;top:106119;left:167"><nobr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VendorExtensionService*&nbsp;&nbsp;ves&nbsp;&nbsp;=&nbsp;</nobr></div>
<div style="position:absolute;top:106137;left:167"><nobr>service­&gt;mutable_vendor_extension_service();&nbsp;</nobr></div>
<div style="position:absolute;top:106137;left:711"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:106155;left:167"><nobr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ves­&gt;set_service_name("&nbsp;</nobr></div>
<div style="position:absolute;top:106155;left:389"><nobr><b>com.vendorname.servicename&nbsp;</b></nobr></div>
<div style="position:absolute;top:106155;left:603"><nobr>");&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:106173;left:167"><nobr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ves­&gt;add_package_white_list("com.oem.application.one");&nbsp;</nobr></div>
<div style="position:absolute;top:106173;left:760"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:106191;left:167"><nobr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ves­&gt;add_package_white_list("com.oem.application.two");&nbsp;</nobr></div>
<div style="position:absolute;top:106209;left:167"><nobr>}&nbsp;</nobr></div>
<div style="position:absolute;top:106230;left:113"><nobr>}<font color="#38761d">&nbsp;</font></nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:106253;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:106279;left:108"><nobr>Next,  subclass  <font style="font-size:12px">IVendorExtensionCallbacks&nbsp;</font>to  respond  to  data  received  from  the  MD.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:106321;left:113"><nobr>class&nbsp;&nbsp;SampleVendorExtensionCallbacks&nbsp;&nbsp;:&nbsp;&nbsp;public&nbsp;&nbsp;IVendorExtensionCallbacks&nbsp;&nbsp;{&nbsp;</nobr></div>
<div style="position:absolute;top:106342;left:167"><nobr>//&nbsp;&nbsp;This&nbsp;&nbsp;method&nbsp;&nbsp;gets&nbsp;&nbsp;called&nbsp;&nbsp;when&nbsp;&nbsp;the&nbsp;&nbsp;mobile&nbsp;&nbsp;device&nbsp;&nbsp;sends&nbsp;&nbsp;the&nbsp;&nbsp;HU&nbsp;&nbsp;data.&nbsp;</nobr></div>
<div style="position:absolute;top:106364;left:167"><nobr>int&nbsp;&nbsp;dataAvailable(uint8_t*&nbsp;&nbsp;data,&nbsp;&nbsp;size_t&nbsp;&nbsp;len)&nbsp;&nbsp;{&nbsp;</nobr></div>
<div style="position:absolute;top:106385;left:221"><nobr>//&nbsp;&nbsp;Do&nbsp;&nbsp;something&nbsp;&nbsp;when&nbsp;&nbsp;the&nbsp;&nbsp;data&nbsp;&nbsp;is&nbsp;&nbsp;available.&nbsp;&nbsp;For&nbsp;&nbsp;example&nbsp;&nbsp;send&nbsp;&nbsp;it&nbsp;&nbsp;back&nbsp;</nobr></div>
<div style="position:absolute;top:106403;left:221"><nobr>using&nbsp;&nbsp;sendData.&nbsp;</nobr></div>
<div style="position:absolute;top:106425;left:221"><nobr>mVendorExtension­&gt;sendData(data,&nbsp;&nbsp;len);&nbsp;</nobr></div>
<div style="position:absolute;top:106446;left:167"><nobr>}&nbsp;</nobr></div>
<div style="position:absolute;top:106467;left:113"><nobr>}<font color="#38761d">&nbsp;</font></nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:106490;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:106510;left:108"><nobr>Finally,  register  your  vendor  extension  like  any  other  service  during  the  initialization&nbsp;</nobr></div>
<div style="position:absolute;top:106530;left:108"><nobr>sequence.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:106572;left:113"><nobr>galReceiver­&gt;init();&nbsp;</nobr></div>
<div style="position:absolute;top:106592;left:113"><nobr>...&nbsp;&nbsp;Initialization&nbsp;&nbsp;code&nbsp;&nbsp;...&nbsp;</nobr></div>
<div style="position:absolute;top:106612;left:113"><nobr>VendorExtension*&nbsp;&nbsp;endpoint&nbsp;&nbsp;=&nbsp;&nbsp;new&nbsp;&nbsp;SampleVendorExtension(serviceId,&nbsp;</nobr></div>
<div style="position:absolute;top:106633;left:113"><nobr>galReceiver­&gt;messageRouter());&nbsp;</nobr></div>
<div style="position:absolute;top:106669;left:113"><nobr>SampleVendorExtensionCallbacks*&nbsp;&nbsp;callbacks&nbsp;&nbsp;=&nbsp;&nbsp;new&nbsp;&nbsp;SampleVendorExtension(endpoint);&nbsp;</nobr></div>
<div style="position:absolute;top:106689;left:113"><nobr>endpoint­&gt;registerCallbacks(callbacks);&nbsp;</nobr></div>
<div style="position:absolute;top:106709;left:113"><nobr>galReceiver­&gt;registerService(endpoint);&nbsp;</nobr></div>
<div style="position:absolute;top:106729;left:113"><nobr>...&nbsp;&nbsp;Other&nbsp;&nbsp;Initialization&nbsp;&nbsp;code&nbsp;&nbsp;...&nbsp;</nobr></div>
<div style="position:absolute;top:106750;left:113"><nobr>galReceiver­&gt;start();<font color="#38761d">&nbsp;</font></nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:106787;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:106807;left:108"><nobr>On  the  MD,  a  single  Android  service  SHOULD  handle  the  VEC  data  processing,  irrespective  of&nbsp;</nobr></div>
<div style="position:absolute;top:106830;left:108"><nobr>the  number  of  OEM  apps  that  may  ultimately  consume  the  data.  The  HU  vendor  MUST&nbsp;</nobr></div>
<div style="position:absolute;top:106852;left:108"><nobr>determine  the   package  name  of  this  service  in  advance  and  set  in  the  HU&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:106879;left:108"><nobr>VendorExtension::addDiscoveryInfo()&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:106875;left:397"><nobr>,  which  corresponds  to  the  <font style="font-size:12px">add_package_white_list()</font>&nbsp;</nobr></div>
<div style="position:absolute;top:106897;left:108"><nobr>call  in  the  example.  The  <font style="font-size:12px">dataAvailable()&nbsp;</font>callback  is  executed  when  data  is  received  from  the&nbsp;</nobr></div>
<div style="position:absolute;top:106920;left:108"><nobr>MD  via  the  VEC.  To  respond,  the  HU  SHOULD  call  <font style="font-size:12px">sendData()&nbsp;</font></nobr></div>
<div style="position:absolute;top:106920;left:554"><nobr>.&nbsp;</nobr></div>
<div style="position:absolute;top:107010;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:107030;left:730"><nobr>90  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:107095;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="91"><b>Page 91</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:107186;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:107205;left:108"><nobr>Use  Cases&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:107254;left:108"><nobr>The  following  use  cases  assume  the  user  has  installed  the  OEM  app  on  the  MD  and  granted&nbsp;</nobr></div>
<div style="position:absolute;top:107277;left:108"><nobr>permission  to  access  car  data  through  the  Google  Play  Store  Install  App  permissions  screen.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:107314;left:108"><nobr>Autostart  Application&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:107354;left:108"><nobr>When  an  MD  connects  to  an  HU  that  supports  Android  Auto,  the  OEM  can  automatically  start&nbsp;</nobr></div>
<div style="position:absolute;top:107377;left:108"><nobr>a  telematics  or  similar  app.  This  app  does  not  have  a  usable  interface  on  the  device  because&nbsp;</nobr></div>
<div style="position:absolute;top:107399;left:108"><nobr>of  the  Android  Auto  lock  screen,  but  the  app  could,  for  example,  launch  an  app-based&nbsp;</nobr></div>
<div style="position:absolute;top:107422;left:108"><nobr>service.  The  app  could  then  perform  a  background  action  such  as  collect  data  from  the  HU&nbsp;</nobr></div>
<div style="position:absolute;top:107444;left:108"><nobr>over  the  VEC  and  send  it  off  to  a  cloud  store  for  the  user  to  view  later.&nbsp;</nobr></div>
<div style="position:absolute;top:107482;left:108"><nobr>Autostart  includes  two  steps:&nbsp;</nobr></div>
<div style="position:absolute;top:107521;left:115"><nobr>1. On  the  HU,  determine  whether  the  MD  is  Android  Auto  compatible.&nbsp;</nobr></div>
<div style="position:absolute;top:107559;left:115"><nobr>2. On  the  MD,  initialize  the  VEC  and  auto-start  the  correct  app.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:107597;left:108"><nobr><b>Determine  Android  Auto  Compatibility&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:107635;left:115"><nobr>1. HU  sends  the  Android  Auto  AOA  string.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:107674;left:115"><nobr>2. If  the  MD  responds  in  AOA  Accessory  mode,  it’s  an  Android  device.&nbsp;</nobr></div>
<div style="position:absolute;top:107712;left:115"><nobr>3. HU  begins  Android  Auto  connection.&nbsp;</nobr></div>
<div style="position:absolute;top:107750;left:115"><nobr>4. Does  the  MD  send  a  ByeBye  message  over  the  Android  Auto  protocol?&nbsp;</nobr></div>
<div style="position:absolute;top:107789;left:142"><nobr>○ If  NO,  the  device  supports  Android  Auto.  Begin <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#91"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#91">initializing  the  VEC</a> </font><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#91"></a>.&nbsp;</nobr></div>
<div style="position:absolute;top:107827;left:142"><nobr>○ If  YES,  it’s  common  to  re-establish  an  AOA/USB  connection  to  the  MD  for  another&nbsp;</nobr></div>
<div style="position:absolute;top:107849;left:169"><nobr>purpose,  such  as  connecting  the  HU  directly  to  a  telemetry  app  already  on  the  MD.&nbsp;</nobr></div>
<div style="position:absolute;top:107887;left:187"><nobr>i.</nobr></div>
<div style="position:absolute;top:107887;left:223"><nobr>MD  sends  ByeBye  message  over  Android  Auto  protocol.  Because  the  AA&nbsp;</nobr></div>
<div style="position:absolute;top:107910;left:223"><nobr>protocol  is  implemented  in  Google  Play  Services,  the  ByeBye  message  is  sent&nbsp;</nobr></div>
<div style="position:absolute;top:107932;left:223"><nobr>even  from  devices  running  older  versions  of  Android.&nbsp;</nobr></div>
<div style="position:absolute;top:107971;left:183"><nobr>ii.</nobr></div>
<div style="position:absolute;top:107971;left:223"><nobr>Reset  USB  on  the  HU.  This  allows  the  HU  and  MD  to  reconnect  without&nbsp;</nobr></div>
<div style="position:absolute;top:107993;left:223"><nobr>Android  Auto  AOA  mode.&nbsp;</nobr></div>
<div style="position:absolute;top:108031;left:179"><nobr>iii.</nobr></div>
<div style="position:absolute;top:108031;left:223"><nobr>HU  sends  alternate  AOA  string  to  connect  directly  to  the  app  on  the  MD.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#616161"><span style="font-size:14px;font-family:Times;color:#616161">
<div style="position:absolute;top:108070;left:108"><nobr><b>Initialize  Vendor  Extension  Channel&nbsp;</b></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:108108;left:108"><nobr>After  validating  the  MD  as  Android  Auto  compatible,  you  can  initialize  the  VEC.  Vendor&nbsp;</nobr></div>
<div style="position:absolute;top:108130;left:108"><nobr>Extension  Channels  MUST  be  pre-built  into  the  HU,  so  initialization  tasks  occur  exclusively  on&nbsp;</nobr></div>
<div style="position:absolute;top:108153;left:108"><nobr>the  MD.  The  communication  is  between  the  Android  Auto  CarService  component  and  the&nbsp;</nobr></div>
<div style="position:absolute;top:108198;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:108218;left:730"><nobr>91  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:108283;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="92"><b>Page 92</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:108374;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:108394;left:108"><nobr>OEM  App.  Before  starting,  ensure:&nbsp;</nobr></div>
<div style="position:absolute;top:108432;left:115"><nobr>● The  OEM  application  package  name  is  in  the  package  whitelist  of  a  VEC  on  the  HU.  The&nbsp;</nobr></div>
<div style="position:absolute;top:108454;left:142"><nobr>whitelist  ensures  that  OEM  X  application  will  be  allowed  to  communicate  over  the  VEC&nbsp;</nobr></div>
<div style="position:absolute;top:108477;left:142"><nobr>for  the  OEM  X  HU,  but  not  with  OEM  Y  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:108516;left:115"><nobr>● OEM  application  listens  for  the  VENDOR_CHANNEL_READY  broadcast  and  declares  the&nbsp;</nobr></div>
<div style="position:absolute;top:108538;left:142"><nobr>permission  Car.PERMISSION_VENDOR_EXTENSION  in  its  manifest.&nbsp;</nobr></div>
<div style="position:absolute;top:108576;left:108"><nobr>During  initialization,  the  following  events  occur:&nbsp;</nobr></div>
<div style="position:absolute;top:108614;left:115"><nobr>1. CarService  sends  a  broadcast  announcing  VENDOR_CHANNEL_READY  to  each  package  on&nbsp;</nobr></div>
<div style="position:absolute;top:108637;left:142"><nobr>the  channel’s  whitelist .&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:108636;left:306"><nobr>10</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:108675;left:142"><nobr>○ Any  app  that  receives  the  Directed  Broadcast  will  be  <b>automatically  started </b>by&nbsp;</nobr></div>
<div style="position:absolute;top:108697;left:169"><nobr>Android,  even  if  the  app  is  not  yet  running.&nbsp;</nobr></div>
<div style="position:absolute;top:108736;left:142"><nobr>○ If  an  app  that  is  not  whitelisted  to  open  the  VEC  attempts  to  open  the  VEC,  the&nbsp;</nobr></div>
<div style="position:absolute;top:108758;left:169"><nobr>CarVendorExtensionManager  throws  a  SecurityException.&nbsp;</nobr></div>
<div style="position:absolute;top:108796;left:115"><nobr>2. OEM  App  responds  by  establishing  a  client  connection  to  Car  API  in  Google  Play&nbsp;</nobr></div>
<div style="position:absolute;top:108819;left:142"><nobr>Services:  <font style="font-size:12px">mCVEM&nbsp;&nbsp;=&nbsp;&nbsp;Car.CarApi.getCarVendorExtensionManager(mCarApiClient,&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:12px;font-family:Times;color:#434343">
<div style="position:absolute;top:108844;left:142"><nobr>SERVICE_NAME);&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:108877;left:115"><nobr>3. OEM  App  registers  a  listener  on  the  CarVendorExtensionManager  which  calls  onData()  in&nbsp;</nobr></div>
<div style="position:absolute;top:108900;left:142"><nobr>the  listener  when  data  arrives.&nbsp;</nobr></div>
<div style="position:absolute;top:108938;left:115"><nobr>4. HU  and  OEM  App  begin  sharing  data  over  the  VEC.  The  CarVendorExtensionManager  has&nbsp;</nobr></div>
<div style="position:absolute;top:108961;left:142"><nobr>a  sendData()  call  for  sending  data.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:108999;left:108"><nobr>Frequently  Asked  Questions&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:109047;left:108"><nobr><b>Can  a  specific  app  on  the  MD  be  started  automatically  when  connected  to  the  HU?&nbsp;</b></nobr></div>
<div style="position:absolute;top:109086;left:108"><nobr>Yes.  See <a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#91"> </a><font color="#3d85c6"><a href="https://milek7.pl/.stuff/galdocs/huig13_cache.html#91">Autostart  Application</a> </font>.&nbsp;</nobr></div>
<div style="position:absolute;top:109124;left:108"><nobr><b>Can  an  OEM  app  on  the  MD  display  on  the  phone  screen  while  Android  Auto  is  active?&nbsp;</b></nobr></div>
<div style="position:absolute;top:109162;left:108"><nobr>No.  An  active  Android  Auto  connection  avoids  distracting  situations  by  displaying  a  lock&nbsp;</nobr></div>
<div style="position:absolute;top:109185;left:108"><nobr>screen  on  the  MD.  Instead,  the  application  SHOULD  use  the  OEM  SDK  to  display  a  native&nbsp;</nobr></div>
<div style="position:absolute;top:109207;left:108"><nobr>Android  Auto  experience  on  the  head  unit  display  or  run  in  a  service  mode  to  gather&nbsp;</nobr></div>
<div style="position:absolute;top:109230;left:108"><nobr>information  that  drivers  can  look  at  after  they  disconnect  their  MD  from  the  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:109268;left:108"><nobr><b>Can  one  Vendor  Extension  Channel  support  more  than  one  app?&nbsp;</b></nobr></div>
<div style="position:absolute;top:109306;left:108"><nobr>AAP  does  not  handle  multiplexing  over  the  Vendor  Extension  Channel.  For  this  reason,&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:5px;font-family:Times;color:#434343">
<div style="position:absolute;top:109347;left:108"><nobr>10<font style="font-size:9px">As  of  Google  Play  Services  version  7.8,  the  VEC  is  not  identified  by  name  to  the  package.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:109386;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:109406;left:730"><nobr>92  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:109471;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="93"><b>Page 93</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:109562;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:109582;left:108"><nobr>Google  recommends  that  OEMs  create  a  service  app  on  the  device  that  handles  all&nbsp;</nobr></div>
<div style="position:absolute;top:109604;left:108"><nobr>communications  with  a  given  VEC,  and  that  this  service  app  handles  one-to-many&nbsp;</nobr></div>
<div style="position:absolute;top:109627;left:108"><nobr>communications  between  the  VEC  and  other  apps  on  the  phone.   Note  also  that  multiple&nbsp;</nobr></div>
<div style="position:absolute;top:109649;left:108"><nobr>VECs  can  exist  in  parallel.&nbsp;</nobr></div>
<div style="position:absolute;top:109687;left:108"><nobr><b>How  does  an  OEM-specific  app  get  installed  when  a  specific  VEC  is  detected  on  the  HU?&nbsp;</b></nobr></div>
<div style="position:absolute;top:109726;left:108"><nobr>Auto-detecting  the  correct  app  to  install  from  the  Google  Play  Store  is  not  yet  supported.&nbsp;</nobr></div>
<div style="position:absolute;top:109748;left:108"><nobr>Users  of  the  OEM  app  MUST  install  the  app  themselves.  Google  plans  to  add  this  capability  in&nbsp;</nobr></div>
<div style="position:absolute;top:109771;left:108"><nobr>a  future  release  of  Google  Play  Services.  For  users,  the  likely  flow  will  be  to  ask  them  during&nbsp;</nobr></div>
<div style="position:absolute;top:109793;left:108"><nobr>the  first-run  experience  whether  they’d  like  to  install  the  appropriate  OEM  app.&nbsp;</nobr></div>
<div style="position:absolute;top:109831;left:108"><nobr><b>How  should  the  OEM-specific  app  react  when  the  VEC  is  closed?  Is  the  response&nbsp;</b></nobr></div>
<div style="position:absolute;top:109854;left:108"><nobr><b>different  for  typical  cases  (such  as  an  unplugged  USB  cable)  vs.  atypical  cases  (such  as&nbsp;</b></nobr></div>
<div style="position:absolute;top:109876;left:108"><nobr><b>the  Android  Auto  app  on  the  phone  crashes)?&nbsp;</b></nobr></div>
<div style="position:absolute;top:109915;left:108"><nobr>Retry  and  disconnect  logic  SHOULD  be  part  of  any  app  that  communicates  with  a  data  service&nbsp;</nobr></div>
<div style="position:absolute;top:109937;left:108"><nobr>like  the  VEC.  An  OEM  SHOULD  decide  how  to  deal  with  each  case;  the  Android  Auto  Protocol&nbsp;</nobr></div>
<div style="position:absolute;top:109960;left:108"><nobr>simply  provides  an  opaque  transport  for  data.  For  example,  if  AAP  is  not  available  because  of&nbsp;</nobr></div>
<div style="position:absolute;top:109982;left:108"><nobr>a  failure  in  the  Head  Unit  OS  Abstraction  Layer,  an  OEM  telemetry  app  may  switch  to  a&nbsp;</nobr></div>
<div style="position:absolute;top:110005;left:108"><nobr>different  communication  method,  e.g.,  data  over  Bluetooth,  legacy  protocol  over  USB,&nbsp;</nobr></div>
<div style="position:absolute;top:110027;left:108"><nobr>different  AOA  ID  over  USB.&nbsp;</nobr></div>
<div style="position:absolute;top:110065;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:110104;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:110142;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:110188;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:110252;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:110252;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:110574;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:110594;left:730"><nobr>93  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:110659;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="94"><b>Page 94</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:110750;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:110777;left:108"><nobr>Integrating  Radio&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:110834;left:108"><nobr>Radio  is  a  new,  OPTIONAL  API  added  in  AAP  v1.2  that  enables  control  the  vehicle  radio  from&nbsp;</nobr></div>
<div style="position:absolute;top:110856;left:108"><nobr>within  AAP.  Users  do  not  need  to  exit  the  Android  Auto  experience  to  access  radio  playback&nbsp;</nobr></div>
<div style="position:absolute;top:110879;left:108"><nobr>control  via  the  native  head  unit  (HU)  user  interface.  In  a  high  level  view  of  the  radio  control&nbsp;</nobr></div>
<div style="position:absolute;top:110901;left:108"><nobr>flow  from  AAP  to  the  HU  Radio,  the  HU  plays  radio  audio  directly  (audio  stream  does  not  get&nbsp;</nobr></div>
<div style="position:absolute;top:110924;left:108"><nobr>routed  to  the  MD).  To  enable  Radio  API  for  AAP,  integrators  SHOULD  implement&nbsp;</nobr></div>
<div style="position:absolute;top:110946;left:108"><nobr>RadioEndpoint  and  RadioCallbacks  in  the  Receiver  Library.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:110984;left:108"><nobr>Radio  Service  Discovery&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111033;left:108"><nobr>During  service  discovery  (performed  on  each  MD  connection),  HUs  that  support  the  Radio&nbsp;</nobr></div>
<div style="position:absolute;top:111055;left:108"><nobr>API  MUST  include  radio  service  as  part  of  the  discovery  response.  This  process  tells  AAP  that&nbsp;</nobr></div>
<div style="position:absolute;top:111078;left:108"><nobr>the  radio  API  can  be  used.  The  service  discovery  response  contains  a  message  that  describes&nbsp;</nobr></div>
<div style="position:absolute;top:111100;left:108"><nobr>the  HU’s  radio  properties.  The  properties  advertised  by  the  HU  are  used  by  AAP  to  determine&nbsp;</nobr></div>
<div style="position:absolute;top:111123;left:108"><nobr>available  types  (AM/FM,  HD,  etc)  and  the  features  to  enable  in  the  radio  app.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:111161;left:108"><nobr>Radio  Properties&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111201;left:108"><nobr>The  HU  notifies  the  MD  of  the  Radio  properties  the  HU  supports  using  a  RadioProperties&nbsp;</nobr></div>
<div style="position:absolute;top:111223;left:108"><nobr>instance,  defined  for  each  radio  type  supported  by  the  HU.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:111267;left:114"><nobr>RadioProperties  Field&nbsp; Description&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111309;left:114"><nobr>RadioType&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111300;left:290"><nobr>Type  of  Radio:  AM,  FM,  AM_HD,  FM_HD,  DAB  or  XM  (Only  AM  and  FM&nbsp;</nobr></div>
<div style="position:absolute;top:111320;left:290"><nobr>are  currently  supported).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111350;left:114"><nobr>Range&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111350;left:290"><nobr>Min  and  Max  supported  frequency  values.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111390;left:114"><nobr>channel_spacings&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111381;left:290"><nobr>All  supported  channel  spacing  configurations  (resolution  of  a&nbsp;</nobr></div>
<div style="position:absolute;top:111401;left:290"><nobr>frequency  step).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111431;left:114"><nobr>channel_spacing&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111431;left:290"><nobr>Current  channel  spacing.&nbsp; &nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111461;left:114"><nobr>background_tuner&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111462;left:290"><nobr>Indicates  if  a  background  tuner  is  available  (for  background  scans).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111491;left:114"><nobr>RadioRegion&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111492;left:290"><nobr>Radio  region.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111532;left:114"><nobr>RdsType&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111522;left:290"><nobr>RDS  (Radio  Data  System)  Type.  Also  known  as  Radio  Broadcast  Data&nbsp;</nobr></div>
<div style="position:absolute;top:111543;left:290"><nobr>System  (RBDS)  in  the  US.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111572;left:114"><nobr>af&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111573;left:290"><nobr>Alternative  frequency  switching  (RDS)  support.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111603;left:114"><nobr>ta&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111603;left:290"><nobr>Traffic  announcements  (RDS)  support.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111633;left:114"><nobr>TrafficService&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111634;left:290"><nobr>Indicates  if  traffic  service  available.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111664;left:114"><nobr>mute_capability&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111664;left:290"><nobr>Indicates  if  “radio  only”  muting  is  supported.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:111694;left:114"><nobr>radio_state&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111694;left:290"><nobr>The  state  of  the  radio  at  the  time  when  MD  connected  to  HU.&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:111720;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:111762;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:111782;left:730"><nobr>94  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:111847;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="95"><b>Page 95</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:111938;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:111973;left:108"><nobr>Messaging  Between  HU  and  MD&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:112021;left:108"><nobr>Messages  passed  between  the  HU  and  MD  consist  of  requests  from  the  MD,  corresponding&nbsp;</nobr></div>
<div style="position:absolute;top:112043;left:108"><nobr>responses  from  the  HU,  and  notifications  from  the  HU  when  state  changes.  For  an  overview&nbsp;</nobr></div>
<div style="position:absolute;top:112066;left:108"><nobr>of  messages,  see  below;  for  specific  parameter  values,  refer  to  the  Receiver  Library  source.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:112110;left:114"><nobr>Function&nbsp;</nobr></div>
<div style="position:absolute;top:112110;left:259"><nobr>Message&nbsp;</nobr></div>
<div style="position:absolute;top:112110;left:519"><nobr>Details&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:112161;left:114"><nobr>Radio  Source&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:112143;left:264"><nobr>● EnableRadioSourceRequest&nbsp;</nobr></div>
<div style="position:absolute;top:112173;left:264"><nobr>● EnableRadioSourceResponse&nbsp;</nobr></div>
<div style="position:absolute;top:112157;left:519"><nobr>Enables  radio  sources.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:112250;left:114"><nobr>Active  Radio&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:112231;left:264"><nobr>● SelectActiveRadioRequest&nbsp;</nobr></div>
<div style="position:absolute;top:112262;left:264"><nobr>● ActiveRadioNotification&nbsp;</nobr></div>
<div style="position:absolute;top:112213;left:519"><nobr>Changes  active  radio  (i.e.  from  FM  to&nbsp;</nobr></div>
<div style="position:absolute;top:112236;left:519"><nobr>AM).  HU  SHOULD  tune  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:112258;left:519"><nobr>previously  set  station  for  the  specified&nbsp;</nobr></div>
<div style="position:absolute;top:112281;left:519"><nobr>radio.&nbsp;&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:112346;left:114"><nobr>Step  Channel&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:112328;left:264"><nobr>● StepChannelRequest&nbsp;</nobr></div>
<div style="position:absolute;top:112359;left:264"><nobr>● StepChannelResponse&nbsp;</nobr></div>
<div style="position:absolute;top:112321;left:519"><nobr>Steps  radio  channel  up  and  down.  Step&nbsp;</nobr></div>
<div style="position:absolute;top:112344;left:519"><nobr>resolution  is  determined  by  the&nbsp;</nobr></div>
<div style="position:absolute;top:112366;left:519"><nobr>channel  spacing  of  the  band. <font style="font-size:7px">†</font>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:112425;left:114"><nobr>Seek&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:112407;left:264"><nobr>● SeekStationRequest&nbsp;</nobr></div>
<div style="position:absolute;top:112437;left:264"><nobr>● SeekStationResponse&nbsp;</nobr></div>
<div style="position:absolute;top:112421;left:519"><nobr>Seeks  next  station  (up  or  down). <font style="font-size:7px">†</font>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:112503;left:114"><nobr>Scan&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:112485;left:264"><nobr>● ScanStationsRequest&nbsp;</nobr></div>
<div style="position:absolute;top:112515;left:264"><nobr>● ScanStationsResponse&nbsp;</nobr></div>
<div style="position:absolute;top:112477;left:519"><nobr>Scans  available  stations  while&nbsp;</nobr></div>
<div style="position:absolute;top:112500;left:519"><nobr>previewing  each  station  for  an  interval&nbsp;</nobr></div>
<div style="position:absolute;top:112522;left:519"><nobr>of  time,  until  user  stops  scan. <font style="font-size:7px">†</font>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:112582;left:114"><nobr>Tune  to  Station&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:112563;left:264"><nobr>● TuneToStationRequest&nbsp;</nobr></div>
<div style="position:absolute;top:112594;left:264"><nobr>● TuneToStationResponse&nbsp;</nobr></div>
<div style="position:absolute;top:112566;left:519"><nobr>Tunes  to  specified  band/channel/HD&nbsp;</nobr></div>
<div style="position:absolute;top:112589;left:519"><nobr>station  (if  supported). <font style="font-size:7px">†</font>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:112648;left:114"><nobr>Station  Info&nbsp;</nobr></div>
<div style="position:absolute;top:112670;left:114"><nobr>Notification&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:112657;left:264"><nobr>● RadioStationInfoNotification&nbsp;</nobr></div>
<div style="position:absolute;top:112634;left:519"><nobr>HU  sends  this  to  the  MD  when  station&nbsp;</nobr></div>
<div style="position:absolute;top:112656;left:519"><nobr>info  or  meta  data  changes  (i.e.  tuned&nbsp;</nobr></div>
<div style="position:absolute;top:112679;left:519"><nobr>to  new  station,  or  RDS  data  changed).&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:112801;left:114"><nobr>Get  Program  List&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:112783;left:264"><nobr>● GetProgramListRequest&nbsp;</nobr></div>
<div style="position:absolute;top:112813;left:264"><nobr>● GetProgramListResponse&nbsp;</nobr></div>
<div style="position:absolute;top:112719;left:519"><nobr>Returns  a  list  of  all  available  stations.&nbsp;</nobr></div>
<div style="position:absolute;top:112742;left:519"><nobr>Since  this  operation  can  be  time&nbsp;</nobr></div>
<div style="position:absolute;top:112764;left:519"><nobr>consuming,  the  HU  may  stream  results&nbsp;</nobr></div>
<div style="position:absolute;top:112787;left:519"><nobr>back  to  the  MD  by  sending  multiple&nbsp;</nobr></div>
<div style="position:absolute;top:112809;left:519"><nobr>response  messages.&nbsp;</nobr></div>
<div style="position:absolute;top:112840;left:519"><nobr>If  a  background  tuner  is  available,  this&nbsp;</nobr></div>
<div style="position:absolute;top:112862;left:519"><nobr>process  uses  that  tuner;  if  unavailable,&nbsp;</nobr></div>
<div style="position:absolute;top:112885;left:519"><nobr>playback  may  be  interrupted  and  radio&nbsp;</nobr></div>
<div style="position:absolute;top:112950;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:112970;left:730"><nobr>95  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:113035;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="96"><b>Page 96</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:113126;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:113151;left:519"><nobr>app  may  mute  radio  to  prevent  sound&nbsp;</nobr></div>
<div style="position:absolute;top:113174;left:519"><nobr>from  being  played  during  program  list&nbsp;</nobr></div>
<div style="position:absolute;top:113196;left:519"><nobr>retrieval.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:113278;left:114"><nobr>Cancel&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:113237;left:264"><nobr>● CancelRadioOperations&nbsp;</nobr></div>
<div style="position:absolute;top:113259;left:291"><nobr>Request&nbsp;</nobr></div>
<div style="position:absolute;top:113290;left:264"><nobr>● CancelRadioOperations&nbsp;</nobr></div>
<div style="position:absolute;top:113312;left:291"><nobr>Response&nbsp;</nobr></div>
<div style="position:absolute;top:113263;left:519"><nobr>Cancels  all  outstanding  radio&nbsp;</nobr></div>
<div style="position:absolute;top:113285;left:519"><nobr>operations.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:113383;left:114"><nobr>Configure&nbsp;</nobr></div>
<div style="position:absolute;top:113405;left:114"><nobr>Channel  Spacing&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:113353;left:264"><nobr>● ConfigureChannelSpacing&nbsp;</nobr></div>
<div style="position:absolute;top:113375;left:291"><nobr>Request&nbsp;</nobr></div>
<div style="position:absolute;top:113406;left:264"><nobr>● ConfigureChannelSpacing&nbsp;</nobr></div>
<div style="position:absolute;top:113428;left:291"><nobr>Response&nbsp;</nobr></div>
<div style="position:absolute;top:113379;left:519"><nobr>Used  in  regions  where  channel  spacing&nbsp;</nobr></div>
<div style="position:absolute;top:113401;left:519"><nobr>is  user  configurable.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:113483;left:114"><nobr>Station  Presets&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:113480;left:264"><nobr>● StationPresetsNotification&nbsp;</nobr></div>
<div style="position:absolute;top:113469;left:519"><nobr>Sent  when  station  presets  have  been&nbsp;</nobr></div>
<div style="position:absolute;top:113491;left:519"><nobr>changed  by  the  user.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:113550;left:114"><nobr>Mute&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:113532;left:264"><nobr>● MuteRadioRequest&nbsp;</nobr></div>
<div style="position:absolute;top:113562;left:264"><nobr>● MuteRadioResponse&nbsp;</nobr></div>
<div style="position:absolute;top:113546;left:519"><nobr>Mutes  radio&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:15px;font-family:Times;color:#434343">
<div style="position:absolute;top:113621;left:114"><nobr>Traffic  Update&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:113603;left:264"><nobr>● GetTrafficUpdateRequest&nbsp;</nobr></div>
<div style="position:absolute;top:113633;left:264"><nobr>● GetTrafficUpdateResponse&nbsp;</nobr></div>
<div style="position:absolute;top:113617;left:519"><nobr>Returns  traffic  updates.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:113672;left:108"><nobr>†  Tuning  to  
the  next  channel  is  performed  asynchronously;  a  separate  
RadioStationInfoNotification  is  sent  to  the&nbsp;</nobr></div>
<div style="position:absolute;top:113688;left:108"><nobr>MD  each  time  the  radio  tunes  to  the  new  station.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:113721;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:113770;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:113770;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:114138;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:114158;left:730"><nobr>96  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:114223;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="97"><b>Page 97</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:114314;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:114333;left:108"><nobr>Example  Radio  Sequences&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:114382;left:108"><nobr>The  following  examples  illustrate  common  radio  use  cases.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:114420;left:108"><nobr>Radio  Playing  During  MD  Connection&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:114453;left:108"><nobr>In  this  example,  the  MD  connects  while  radio  is  playing  on  the  HU.  The  HU  takes  audio  focus&nbsp;</nobr></div>
<div style="position:absolute;top:114475;left:108"><nobr>and  notifies  MD  of  the  active  radio  station.&nbsp;</nobr></div>
<div style="position:absolute;top:114790;left:527"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:114813;left:108"><nobr><b>Figure  39.  </b><font color="#666666">Radio  service  discovery  sequence.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:114846;left:108"><nobr>Tuning  to  Station  in  Projection  Mode&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:114879;left:108"><nobr>In  this  example,  a  user  sets  the  radio  to  95.7  FM  in  projection  mode.&nbsp;</nobr></div>
<div style="position:absolute;top:115239;left:524"><nobr>&nbsp;<font style="font-size:12px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:115262;left:108"><nobr><b>Figure  40.  </b><font color="#666666">Tuning  to  station  in  projection  mode  sequence.</font><font style="font-size:12px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:115326;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:115346;left:730"><nobr>97  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:115411;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="98"><b>Page 98</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:115502;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:115521;left:108"><nobr>Tuning  to  Station  in  Native  Mode&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:115561;left:108"><nobr>In  this  example,  a  user  selects  station  preset  1  to  in  native  mode.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:115732;left:555"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:115770;left:108"><nobr><b>Figure  41.  </b><font color="#666666">Tuning  to  station  in  native  mode  sequence.&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#03a9f4"><span style="font-size:16px;font-family:Times;color:#03a9f4">
<div style="position:absolute;top:115803;left:108"><nobr>Scanning  Stations  in  Projection  Mode&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:115842;left:108"><nobr>In  this  example,  a  user  scans  stations  in  projection  mode.&nbsp;</nobr></div>
<div style="position:absolute;top:116367;left:650"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:116404;left:108"><nobr><b>Figure  42.  </b><font color="#666666">Scanning  stations  in  projection  mode  sequence.</font><font style="font-size:12px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:116452;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:116452;left:221"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:116514;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:116534;left:730"><nobr>98  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:116599;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="99"><b>Page 99</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:116690;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:116725;left:108"><nobr>Audio  Focus  When  Integrating  Radio&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:116773;left:108"><nobr>Audio  focus  for  AAP  is  handled  in  the  same  manner  as  for  other  sources.   If  radio  source  is&nbsp;</nobr></div>
<div style="position:absolute;top:116795;left:108"><nobr>enabled,  the  MD  MUST  release  audio  focus  to  enable  radio  playback.  The  following  diagram&nbsp;</nobr></div>
<div style="position:absolute;top:116818;left:108"><nobr>illustrates  how  audio  focus  is  handled  when  playing  radio.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:117487;left:659"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:117525;left:108"><nobr><b>Figure  43.  </b>Radio  Audio  focus.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:117558;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:117606;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:117606;left:221"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:117702;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:117722;left:730"><nobr>99  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:117787;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="100"><b>Page 100</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:117878;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:117897;left:108"><nobr>Radio  Hard  Buttons&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:117946;left:108"><nobr>The  HU  SHALL  handle  events  for  all  radio  controls:&nbsp;</nobr></div>
<div style="position:absolute;top:117985;left:115"><nobr>● scan  up/down&nbsp;</nobr></div>
<div style="position:absolute;top:118015;left:115"><nobr>● seek  up/down&nbsp;</nobr></div>
<div style="position:absolute;top:118045;left:115"><nobr>● step  up/down&nbsp;</nobr></div>
<div style="position:absolute;top:118076;left:115"><nobr>● preset  next/prev&nbsp;</nobr></div>
<div style="position:absolute;top:118106;left:115"><nobr>● preset  #&nbsp;</nobr></div>
<div style="position:absolute;top:118137;left:115"><nobr>● radio  mode  (i.e.  AM/FM,  etc)&nbsp;</nobr></div>
<div style="position:absolute;top:118167;left:108"><nobr>The  HU  notifies  the  MD  via  corresponding  notification  messages  (i.e.  StepChannelResponse,&nbsp;</nobr></div>
<div style="position:absolute;top:118189;left:108"><nobr>SeekStationResponse,  ScanStationsResponse,  RadioStationInfoNotification  etc).&nbsp;</nobr></div>
<div style="position:absolute;top:118227;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:118227;left:221"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:118890;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:118910;left:721"><nobr>100  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:118975;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="101"><b>Page 101</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:119066;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:119087;left:108"><nobr>Appendix  A:  Vehicle  ID&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:119142;left:108"><nobr>A  valid  Vehicle  ID  SHOULD  exhibit  the  following  properties.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:119180;left:108"><nobr>Unique  ID  per  HU&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:119229;left:108"><nobr>Android  Auto  uses  Vehicle  ID  to  determine  if  the  First  Run  Experience  has  run  on  on  a  given&nbsp;</nobr></div>
<div style="position:absolute;top:119251;left:108"><nobr>head  unit  (HU).  The  Vehicle  ID  MUST  be  unique  to  the  individual  HU,  ie.  not  shared  across&nbsp;</nobr></div>
<div style="position:absolute;top:119274;left:108"><nobr>multiple  HUs  of  the  same  make/model.  The  value  can  be  random,  as  long  as  the  same  value&nbsp;</nobr></div>
<div style="position:absolute;top:119296;left:108"><nobr>is  retained  within  a  HU  until  factory  reset  occurs.&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:119334;left:108"><nobr>Minimum  64  Bits&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:119383;left:108"><nobr>To  reduce  the  chances  of  ID  collision,  Vehicle  IDs  SHOULD  have  at  least  64  bits.   That  is,  at&nbsp;</nobr></div>
<div style="position:absolute;top:119405;left:108"><nobr>least  2^64  values  are  possible  within  the  definition  of  the  ID.&nbsp;</nobr></div>
<div style="position:absolute;top:119443;left:108"><nobr>For  example,  if  an  ID  can  be  made  up  of  the  following  characters:  [A-Z,  a-z,  0-9],  that  gives  62&nbsp;</nobr></div>
<div style="position:absolute;top:119466;left:108"><nobr>possible  values  for  each  character,  which  can  be  represented  by  6  bits  (2^6=64).  To  exceed  64&nbsp;</nobr></div>
<div style="position:absolute;top:119488;left:108"><nobr>bits,  at  least  <b>11  characters </b>would  be  needed  (roundup  64/6).&nbsp;</nobr></div>
<div style="position:absolute;top:119527;left:108"><nobr>Likewise,  if  an  ID  consists  of  [A-Z,  0-9],  each  character  has  36  possible  values,  which  is&nbsp;</nobr></div>
<div style="position:absolute;top:119549;left:108"><nobr>roughly  5  bits  (2^5=32).  The  ID  would  need  <b>13  characters </b>to  cover  64-bit  space  (roundup&nbsp;</nobr></div>
<div style="position:absolute;top:119572;left:108"><nobr>64/5).&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#6ab344"><span style="font-size:21px;font-family:Times;color:#6ab344">
<div style="position:absolute;top:119618;left:108"><nobr>Example:  Generate  Vehicle  ID&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:119665;left:108"><nobr>This  example  generates  a  valid  Vehicle  ID  without  a  factory-written  serial  number.  For  a&nbsp;</nobr></div>
<div style="position:absolute;top:119688;left:108"><nobr>random  number  generated  at  first  boot  (or  factory  reset),  if  the  HU  has  writable  storage  (or&nbsp;</nobr></div>
<div style="position:absolute;top:119710;left:108"><nobr>non-volatile  space):&nbsp;</nobr></div>
<div style="position:absolute;top:119748;left:115"><nobr>1. When  the  sink  implementation  starts  up,  it  looks  for  an  identity  file  (such  as&nbsp;</nobr></div>
<div style="position:absolute;top:119774;left:142"><nobr>/var/gal/identity&nbsp;).&nbsp;</nobr></div>
<div style="position:absolute;top:119801;left:115"><nobr>2. If  the  file  doesn't  exist,  read  (or  generate)  random  128  bits  (such  as  /dev/urandom&nbsp;)  and&nbsp;</nobr></div>
<div style="position:absolute;top:119824;left:142"><nobr>write  it  to  an  identify  file.&nbsp;</nobr></div>
<div style="position:absolute;top:119854;left:115"><nobr>3. Use   ID  as  the  HU  identity  going  forward,  until  the  file  is  deleted  (such  as  during  a  factory&nbsp;</nobr></div>
<div style="position:absolute;top:119877;left:142"><nobr>reset).&nbsp;</nobr></div>
<div style="position:absolute;top:119907;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:119937;left:108"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:119937;left:221"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:120078;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:120098;left:721"><nobr>101  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:120163;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="102"><b>Page 102</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:120254;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="4" face="Times" color="#673ab7"><span style="font-size:27px;font-family:Times;color:#673ab7">
<div style="position:absolute;top:120275;left:108"><nobr>Appendix  B:  Document  History&nbsp;</nobr></div>
</span></font>
<font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:120322;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#000000"><span style="font-size:14px;font-family:Times;color:#000000">
<div style="position:absolute;top:120341;left:115"><nobr>Revision&nbsp; Date&nbsp;</nobr></div>
<div style="position:absolute;top:120341;left:281"><nobr>Changes&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:120374;left:115"><nobr>1.0.0&nbsp;</nobr></div>
<div style="position:absolute;top:120374;left:191"><nobr>5  Sep  2014&nbsp;</nobr></div>
<div style="position:absolute;top:120375;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120374;left:335"><nobr>Applying  new  template.&nbsp;</nobr></div>
<div style="position:absolute;top:120396;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120396;left:335"><nobr>Name  change  (GAL  to  AAP).&nbsp;</nobr></div>
<div style="position:absolute;top:120417;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120417;left:335"><nobr>Adding  Audio  Focus  details.&nbsp;</nobr></div>
<div style="position:absolute;top:120439;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120438;left:335"><nobr>Remove  “Use  Cases”  section.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:120460;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120460;left:335"><nobr>Remove  Wi-Fi  transport  details.&nbsp;</nobr></div>
<div style="position:absolute;top:120482;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120481;left:335"><nobr>Remove  Radio.&nbsp;</nobr></div>
<div style="position:absolute;top:120503;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120503;left:335"><nobr>Rationalize  with  Protocol.&nbsp;</nobr></div>
<div style="position:absolute;top:120524;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120524;left:335"><nobr>Added  Authorize  Connection  sub-section  on  Service  Discovery.&nbsp;</nobr></div>
<div style="position:absolute;top:120546;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120545;left:335"><nobr>Additional  detail  on  navigation  sensor  requirements.&nbsp;</nobr></div>
<div style="position:absolute;top:120567;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120567;left:335"><nobr>Rewrote  connection  establishment  section  and  Bluetooth  related  sections.&nbsp;</nobr></div>
<div style="position:absolute;top:120600;left:115"><nobr>1.0.1&nbsp;</nobr></div>
<div style="position:absolute;top:120600;left:191"><nobr>29  Sep  2014&nbsp;</nobr></div>
<div style="position:absolute;top:120601;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120600;left:335"><nobr>Clarified  required  resolutions:  MD  may  send  800x480  at  any  time.&nbsp;</nobr></div>
<div style="position:absolute;top:120622;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120622;left:335"><nobr>Changed  name  of  product  to  Android  Auto.&nbsp;</nobr></div>
<div style="position:absolute;top:120644;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120643;left:335"><nobr>Clarified  A2DP  handling.&nbsp;</nobr></div>
<div style="position:absolute;top:120665;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120665;left:335"><nobr>Clarified  navigation  sensor  exception  process.&nbsp;</nobr></div>
<div style="position:absolute;top:120698;left:115"><nobr>1.0.2&nbsp;</nobr></div>
<div style="position:absolute;top:120698;left:191"><nobr>08  Jul  2015&nbsp;</nobr></div>
<div style="position:absolute;top:120699;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120698;left:335"><nobr>HFP  connection  not  required  to  complete  AAP  handshake.</nobr></div>
<div style="position:absolute;top:120698;left:713"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:120720;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120720;left:335"><nobr>Added  500ms  timeout  for  MD  waiting  for  Audio  Focus  grant  from  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:120741;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120741;left:335"><nobr>In  Configuring  AOAP  table,  changed  manufacturer  from  Google  to  Android&nbsp;</nobr></div>
<div style="position:absolute;top:120760;left:335"><nobr>and  Description  from  &lt;empty&gt;  to  Android  Auto.</nobr></div>
<div style="position:absolute;top:120760;left:659"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:120782;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120782;left:335"><nobr>Updated  Current  Gear  information  to  specify  “Park”  criteria.&nbsp;</nobr></div>
<div style="position:absolute;top:120803;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120803;left:335"><nobr>Removed  1  Hz  GPS  requirement.&nbsp;</nobr></div>
<div style="position:absolute;top:120825;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120824;left:335"><nobr>Clarified  that  vehicle  data  MUST  never  be  faked.&nbsp;</nobr></div>
<div style="position:absolute;top:120846;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120846;left:335"><nobr>Added  description  to  Vehicle_ID.&nbsp;</nobr></div>
<div style="position:absolute;top:120867;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120867;left:335"><nobr>Clarified  call  handling  and  HFP/button  send  requirements.&nbsp;</nobr></div>
<div style="position:absolute;top:120889;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120888;left:335"><nobr>Changed  Current  Gear  from  required  to  OPTIONAL,  clarified  usage.&nbsp;</nobr></div>
<div style="position:absolute;top:120910;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120910;left:335"><nobr>Clarified  conflict  resolution  behaviour  when  Android  Auto  connected  with&nbsp;</nobr></div>
<div style="position:absolute;top:120929;left:335"><nobr>navigation  running  on  both  MD  and  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:120951;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120950;left:335"><nobr>Separate  video  resolution  from  frame  rate.&nbsp;</nobr></div>
<div style="position:absolute;top:120972;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120972;left:335"><nobr>Clarified  desired  semantics  of  day/night  mode  flag.&nbsp;</nobr></div>
<div style="position:absolute;top:120993;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:120993;left:335"><nobr>Clarified  AAP  session  persists  even  if  not  visible  on  HU  screen.&nbsp;</nobr></div>
<div style="position:absolute;top:121015;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121014;left:335"><nobr>Updated  audio  stream  requirements:  PCM  required,  AAC-LC  OPTIONAL.&nbsp;</nobr></div>
<div style="position:absolute;top:121036;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121036;left:335"><nobr>Clarified  KEYCODE_SEARCH  SHOULD  be  reported  if  a  physical  speech&nbsp;</nobr></div>
<div style="position:absolute;top:121055;left:335"><nobr>button  exists.&nbsp;</nobr></div>
<div style="position:absolute;top:121077;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121076;left:335"><nobr>Touch  events  allowed  while  native  OSD  visible  in  some  cases.&nbsp;</nobr></div>
<div style="position:absolute;top:121098;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121098;left:335"><nobr>Clarified  navigation  focus  handling.&nbsp;</nobr></div>
<div style="position:absolute;top:121119;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121119;left:335"><nobr>Added  table  to  clarify  channel  terminology  to  stream  terminology.&nbsp;</nobr></div>
<div style="position:absolute;top:121141;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121140;left:335"><nobr>Clarified  position  on  RSAP,  PAN,  MAP  Bluetooth  profiles.&nbsp;</nobr></div>
<div style="position:absolute;top:121162;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121162;left:335"><nobr>ASR  (formerly  VR)  section  split  into  updated  reqs  and  recommendations.&nbsp;</nobr></div>
<div style="position:absolute;top:121184;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121183;left:335"><nobr>ASR  triggering  (HU  vs  MD)  policy  updated.&nbsp;</nobr></div>
<div style="position:absolute;top:121205;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121205;left:335"><nobr>Added  open  source  components.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:121266;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:121286;left:721"><nobr>102  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:121351;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="103"><b>Page 103</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:121442;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:121469;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121469;left:335"><nobr>Added  guidance  on  native  HMI  during  First  Run  prior  to  MD  video&nbsp;</nobr></div>
<div style="position:absolute;top:121488;left:335"><nobr>projection.&nbsp;</nobr></div>
<div style="position:absolute;top:121510;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121509;left:335"><nobr>Changed  RECOMMENDED  audio  encoding  from  AAC  to  PCM.&nbsp;</nobr></div>
<div style="position:absolute;top:121543;left:115"><nobr>1.2.0&nbsp;</nobr></div>
<div style="position:absolute;top:121543;left:191"><nobr>03  Dec  15&nbsp;</nobr></div>
<div style="position:absolute;top:121544;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121543;left:335"><nobr>A2DP:  clearer  statement  that  is  can  be  enabled  during  AAP  connection,  and&nbsp;</nobr></div>
<div style="position:absolute;top:121562;left:335"><nobr>provide  an  example  of  audio  focus  handling.&nbsp;</nobr></div>
<div style="position:absolute;top:121584;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121584;left:335"><nobr>h.264  decoder  SHALL  handle  variable  rate  stream&nbsp;</nobr></div>
<div style="position:absolute;top:121605;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121605;left:335"><nobr>Compass  sensor  may  include  gyro  stabilization&nbsp;</nobr></div>
<div style="position:absolute;top:121627;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121626;left:335"><nobr>Clarified  the  policy  on  requirements,  frequencies  and  axes  for  a  set  of&nbsp;</nobr></div>
<div style="position:absolute;top:121646;left:335"><nobr>sensors:  light  OPTIONAL,  explicitly  state  that  1-axis  accel  and  gyros  are  ok,&nbsp;</nobr></div>
<div style="position:absolute;top:121665;left:335"><nobr>relax  frequency  requirements  to  1  Hz.&nbsp;</nobr></div>
<div style="position:absolute;top:121686;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121686;left:335"><nobr>Clarified  on  gyro,  accelerometer  sensors.&nbsp;</nobr></div>
<div style="position:absolute;top:121708;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121707;left:335"><nobr>Added  GPS  location  clarification.&nbsp;</nobr></div>
<div style="position:absolute;top:121729;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121729;left:335"><nobr>Clarified  differences  between  next  turn  image  and  next  turn  enum&nbsp;</nobr></div>
<div style="position:absolute;top:121751;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121750;left:335"><nobr>Clarified  that  voice  button  SHOULD  be  a  dedicated  button.&nbsp;</nobr></div>
<div style="position:absolute;top:121772;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121772;left:335"><nobr>Added  more  precise  minimum  screen  size  requirements&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:121793;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121793;left:335"><nobr>Added  suggestion  that  additional  devices  charge  to  avoid  complicated&nbsp;</nobr></div>
<div style="position:absolute;top:121812;left:335"><nobr>multiple  device  scenarios.&nbsp;</nobr></div>
<div style="position:absolute;top:121834;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121833;left:335"><nobr>Clarified  information  that  SHOULD  be  sent  in  Head_Unit_Make,&nbsp;</nobr></div>
<div style="position:absolute;top:121853;left:335"><nobr>Head_Unit_Model,  Head_Unit_Software_Build  and&nbsp;</nobr></div>
<div style="position:absolute;top:121872;left:335"><nobr>Head_Unit_Software_Version.&nbsp;</nobr></div>
<div style="position:absolute;top:121893;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121893;left:335"><nobr>Clarified  that  during  connection  setup,   video  focus  MUST  NOT  be  granted&nbsp;</nobr></div>
<div style="position:absolute;top:121912;left:335"><nobr>to  the  MD  by  the  HU  (VIDEO_FOCUS_PROJECTED)  until&nbsp;</nobr></div>
<div style="position:absolute;top:121931;left:335"><nobr>VideoSink::setupCallback()  has  been  called.&nbsp;</nobr></div>
<div style="position:absolute;top:121953;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121953;left:335"><nobr>Added  guidance  on  Audio  Focus  request  handling  in  cases  where  HU  setup&nbsp;</nobr></div>
<div style="position:absolute;top:121972;left:335"><nobr>takes  time.&nbsp;</nobr></div>
<div style="position:absolute;top:121994;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:121993;left:335"><nobr>Added  that  MD  plugged  in  before  car  powered  on  SHOULD  also  initiate&nbsp;</nobr></div>
<div style="position:absolute;top:122012;left:335"><nobr>connection.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:122034;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122034;left:335"><nobr>Changed  total  combined  latency  target  to  250ms  from  200ms  inline  with&nbsp;</nobr></div>
<div style="position:absolute;top:122053;left:335"><nobr>performance  test  requirements  (Figure  15).&nbsp;</nobr></div>
<div style="position:absolute;top:122075;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122074;left:335"><nobr>Added  guidance  around  audio  buffering.&nbsp;</nobr></div>
<div style="position:absolute;top:122096;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122096;left:335"><nobr>Clarified  handling  of  ASR  hard  keys  during  VR  sessions.&nbsp;</nobr></div>
<div style="position:absolute;top:122117;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122117;left:335"><nobr>Added  description  of   00000  drive  level  setting.&nbsp;</nobr></div>
<div style="position:absolute;top:122139;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122138;left:335"><nobr>Clarified  KEYCODE_BACK  does  not  cause  Android  Auto  to  lose  video  focus.&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:122160;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122160;left:335"><nobr>Added  more  detail  to  description  of  KEYCODE_ROTARY_CONTROLLER.&nbsp;</nobr></div>
<div style="position:absolute;top:122181;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122181;left:335"><nobr>Added  documentation  for  Vehicle  Data  interfaces  available  from  GAL  v1.0&nbsp;</nobr></div>
<div style="position:absolute;top:122200;left:335"><nobr>but  not  covered  in  HUIG.&nbsp;</nobr></div>
<div style="position:absolute;top:122222;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122222;left:335"><nobr>Updates  for  AAP  v1.2&nbsp;&nbsp;</nobr></div>
<div style="position:absolute;top:122243;left:362"><nobr>○</nobr></div>
<div style="position:absolute;top:122243;left:389"><nobr>New  video  focus  Native  Transient.&nbsp;</nobr></div>
<div style="position:absolute;top:122265;left:362"><nobr>○</nobr></div>
<div style="position:absolute;top:122264;left:389"><nobr>Session  Configuration  added  to  Service  Discovery  parameters.&nbsp;</nobr></div>
<div style="position:absolute;top:122286;left:362"><nobr>○</nobr></div>
<div style="position:absolute;top:122286;left:389"><nobr>HU  can  report  pixel  aspect  ratio  to  MD  to  receive  video  corrected&nbsp;</nobr></div>
<div style="position:absolute;top:122305;left:389"><nobr>for  non-square  pixels.&nbsp;</nobr></div>
<div style="position:absolute;top:122327;left:362"><nobr>○</nobr></div>
<div style="position:absolute;top:122326;left:389"><nobr>Temporary  and  permanent  sensor  errors  can  be  reported  to  MD&nbsp;</nobr></div>
<div style="position:absolute;top:122345;left:389"><nobr>when  identified  by  the  HU.&nbsp;</nobr></div>
<div style="position:absolute;top:122367;left:362"><nobr>○</nobr></div>
<div style="position:absolute;top:122367;left:389"><nobr>HU  SHOULD  report  transformations  performed  on  GPS  data  using&nbsp;</nobr></div>
<div style="position:absolute;top:122386;left:389"><nobr>locationCharacterization.&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:122454;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:122474;left:721"><nobr>103  of  104&nbsp;</nobr></div>
</span></font>

<div style="position:absolute;top:122539;left:0"><hr><table width="100%" border="0"><tbody><tr><td bgcolor="eeeeee" align="right"><font face="arial,sans-serif"><a name="104"><b>Page 104</b></a></font></td></tr></tbody></table></div><font size="2" face="Times" color="#434343"><span style="font-size:7px;font-family:Times;color:#434343">
<div style="position:absolute;top:122630;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:11px;font-family:Times;color:#434343">
<div style="position:absolute;top:122657;left:362"><nobr>○</nobr></div>
<div style="position:absolute;top:122657;left:389"><nobr>Added  new  key  events.&nbsp;</nobr></div>
<div style="position:absolute;top:122679;left:362"><nobr>○</nobr></div>
<div style="position:absolute;top:122678;left:389"><nobr>Added  more  gear  states.&nbsp;</nobr></div>
<div style="position:absolute;top:122700;left:362"><nobr>○</nobr></div>
<div style="position:absolute;top:122700;left:389"><nobr>Added  documentation  for  integrating  touchpad  as  primary  input&nbsp;</nobr></div>
<div style="position:absolute;top:122719;left:389"><nobr>device.&nbsp;</nobr></div>
<div style="position:absolute;top:122741;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122740;left:335"><nobr>New  doc  template  applied.&nbsp;</nobr></div>
<div style="position:absolute;top:122762;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122762;left:335"><nobr>Updated  BT  connection  diagrams  for  previously-paired  and  never-paired&nbsp;</nobr></div>
<div style="position:absolute;top:122781;left:335"><nobr>MDs.&nbsp;</nobr></div>
<div style="position:absolute;top:122802;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122802;left:335"><nobr>Removed  requirement  that  Hands-Free  Profile  (HFP)  connections  to  other&nbsp;</nobr></div>
<div style="position:absolute;top:122821;left:335"><nobr>devices  be  disconnected  in  preparation  for  BT  pairing.&nbsp;</nobr></div>
<div style="position:absolute;top:122843;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122843;left:335"><nobr>Added  new  section  Integrating  Vendor  Extension  Channels.&nbsp;</nobr></div>
<div style="position:absolute;top:122864;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122864;left:335"><nobr>Added  new  section  Integrating  Radio.&nbsp;</nobr></div>
<div style="position:absolute;top:122886;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122885;left:335"><nobr>Added  new  diagram  on  determining  if  MD  supports  AAP.</nobr></div>
<div style="position:absolute;top:122885;left:713"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:122919;left:115"><nobr>1.2.1&nbsp;</nobr></div>
<div style="position:absolute;top:122919;left:191"><nobr>29  Mar  16&nbsp;</nobr></div>
<div style="position:absolute;top:122919;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122919;left:335"><nobr>HU  MUST  notify  user  if  max  number  of  BT  HFP  connections  has  been&nbsp;</nobr></div>
<div style="position:absolute;top:122938;left:335"><nobr>exceeded,  thus  blocking  AAP  connection.&nbsp;</nobr></div>
<div style="position:absolute;top:122959;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122960;left:335"><nobr>Added  USB  power,  USB  hub  requirements.&nbsp;</nobr></div>
<div style="position:absolute;top:122980;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:122981;left:335"><nobr>Clarified  AAP  Connection  Flow  requirements  to  avoid  SSL  context.  failures&nbsp;</nobr></div>
<div style="position:absolute;top:123000;left:335"><nobr>and  timeout  for  slower  phone  response.&nbsp;</nobr></div>
<div style="position:absolute;top:123021;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:123021;left:335"><nobr>Removed  references  to  h.264  Main  Profile  in  favor  of  Baseline  Profile.&nbsp;</nobr></div>
<div style="position:absolute;top:123042;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:123043;left:335"><nobr>Updated  to  RFC2119  language.&nbsp;</nobr></div>
<div style="position:absolute;top:123064;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:123064;left:335"><nobr>Changed  audio  setup  latency  from  200ms  to  500ms.&nbsp;</nobr></div>
<div style="position:absolute;top:123085;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:123086;left:335"><nobr>Updated  some  old  diagrams.</nobr></div>
<div style="position:absolute;top:123086;left:551"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:123119;left:115"><nobr>1.3.0&nbsp;</nobr></div>
<div style="position:absolute;top:123119;left:191"><nobr>10  Aug  16&nbsp;</nobr></div>
<div style="position:absolute;top:123119;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:123119;left:335"><nobr>Added  VR  button  guidance&nbsp;</nobr></div>
<div style="position:absolute;top:123140;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:123141;left:335"><nobr>BT  HFP  recommended  during  FRX,  not  mandatory&nbsp;</nobr></div>
<div style="position:absolute;top:123162;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:123162;left:335"><nobr>Preferred  behaviour  when  max  BT  connections  reached.&nbsp;</nobr></div>
<div style="position:absolute;top:123183;left:308"><nobr>●</nobr></div>
<div style="position:absolute;top:123183;left:335"><nobr>Revised  USB  connection  flow  descriptions<font style="font-size:14px">&nbsp;</font></nobr></div>
</span></font>
<font size="3" face="Times"><span style="font-size:14px;font-family:Times">
<div style="position:absolute;top:123211;left:108"><nobr>&nbsp;</nobr></div>
</span></font>
<font size="3" face="Times" color="#434343"><span style="font-size:14px;font-family:Times;color:#434343">
<div style="position:absolute;top:123642;left:242"><nobr>&nbsp;</nobr></div>
<div style="position:absolute;top:123662;left:721"><nobr>104  of  104&nbsp;</nobr></div>
</span></font>


</div></body></html>